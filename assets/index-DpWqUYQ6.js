(function(){const n=document.createElement("link").relList;if(n&&n.supports&&n.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))a(s);new MutationObserver(s=>{for(const c of s)if(c.type==="childList")for(const d of c.addedNodes)d.tagName==="LINK"&&d.rel==="modulepreload"&&a(d)}).observe(document,{childList:!0,subtree:!0});function l(s){const c={};return s.integrity&&(c.integrity=s.integrity),s.referrerPolicy&&(c.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?c.credentials="include":s.crossOrigin==="anonymous"?c.credentials="omit":c.credentials="same-origin",c}function a(s){if(s.ep)return;s.ep=!0;const c=l(s);fetch(s.href,c)}})();var Da=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function Eu(i){return i&&i.__esModule&&Object.prototype.hasOwnProperty.call(i,"default")?i.default:i}var iu={exports:{}},pl={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Nh;function l0(){if(Nh)return pl;Nh=1;var i=Symbol.for("react.transitional.element"),n=Symbol.for("react.fragment");function l(a,s,c){var d=null;if(c!==void 0&&(d=""+c),s.key!==void 0&&(d=""+s.key),"key"in s){c={};for(var p in s)p!=="key"&&(c[p]=s[p])}else c=s;return s=c.ref,{$$typeof:i,type:a,key:d,ref:s!==void 0?s:null,props:c}}return pl.Fragment=n,pl.jsx=l,pl.jsxs=l,pl}var Ih;function a0(){return Ih||(Ih=1,iu.exports=l0()),iu.exports}var D=a0(),ou={exports:{}},Be={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Dh;function r0(){if(Dh)return Be;Dh=1;var i=Symbol.for("react.transitional.element"),n=Symbol.for("react.portal"),l=Symbol.for("react.fragment"),a=Symbol.for("react.strict_mode"),s=Symbol.for("react.profiler"),c=Symbol.for("react.consumer"),d=Symbol.for("react.context"),p=Symbol.for("react.forward_ref"),g=Symbol.for("react.suspense"),m=Symbol.for("react.memo"),v=Symbol.for("react.lazy"),_=Symbol.for("react.activity"),S=Symbol.iterator;function T(b){return b===null||typeof b!="object"?null:(b=S&&b[S]||b["@@iterator"],typeof b=="function"?b:null)}var R={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},A=Object.assign,M={};function w(b,k,ne){this.props=b,this.context=k,this.refs=M,this.updater=ne||R}w.prototype.isReactComponent={},w.prototype.setState=function(b,k){if(typeof b!="object"&&typeof b!="function"&&b!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,b,k,"setState")},w.prototype.forceUpdate=function(b){this.updater.enqueueForceUpdate(this,b,"forceUpdate")};function I(){}I.prototype=w.prototype;function U(b,k,ne){this.props=b,this.context=k,this.refs=M,this.updater=ne||R}var G=U.prototype=new I;G.constructor=U,A(G,w.prototype),G.isPureReactComponent=!0;var B=Array.isArray;function K(){}var H={H:null,A:null,T:null,S:null},j=Object.prototype.hasOwnProperty;function Y(b,k,ne){var ie=ne.ref;return{$$typeof:i,type:b,key:k,ref:ie!==void 0?ie:null,props:ne}}function oe(b,k){return Y(b.type,k,b.props)}function ye(b){return typeof b=="object"&&b!==null&&b.$$typeof===i}function L(b){var k={"=":"=0",":":"=2"};return"$"+b.replace(/[=:]/g,function(ne){return k[ne]})}var le=/\/+/g;function x(b,k){return typeof b=="object"&&b!==null&&b.key!=null?L(""+b.key):k.toString(36)}function J(b){switch(b.status){case"fulfilled":return b.value;case"rejected":throw b.reason;default:switch(typeof b.status=="string"?b.then(K,K):(b.status="pending",b.then(function(k){b.status==="pending"&&(b.status="fulfilled",b.value=k)},function(k){b.status==="pending"&&(b.status="rejected",b.reason=k)})),b.status){case"fulfilled":return b.value;case"rejected":throw b.reason}}throw b}function V(b,k,ne,ie,se){var Ce=typeof b;(Ce==="undefined"||Ce==="boolean")&&(b=null);var Ue=!1;if(b===null)Ue=!0;else switch(Ce){case"bigint":case"string":case"number":Ue=!0;break;case"object":switch(b.$$typeof){case i:case n:Ue=!0;break;case v:return Ue=b._init,V(Ue(b._payload),k,ne,ie,se)}}if(Ue)return se=se(b),Ue=ie===""?"."+x(b,0):ie,B(se)?(ne="",Ue!=null&&(ne=Ue.replace(le,"$&/")+"/"),V(se,k,ne,"",function(je){return je})):se!=null&&(ye(se)&&(se=oe(se,ne+(se.key==null||b&&b.key===se.key?"":(""+se.key).replace(le,"$&/")+"/")+Ue)),k.push(se)),1;Ue=0;var Re=ie===""?".":ie+":";if(B(b))for(var Ne=0;Ne<b.length;Ne++)ie=b[Ne],Ce=Re+x(ie,Ne),Ue+=V(ie,k,ne,Ce,se);else if(Ne=T(b),typeof Ne=="function")for(b=Ne.call(b),Ne=0;!(ie=b.next()).done;)ie=ie.value,Ce=Re+x(ie,Ne++),Ue+=V(ie,k,ne,Ce,se);else if(Ce==="object"){if(typeof b.then=="function")return V(J(b),k,ne,ie,se);throw k=String(b),Error("Objects are not valid as a React child (found: "+(k==="[object Object]"?"object with keys {"+Object.keys(b).join(", ")+"}":k)+"). If you meant to render a collection of children, use an array instead.")}return Ue}function F(b,k,ne){if(b==null)return b;var ie=[],se=0;return V(b,ie,"","",function(Ce){return k.call(ne,Ce,se++)}),ie}function me(b){if(b._status===-1){var k=b._result;k=k(),k.then(function(ne){(b._status===0||b._status===-1)&&(b._status=1,b._result=ne)},function(ne){(b._status===0||b._status===-1)&&(b._status=2,b._result=ne)}),b._status===-1&&(b._status=0,b._result=k)}if(b._status===1)return b._result.default;throw b._result}var Z=typeof reportError=="function"?reportError:function(b){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var k=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof b=="object"&&b!==null&&typeof b.message=="string"?String(b.message):String(b),error:b});if(!window.dispatchEvent(k))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",b);return}console.error(b)},de={map:F,forEach:function(b,k,ne){F(b,function(){k.apply(this,arguments)},ne)},count:function(b){var k=0;return F(b,function(){k++}),k},toArray:function(b){return F(b,function(k){return k})||[]},only:function(b){if(!ye(b))throw Error("React.Children.only expected to receive a single React element child.");return b}};return Be.Activity=_,Be.Children=de,Be.Component=w,Be.Fragment=l,Be.Profiler=s,Be.PureComponent=U,Be.StrictMode=a,Be.Suspense=g,Be.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=H,Be.__COMPILER_RUNTIME={__proto__:null,c:function(b){return H.H.useMemoCache(b)}},Be.cache=function(b){return function(){return b.apply(null,arguments)}},Be.cacheSignal=function(){return null},Be.cloneElement=function(b,k,ne){if(b==null)throw Error("The argument must be a React element, but you passed "+b+".");var ie=A({},b.props),se=b.key;if(k!=null)for(Ce in k.key!==void 0&&(se=""+k.key),k)!j.call(k,Ce)||Ce==="key"||Ce==="__self"||Ce==="__source"||Ce==="ref"&&k.ref===void 0||(ie[Ce]=k[Ce]);var Ce=arguments.length-2;if(Ce===1)ie.children=ne;else if(1<Ce){for(var Ue=Array(Ce),Re=0;Re<Ce;Re++)Ue[Re]=arguments[Re+2];ie.children=Ue}return Y(b.type,se,ie)},Be.createContext=function(b){return b={$$typeof:d,_currentValue:b,_currentValue2:b,_threadCount:0,Provider:null,Consumer:null},b.Provider=b,b.Consumer={$$typeof:c,_context:b},b},Be.createElement=function(b,k,ne){var ie,se={},Ce=null;if(k!=null)for(ie in k.key!==void 0&&(Ce=""+k.key),k)j.call(k,ie)&&ie!=="key"&&ie!=="__self"&&ie!=="__source"&&(se[ie]=k[ie]);var Ue=arguments.length-2;if(Ue===1)se.children=ne;else if(1<Ue){for(var Re=Array(Ue),Ne=0;Ne<Ue;Ne++)Re[Ne]=arguments[Ne+2];se.children=Re}if(b&&b.defaultProps)for(ie in Ue=b.defaultProps,Ue)se[ie]===void 0&&(se[ie]=Ue[ie]);return Y(b,Ce,se)},Be.createRef=function(){return{current:null}},Be.forwardRef=function(b){return{$$typeof:p,render:b}},Be.isValidElement=ye,Be.lazy=function(b){return{$$typeof:v,_payload:{_status:-1,_result:b},_init:me}},Be.memo=function(b,k){return{$$typeof:m,type:b,compare:k===void 0?null:k}},Be.startTransition=function(b){var k=H.T,ne={};H.T=ne;try{var ie=b(),se=H.S;se!==null&&se(ne,ie),typeof ie=="object"&&ie!==null&&typeof ie.then=="function"&&ie.then(K,Z)}catch(Ce){Z(Ce)}finally{k!==null&&ne.types!==null&&(k.types=ne.types),H.T=k}},Be.unstable_useCacheRefresh=function(){return H.H.useCacheRefresh()},Be.use=function(b){return H.H.use(b)},Be.useActionState=function(b,k,ne){return H.H.useActionState(b,k,ne)},Be.useCallback=function(b,k){return H.H.useCallback(b,k)},Be.useContext=function(b){return H.H.useContext(b)},Be.useDebugValue=function(){},Be.useDeferredValue=function(b,k){return H.H.useDeferredValue(b,k)},Be.useEffect=function(b,k){return H.H.useEffect(b,k)},Be.useEffectEvent=function(b){return H.H.useEffectEvent(b)},Be.useId=function(){return H.H.useId()},Be.useImperativeHandle=function(b,k,ne){return H.H.useImperativeHandle(b,k,ne)},Be.useInsertionEffect=function(b,k){return H.H.useInsertionEffect(b,k)},Be.useLayoutEffect=function(b,k){return H.H.useLayoutEffect(b,k)},Be.useMemo=function(b,k){return H.H.useMemo(b,k)},Be.useOptimistic=function(b,k){return H.H.useOptimistic(b,k)},Be.useReducer=function(b,k,ne){return H.H.useReducer(b,k,ne)},Be.useRef=function(b){return H.H.useRef(b)},Be.useState=function(b){return H.H.useState(b)},Be.useSyncExternalStore=function(b,k,ne){return H.H.useSyncExternalStore(b,k,ne)},Be.useTransition=function(){return H.H.useTransition()},Be.version="19.2.0",Be}var Uh;function Cu(){return Uh||(Uh=1,ou.exports=r0()),ou.exports}var Te=Cu();const s0=Eu(Te);var lu={exports:{}},ml={},au={exports:{}},ru={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var kh;function u0(){return kh||(kh=1,(function(i){function n(V,F){var me=V.length;V.push(F);e:for(;0<me;){var Z=me-1>>>1,de=V[Z];if(0<s(de,F))V[Z]=F,V[me]=de,me=Z;else break e}}function l(V){return V.length===0?null:V[0]}function a(V){if(V.length===0)return null;var F=V[0],me=V.pop();if(me!==F){V[0]=me;e:for(var Z=0,de=V.length,b=de>>>1;Z<b;){var k=2*(Z+1)-1,ne=V[k],ie=k+1,se=V[ie];if(0>s(ne,me))ie<de&&0>s(se,ne)?(V[Z]=se,V[ie]=me,Z=ie):(V[Z]=ne,V[k]=me,Z=k);else if(ie<de&&0>s(se,me))V[Z]=se,V[ie]=me,Z=ie;else break e}}return F}function s(V,F){var me=V.sortIndex-F.sortIndex;return me!==0?me:V.id-F.id}if(i.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var c=performance;i.unstable_now=function(){return c.now()}}else{var d=Date,p=d.now();i.unstable_now=function(){return d.now()-p}}var g=[],m=[],v=1,_=null,S=3,T=!1,R=!1,A=!1,M=!1,w=typeof setTimeout=="function"?setTimeout:null,I=typeof clearTimeout=="function"?clearTimeout:null,U=typeof setImmediate<"u"?setImmediate:null;function G(V){for(var F=l(m);F!==null;){if(F.callback===null)a(m);else if(F.startTime<=V)a(m),F.sortIndex=F.expirationTime,n(g,F);else break;F=l(m)}}function B(V){if(A=!1,G(V),!R)if(l(g)!==null)R=!0,K||(K=!0,L());else{var F=l(m);F!==null&&J(B,F.startTime-V)}}var K=!1,H=-1,j=5,Y=-1;function oe(){return M?!0:!(i.unstable_now()-Y<j)}function ye(){if(M=!1,K){var V=i.unstable_now();Y=V;var F=!0;try{e:{R=!1,A&&(A=!1,I(H),H=-1),T=!0;var me=S;try{t:{for(G(V),_=l(g);_!==null&&!(_.expirationTime>V&&oe());){var Z=_.callback;if(typeof Z=="function"){_.callback=null,S=_.priorityLevel;var de=Z(_.expirationTime<=V);if(V=i.unstable_now(),typeof de=="function"){_.callback=de,G(V),F=!0;break t}_===l(g)&&a(g),G(V)}else a(g);_=l(g)}if(_!==null)F=!0;else{var b=l(m);b!==null&&J(B,b.startTime-V),F=!1}}break e}finally{_=null,S=me,T=!1}F=void 0}}finally{F?L():K=!1}}}var L;if(typeof U=="function")L=function(){U(ye)};else if(typeof MessageChannel<"u"){var le=new MessageChannel,x=le.port2;le.port1.onmessage=ye,L=function(){x.postMessage(null)}}else L=function(){w(ye,0)};function J(V,F){H=w(function(){V(i.unstable_now())},F)}i.unstable_IdlePriority=5,i.unstable_ImmediatePriority=1,i.unstable_LowPriority=4,i.unstable_NormalPriority=3,i.unstable_Profiling=null,i.unstable_UserBlockingPriority=2,i.unstable_cancelCallback=function(V){V.callback=null},i.unstable_forceFrameRate=function(V){0>V||125<V?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):j=0<V?Math.floor(1e3/V):5},i.unstable_getCurrentPriorityLevel=function(){return S},i.unstable_next=function(V){switch(S){case 1:case 2:case 3:var F=3;break;default:F=S}var me=S;S=F;try{return V()}finally{S=me}},i.unstable_requestPaint=function(){M=!0},i.unstable_runWithPriority=function(V,F){switch(V){case 1:case 2:case 3:case 4:case 5:break;default:V=3}var me=S;S=V;try{return F()}finally{S=me}},i.unstable_scheduleCallback=function(V,F,me){var Z=i.unstable_now();switch(typeof me=="object"&&me!==null?(me=me.delay,me=typeof me=="number"&&0<me?Z+me:Z):me=Z,V){case 1:var de=-1;break;case 2:de=250;break;case 5:de=1073741823;break;case 4:de=1e4;break;default:de=5e3}return de=me+de,V={id:v++,callback:F,priorityLevel:V,startTime:me,expirationTime:de,sortIndex:-1},me>Z?(V.sortIndex=me,n(m,V),l(g)===null&&V===l(m)&&(A?(I(H),H=-1):A=!0,J(B,me-Z))):(V.sortIndex=de,n(g,V),R||T||(R=!0,K||(K=!0,L()))),V},i.unstable_shouldYield=oe,i.unstable_wrapCallback=function(V){var F=S;return function(){var me=S;S=F;try{return V.apply(this,arguments)}finally{S=me}}}})(ru)),ru}var zh;function c0(){return zh||(zh=1,au.exports=u0()),au.exports}var su={exports:{}},Nt={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Lh;function f0(){if(Lh)return Nt;Lh=1;var i=Cu();function n(g){var m="https://react.dev/errors/"+g;if(1<arguments.length){m+="?args[]="+encodeURIComponent(arguments[1]);for(var v=2;v<arguments.length;v++)m+="&args[]="+encodeURIComponent(arguments[v])}return"Minified React error #"+g+"; visit "+m+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function l(){}var a={d:{f:l,r:function(){throw Error(n(522))},D:l,C:l,L:l,m:l,X:l,S:l,M:l},p:0,findDOMNode:null},s=Symbol.for("react.portal");function c(g,m,v){var _=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:s,key:_==null?null:""+_,children:g,containerInfo:m,implementation:v}}var d=i.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function p(g,m){if(g==="font")return"";if(typeof m=="string")return m==="use-credentials"?m:""}return Nt.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=a,Nt.createPortal=function(g,m){var v=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!m||m.nodeType!==1&&m.nodeType!==9&&m.nodeType!==11)throw Error(n(299));return c(g,m,null,v)},Nt.flushSync=function(g){var m=d.T,v=a.p;try{if(d.T=null,a.p=2,g)return g()}finally{d.T=m,a.p=v,a.d.f()}},Nt.preconnect=function(g,m){typeof g=="string"&&(m?(m=m.crossOrigin,m=typeof m=="string"?m==="use-credentials"?m:"":void 0):m=null,a.d.C(g,m))},Nt.prefetchDNS=function(g){typeof g=="string"&&a.d.D(g)},Nt.preinit=function(g,m){if(typeof g=="string"&&m&&typeof m.as=="string"){var v=m.as,_=p(v,m.crossOrigin),S=typeof m.integrity=="string"?m.integrity:void 0,T=typeof m.fetchPriority=="string"?m.fetchPriority:void 0;v==="style"?a.d.S(g,typeof m.precedence=="string"?m.precedence:void 0,{crossOrigin:_,integrity:S,fetchPriority:T}):v==="script"&&a.d.X(g,{crossOrigin:_,integrity:S,fetchPriority:T,nonce:typeof m.nonce=="string"?m.nonce:void 0})}},Nt.preinitModule=function(g,m){if(typeof g=="string")if(typeof m=="object"&&m!==null){if(m.as==null||m.as==="script"){var v=p(m.as,m.crossOrigin);a.d.M(g,{crossOrigin:v,integrity:typeof m.integrity=="string"?m.integrity:void 0,nonce:typeof m.nonce=="string"?m.nonce:void 0})}}else m==null&&a.d.M(g)},Nt.preload=function(g,m){if(typeof g=="string"&&typeof m=="object"&&m!==null&&typeof m.as=="string"){var v=m.as,_=p(v,m.crossOrigin);a.d.L(g,v,{crossOrigin:_,integrity:typeof m.integrity=="string"?m.integrity:void 0,nonce:typeof m.nonce=="string"?m.nonce:void 0,type:typeof m.type=="string"?m.type:void 0,fetchPriority:typeof m.fetchPriority=="string"?m.fetchPriority:void 0,referrerPolicy:typeof m.referrerPolicy=="string"?m.referrerPolicy:void 0,imageSrcSet:typeof m.imageSrcSet=="string"?m.imageSrcSet:void 0,imageSizes:typeof m.imageSizes=="string"?m.imageSizes:void 0,media:typeof m.media=="string"?m.media:void 0})}},Nt.preloadModule=function(g,m){if(typeof g=="string")if(m){var v=p(m.as,m.crossOrigin);a.d.m(g,{as:typeof m.as=="string"&&m.as!=="script"?m.as:void 0,crossOrigin:v,integrity:typeof m.integrity=="string"?m.integrity:void 0})}else a.d.m(g)},Nt.requestFormReset=function(g){a.d.r(g)},Nt.unstable_batchedUpdates=function(g,m){return g(m)},Nt.useFormState=function(g,m,v){return d.H.useFormState(g,m,v)},Nt.useFormStatus=function(){return d.H.useHostTransitionStatus()},Nt.version="19.2.0",Nt}var Bh;function d0(){if(Bh)return su.exports;Bh=1;function i(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(i)}catch(n){console.error(n)}}return i(),su.exports=f0(),su.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Gh;function h0(){if(Gh)return ml;Gh=1;var i=c0(),n=Cu(),l=d0();function a(e){var t="https://react.dev/errors/"+e;if(1<arguments.length){t+="?args[]="+encodeURIComponent(arguments[1]);for(var o=2;o<arguments.length;o++)t+="&args[]="+encodeURIComponent(arguments[o])}return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function s(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function c(e){var t=e,o=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,(t.flags&4098)!==0&&(o=t.return),e=t.return;while(e)}return t.tag===3?o:null}function d(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function p(e){if(e.tag===31){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function g(e){if(c(e)!==e)throw Error(a(188))}function m(e){var t=e.alternate;if(!t){if(t=c(e),t===null)throw Error(a(188));return t!==e?null:e}for(var o=e,r=t;;){var h=o.return;if(h===null)break;var y=h.alternate;if(y===null){if(r=h.return,r!==null){o=r;continue}break}if(h.child===y.child){for(y=h.child;y;){if(y===o)return g(h),e;if(y===r)return g(h),t;y=y.sibling}throw Error(a(188))}if(o.return!==r.return)o=h,r=y;else{for(var E=!1,N=h.child;N;){if(N===o){E=!0,o=h,r=y;break}if(N===r){E=!0,r=h,o=y;break}N=N.sibling}if(!E){for(N=y.child;N;){if(N===o){E=!0,o=y,r=h;break}if(N===r){E=!0,r=y,o=h;break}N=N.sibling}if(!E)throw Error(a(189))}}if(o.alternate!==r)throw Error(a(190))}if(o.tag!==3)throw Error(a(188));return o.stateNode.current===o?e:t}function v(e){var t=e.tag;if(t===5||t===26||t===27||t===6)return e;for(e=e.child;e!==null;){if(t=v(e),t!==null)return t;e=e.sibling}return null}var _=Object.assign,S=Symbol.for("react.element"),T=Symbol.for("react.transitional.element"),R=Symbol.for("react.portal"),A=Symbol.for("react.fragment"),M=Symbol.for("react.strict_mode"),w=Symbol.for("react.profiler"),I=Symbol.for("react.consumer"),U=Symbol.for("react.context"),G=Symbol.for("react.forward_ref"),B=Symbol.for("react.suspense"),K=Symbol.for("react.suspense_list"),H=Symbol.for("react.memo"),j=Symbol.for("react.lazy"),Y=Symbol.for("react.activity"),oe=Symbol.for("react.memo_cache_sentinel"),ye=Symbol.iterator;function L(e){return e===null||typeof e!="object"?null:(e=ye&&e[ye]||e["@@iterator"],typeof e=="function"?e:null)}var le=Symbol.for("react.client.reference");function x(e){if(e==null)return null;if(typeof e=="function")return e.$$typeof===le?null:e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case A:return"Fragment";case w:return"Profiler";case M:return"StrictMode";case B:return"Suspense";case K:return"SuspenseList";case Y:return"Activity"}if(typeof e=="object")switch(e.$$typeof){case R:return"Portal";case U:return e.displayName||"Context";case I:return(e._context.displayName||"Context")+".Consumer";case G:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case H:return t=e.displayName||null,t!==null?t:x(e.type)||"Memo";case j:t=e._payload,e=e._init;try{return x(e(t))}catch{}}return null}var J=Array.isArray,V=n.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,F=l.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,me={pending:!1,data:null,method:null,action:null},Z=[],de=-1;function b(e){return{current:e}}function k(e){0>de||(e.current=Z[de],Z[de]=null,de--)}function ne(e,t){de++,Z[de]=e.current,e.current=t}var ie=b(null),se=b(null),Ce=b(null),Ue=b(null);function Re(e,t){switch(ne(Ce,t),ne(se,e),ne(ie,null),t.nodeType){case 9:case 11:e=(e=t.documentElement)&&(e=e.namespaceURI)?jd(e):0;break;default:if(e=t.tagName,t=t.namespaceURI)t=jd(t),e=eh(t,e);else switch(e){case"svg":e=1;break;case"math":e=2;break;default:e=0}}k(ie),ne(ie,e)}function Ne(){k(ie),k(se),k(Ce)}function je(e){e.memoizedState!==null&&ne(Ue,e);var t=ie.current,o=eh(t,e.type);t!==o&&(ne(se,e),ne(ie,o))}function be(e){se.current===e&&(k(ie),k(se)),Ue.current===e&&(k(Ue),cl._currentValue=me)}var pt,ct;function C(e){if(pt===void 0)try{throw Error()}catch(o){var t=o.stack.trim().match(/\n( *(at )?)/);pt=t&&t[1]||"",ct=-1<o.stack.indexOf(`
    at`)?" (<anonymous>)":-1<o.stack.indexOf("@")?"@unknown:0:0":""}return`
`+pt+e+ct}var ce=!1;function re(e,t){if(!e||ce)return"";ce=!0;var o=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var r={DetermineComponentFrameRoot:function(){try{if(t){var he=function(){throw Error()};if(Object.defineProperty(he.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(he,[])}catch(ae){var te=ae}Reflect.construct(e,[],he)}else{try{he.call()}catch(ae){te=ae}e.call(he.prototype)}}else{try{throw Error()}catch(ae){te=ae}(he=e())&&typeof he.catch=="function"&&he.catch(function(){})}}catch(ae){if(ae&&te&&typeof ae.stack=="string")return[ae.stack,te.stack]}return[null,null]}};r.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var h=Object.getOwnPropertyDescriptor(r.DetermineComponentFrameRoot,"name");h&&h.configurable&&Object.defineProperty(r.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var y=r.DetermineComponentFrameRoot(),E=y[0],N=y[1];if(E&&N){var P=E.split(`
`),$=N.split(`
`);for(h=r=0;r<P.length&&!P[r].includes("DetermineComponentFrameRoot");)r++;for(;h<$.length&&!$[h].includes("DetermineComponentFrameRoot");)h++;if(r===P.length||h===$.length)for(r=P.length-1,h=$.length-1;1<=r&&0<=h&&P[r]!==$[h];)h--;for(;1<=r&&0<=h;r--,h--)if(P[r]!==$[h]){if(r!==1||h!==1)do if(r--,h--,0>h||P[r]!==$[h]){var ue=`
`+P[r].replace(" at new "," at ");return e.displayName&&ue.includes("<anonymous>")&&(ue=ue.replace("<anonymous>",e.displayName)),ue}while(1<=r&&0<=h);break}}}finally{ce=!1,Error.prepareStackTrace=o}return(o=e?e.displayName||e.name:"")?C(o):""}function q(e,t){switch(e.tag){case 26:case 27:case 5:return C(e.type);case 16:return C("Lazy");case 13:return e.child!==t&&t!==null?C("Suspense Fallback"):C("Suspense");case 19:return C("SuspenseList");case 0:case 15:return re(e.type,!1);case 11:return re(e.type.render,!1);case 1:return re(e.type,!0);case 31:return C("Activity");default:return""}}function z(e){try{var t="",o=null;do t+=q(e,o),o=e,e=e.return;while(e);return t}catch(r){return`
Error generating stack: `+r.message+`
`+r.stack}}var X=Object.prototype.hasOwnProperty,pe=i.unstable_scheduleCallback,ge=i.unstable_cancelCallback,ee=i.unstable_shouldYield,ve=i.unstable_requestPaint,Se=i.unstable_now,_e=i.unstable_getCurrentPriorityLevel,Ie=i.unstable_ImmediatePriority,We=i.unstable_UserBlockingPriority,qe=i.unstable_NormalPriority,Mt=i.unstable_LowPriority,Ae=i.unstable_IdlePriority,De=i.log,ze=i.unstable_setDisableYieldValue,Me=null,Pe=null;function ft(e){if(typeof De=="function"&&ze(e),Pe&&typeof Pe.setStrictMode=="function")try{Pe.setStrictMode(Me,e)}catch{}}var Ze=Math.clz32?Math.clz32:Oa,mn=Math.log,Fa=Math.LN2;function Oa(e){return e>>>=0,e===0?32:31-(mn(e)/Fa|0)|0}var Mi=256,ui=262144,cn=4194304;function Zt(e){var t=e&42;if(t!==0)return t;switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return e&261888;case 262144:case 524288:case 1048576:case 2097152:return e&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return e&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return e}}function _l(e,t,o){var r=e.pendingLanes;if(r===0)return 0;var h=0,y=e.suspendedLanes,E=e.pingedLanes;e=e.warmLanes;var N=r&134217727;return N!==0?(r=N&~y,r!==0?h=Zt(r):(E&=N,E!==0?h=Zt(E):o||(o=N&~e,o!==0&&(h=Zt(o))))):(N=r&~y,N!==0?h=Zt(N):E!==0?h=Zt(E):o||(o=r&~e,o!==0&&(h=Zt(o)))),h===0?0:t!==0&&t!==h&&(t&y)===0&&(y=h&-h,o=t&-t,y>=o||y===32&&(o&4194048)!==0)?t:h}function Co(e,t){return(e.pendingLanes&~(e.suspendedLanes&~e.pingedLanes)&t)===0}function Jm(e,t){switch(e){case 1:case 2:case 4:case 8:case 64:return t+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Uu(){var e=cn;return cn<<=1,(cn&62914560)===0&&(cn=4194304),e}function Ya(e){for(var t=[],o=0;31>o;o++)t.push(e);return t}function Ao(e,t){e.pendingLanes|=t,t!==268435456&&(e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0)}function Zm(e,t,o,r,h,y){var E=e.pendingLanes;e.pendingLanes=o,e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0,e.expiredLanes&=o,e.entangledLanes&=o,e.errorRecoveryDisabledLanes&=o,e.shellSuspendCounter=0;var N=e.entanglements,P=e.expirationTimes,$=e.hiddenUpdates;for(o=E&~o;0<o;){var ue=31-Ze(o),he=1<<ue;N[ue]=0,P[ue]=-1;var te=$[ue];if(te!==null)for($[ue]=null,ue=0;ue<te.length;ue++){var ae=te[ue];ae!==null&&(ae.lane&=-536870913)}o&=~he}r!==0&&ku(e,r,0),y!==0&&h===0&&e.tag!==0&&(e.suspendedLanes|=y&~(E&~t))}function ku(e,t,o){e.pendingLanes|=t,e.suspendedLanes&=~t;var r=31-Ze(t);e.entangledLanes|=t,e.entanglements[r]=e.entanglements[r]|1073741824|o&261930}function zu(e,t){var o=e.entangledLanes|=t;for(e=e.entanglements;o;){var r=31-Ze(o),h=1<<r;h&t|e[r]&t&&(e[r]|=t),o&=~h}}function Lu(e,t){var o=t&-t;return o=(o&42)!==0?1:Ja(o),(o&(e.suspendedLanes|t))!==0?0:o}function Ja(e){switch(e){case 2:e=1;break;case 8:e=4;break;case 32:e=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:e=128;break;case 268435456:e=134217728;break;default:e=0}return e}function Za(e){return e&=-e,2<e?8<e?(e&134217727)!==0?32:268435456:8:2}function Bu(){var e=F.p;return e!==0?e:(e=window.event,e===void 0?32:Ch(e.type))}function Gu(e,t){var o=F.p;try{return F.p=e,t()}finally{F.p=o}}var Bn=Math.random().toString(36).slice(2),At="__reactFiber$"+Bn,Ut="__reactProps$"+Bn,Ni="__reactContainer$"+Bn,Ka="__reactEvents$"+Bn,Km="__reactListeners$"+Bn,Xm="__reactHandles$"+Bn,qu="__reactResources$"+Bn,xo="__reactMarker$"+Bn;function Xa(e){delete e[At],delete e[Ut],delete e[Ka],delete e[Km],delete e[Xm]}function Ii(e){var t=e[At];if(t)return t;for(var o=e.parentNode;o;){if(t=o[Ni]||o[At]){if(o=t.alternate,t.child!==null||o!==null&&o.child!==null)for(e=rh(e);e!==null;){if(o=e[At])return o;e=rh(e)}return t}e=o,o=e.parentNode}return null}function Di(e){if(e=e[At]||e[Ni]){var t=e.tag;if(t===5||t===6||t===13||t===31||t===26||t===27||t===3)return e}return null}function wo(e){var t=e.tag;if(t===5||t===26||t===27||t===6)return e.stateNode;throw Error(a(33))}function Ui(e){var t=e[qu];return t||(t=e[qu]={hoistableStyles:new Map,hoistableScripts:new Map}),t}function Et(e){e[xo]=!0}var Hu=new Set,Pu={};function ci(e,t){ki(e,t),ki(e+"Capture",t)}function ki(e,t){for(Pu[e]=t,e=0;e<t.length;e++)Hu.add(t[e])}var Qm=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Vu={},Fu={};function Wm(e){return X.call(Fu,e)?!0:X.call(Vu,e)?!1:Qm.test(e)?Fu[e]=!0:(Vu[e]=!0,!1)}function Sl(e,t,o){if(Wm(t))if(o===null)e.removeAttribute(t);else{switch(typeof o){case"undefined":case"function":case"symbol":e.removeAttribute(t);return;case"boolean":var r=t.toLowerCase().slice(0,5);if(r!=="data-"&&r!=="aria-"){e.removeAttribute(t);return}}e.setAttribute(t,""+o)}}function Tl(e,t,o){if(o===null)e.removeAttribute(t);else{switch(typeof o){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(t);return}e.setAttribute(t,""+o)}}function gn(e,t,o,r){if(r===null)e.removeAttribute(o);else{switch(typeof r){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(o);return}e.setAttributeNS(t,o,""+r)}}function Kt(e){switch(typeof e){case"bigint":case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function Ou(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function $m(e,t,o){var r=Object.getOwnPropertyDescriptor(e.constructor.prototype,t);if(!e.hasOwnProperty(t)&&typeof r<"u"&&typeof r.get=="function"&&typeof r.set=="function"){var h=r.get,y=r.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return h.call(this)},set:function(E){o=""+E,y.call(this,E)}}),Object.defineProperty(e,t,{enumerable:r.enumerable}),{getValue:function(){return o},setValue:function(E){o=""+E},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function Qa(e){if(!e._valueTracker){var t=Ou(e)?"checked":"value";e._valueTracker=$m(e,t,""+e[t])}}function Yu(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var o=t.getValue(),r="";return e&&(r=Ou(e)?e.checked?"true":"false":e.value),e=r,e!==o?(t.setValue(e),!0):!1}function El(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}var jm=/[\n"\\]/g;function Xt(e){return e.replace(jm,function(t){return"\\"+t.charCodeAt(0).toString(16)+" "})}function Wa(e,t,o,r,h,y,E,N){e.name="",E!=null&&typeof E!="function"&&typeof E!="symbol"&&typeof E!="boolean"?e.type=E:e.removeAttribute("type"),t!=null?E==="number"?(t===0&&e.value===""||e.value!=t)&&(e.value=""+Kt(t)):e.value!==""+Kt(t)&&(e.value=""+Kt(t)):E!=="submit"&&E!=="reset"||e.removeAttribute("value"),t!=null?$a(e,E,Kt(t)):o!=null?$a(e,E,Kt(o)):r!=null&&e.removeAttribute("value"),h==null&&y!=null&&(e.defaultChecked=!!y),h!=null&&(e.checked=h&&typeof h!="function"&&typeof h!="symbol"),N!=null&&typeof N!="function"&&typeof N!="symbol"&&typeof N!="boolean"?e.name=""+Kt(N):e.removeAttribute("name")}function Ju(e,t,o,r,h,y,E,N){if(y!=null&&typeof y!="function"&&typeof y!="symbol"&&typeof y!="boolean"&&(e.type=y),t!=null||o!=null){if(!(y!=="submit"&&y!=="reset"||t!=null)){Qa(e);return}o=o!=null?""+Kt(o):"",t=t!=null?""+Kt(t):o,N||t===e.value||(e.value=t),e.defaultValue=t}r=r??h,r=typeof r!="function"&&typeof r!="symbol"&&!!r,e.checked=N?e.checked:!!r,e.defaultChecked=!!r,E!=null&&typeof E!="function"&&typeof E!="symbol"&&typeof E!="boolean"&&(e.name=E),Qa(e)}function $a(e,t,o){t==="number"&&El(e.ownerDocument)===e||e.defaultValue===""+o||(e.defaultValue=""+o)}function zi(e,t,o,r){if(e=e.options,t){t={};for(var h=0;h<o.length;h++)t["$"+o[h]]=!0;for(o=0;o<e.length;o++)h=t.hasOwnProperty("$"+e[o].value),e[o].selected!==h&&(e[o].selected=h),h&&r&&(e[o].defaultSelected=!0)}else{for(o=""+Kt(o),t=null,h=0;h<e.length;h++){if(e[h].value===o){e[h].selected=!0,r&&(e[h].defaultSelected=!0);return}t!==null||e[h].disabled||(t=e[h])}t!==null&&(t.selected=!0)}}function Zu(e,t,o){if(t!=null&&(t=""+Kt(t),t!==e.value&&(e.value=t),o==null)){e.defaultValue!==t&&(e.defaultValue=t);return}e.defaultValue=o!=null?""+Kt(o):""}function Ku(e,t,o,r){if(t==null){if(r!=null){if(o!=null)throw Error(a(92));if(J(r)){if(1<r.length)throw Error(a(93));r=r[0]}o=r}o==null&&(o=""),t=o}o=Kt(t),e.defaultValue=o,r=e.textContent,r===o&&r!==""&&r!==null&&(e.value=r),Qa(e)}function Li(e,t){if(t){var o=e.firstChild;if(o&&o===e.lastChild&&o.nodeType===3){o.nodeValue=t;return}}e.textContent=t}var eg=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Xu(e,t,o){var r=t.indexOf("--")===0;o==null||typeof o=="boolean"||o===""?r?e.setProperty(t,""):t==="float"?e.cssFloat="":e[t]="":r?e.setProperty(t,o):typeof o!="number"||o===0||eg.has(t)?t==="float"?e.cssFloat=o:e[t]=(""+o).trim():e[t]=o+"px"}function Qu(e,t,o){if(t!=null&&typeof t!="object")throw Error(a(62));if(e=e.style,o!=null){for(var r in o)!o.hasOwnProperty(r)||t!=null&&t.hasOwnProperty(r)||(r.indexOf("--")===0?e.setProperty(r,""):r==="float"?e.cssFloat="":e[r]="");for(var h in t)r=t[h],t.hasOwnProperty(h)&&o[h]!==r&&Xu(e,h,r)}else for(var y in t)t.hasOwnProperty(y)&&Xu(e,y,t[y])}function ja(e){if(e.indexOf("-")===-1)return!1;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var tg=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),ng=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Cl(e){return ng.test(""+e)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":e}function yn(){}var er=null;function tr(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var Bi=null,Gi=null;function Wu(e){var t=Di(e);if(t&&(e=t.stateNode)){var o=e[Ut]||null;e:switch(e=t.stateNode,t.type){case"input":if(Wa(e,o.value,o.defaultValue,o.defaultValue,o.checked,o.defaultChecked,o.type,o.name),t=o.name,o.type==="radio"&&t!=null){for(o=e;o.parentNode;)o=o.parentNode;for(o=o.querySelectorAll('input[name="'+Xt(""+t)+'"][type="radio"]'),t=0;t<o.length;t++){var r=o[t];if(r!==e&&r.form===e.form){var h=r[Ut]||null;if(!h)throw Error(a(90));Wa(r,h.value,h.defaultValue,h.defaultValue,h.checked,h.defaultChecked,h.type,h.name)}}for(t=0;t<o.length;t++)r=o[t],r.form===e.form&&Yu(r)}break e;case"textarea":Zu(e,o.value,o.defaultValue);break e;case"select":t=o.value,t!=null&&zi(e,!!o.multiple,t,!1)}}}var nr=!1;function $u(e,t,o){if(nr)return e(t,o);nr=!0;try{var r=e(t);return r}finally{if(nr=!1,(Bi!==null||Gi!==null)&&(ca(),Bi&&(t=Bi,e=Gi,Gi=Bi=null,Wu(t),e)))for(t=0;t<e.length;t++)Wu(e[t])}}function Ro(e,t){var o=e.stateNode;if(o===null)return null;var r=o[Ut]||null;if(r===null)return null;o=r[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(e=e.type,r=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!r;break e;default:e=!1}if(e)return null;if(o&&typeof o!="function")throw Error(a(231,t,typeof o));return o}var vn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),ir=!1;if(vn)try{var bo={};Object.defineProperty(bo,"passive",{get:function(){ir=!0}}),window.addEventListener("test",bo,bo),window.removeEventListener("test",bo,bo)}catch{ir=!1}var Gn=null,or=null,Al=null;function ju(){if(Al)return Al;var e,t=or,o=t.length,r,h="value"in Gn?Gn.value:Gn.textContent,y=h.length;for(e=0;e<o&&t[e]===h[e];e++);var E=o-e;for(r=1;r<=E&&t[o-r]===h[y-r];r++);return Al=h.slice(e,1<r?1-r:void 0)}function xl(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function wl(){return!0}function ec(){return!1}function kt(e){function t(o,r,h,y,E){this._reactName=o,this._targetInst=h,this.type=r,this.nativeEvent=y,this.target=E,this.currentTarget=null;for(var N in e)e.hasOwnProperty(N)&&(o=e[N],this[N]=o?o(y):y[N]);return this.isDefaultPrevented=(y.defaultPrevented!=null?y.defaultPrevented:y.returnValue===!1)?wl:ec,this.isPropagationStopped=ec,this}return _(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var o=this.nativeEvent;o&&(o.preventDefault?o.preventDefault():typeof o.returnValue!="unknown"&&(o.returnValue=!1),this.isDefaultPrevented=wl)},stopPropagation:function(){var o=this.nativeEvent;o&&(o.stopPropagation?o.stopPropagation():typeof o.cancelBubble!="unknown"&&(o.cancelBubble=!0),this.isPropagationStopped=wl)},persist:function(){},isPersistent:wl}),t}var fi={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Rl=kt(fi),Mo=_({},fi,{view:0,detail:0}),ig=kt(Mo),lr,ar,No,bl=_({},Mo,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:sr,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==No&&(No&&e.type==="mousemove"?(lr=e.screenX-No.screenX,ar=e.screenY-No.screenY):ar=lr=0,No=e),lr)},movementY:function(e){return"movementY"in e?e.movementY:ar}}),tc=kt(bl),og=_({},bl,{dataTransfer:0}),lg=kt(og),ag=_({},Mo,{relatedTarget:0}),rr=kt(ag),rg=_({},fi,{animationName:0,elapsedTime:0,pseudoElement:0}),sg=kt(rg),ug=_({},fi,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),cg=kt(ug),fg=_({},fi,{data:0}),nc=kt(fg),dg={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},hg={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},pg={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function mg(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=pg[e])?!!t[e]:!1}function sr(){return mg}var gg=_({},Mo,{key:function(e){if(e.key){var t=dg[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=xl(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?hg[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:sr,charCode:function(e){return e.type==="keypress"?xl(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?xl(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),yg=kt(gg),vg=_({},bl,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),ic=kt(vg),_g=_({},Mo,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:sr}),Sg=kt(_g),Tg=_({},fi,{propertyName:0,elapsedTime:0,pseudoElement:0}),Eg=kt(Tg),Cg=_({},bl,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),Ag=kt(Cg),xg=_({},fi,{newState:0,oldState:0}),wg=kt(xg),Rg=[9,13,27,32],ur=vn&&"CompositionEvent"in window,Io=null;vn&&"documentMode"in document&&(Io=document.documentMode);var bg=vn&&"TextEvent"in window&&!Io,oc=vn&&(!ur||Io&&8<Io&&11>=Io),lc=" ",ac=!1;function rc(e,t){switch(e){case"keyup":return Rg.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function sc(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var qi=!1;function Mg(e,t){switch(e){case"compositionend":return sc(t);case"keypress":return t.which!==32?null:(ac=!0,lc);case"textInput":return e=t.data,e===lc&&ac?null:e;default:return null}}function Ng(e,t){if(qi)return e==="compositionend"||!ur&&rc(e,t)?(e=ju(),Al=or=Gn=null,qi=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return oc&&t.locale!=="ko"?null:t.data;default:return null}}var Ig={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function uc(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!Ig[e.type]:t==="textarea"}function cc(e,t,o,r){Bi?Gi?Gi.push(r):Gi=[r]:Bi=r,t=ya(t,"onChange"),0<t.length&&(o=new Rl("onChange","change",null,o,r),e.push({event:o,listeners:t}))}var Do=null,Uo=null;function Dg(e){Zd(e,0)}function Ml(e){var t=wo(e);if(Yu(t))return e}function fc(e,t){if(e==="change")return t}var dc=!1;if(vn){var cr;if(vn){var fr="oninput"in document;if(!fr){var hc=document.createElement("div");hc.setAttribute("oninput","return;"),fr=typeof hc.oninput=="function"}cr=fr}else cr=!1;dc=cr&&(!document.documentMode||9<document.documentMode)}function pc(){Do&&(Do.detachEvent("onpropertychange",mc),Uo=Do=null)}function mc(e){if(e.propertyName==="value"&&Ml(Uo)){var t=[];cc(t,Uo,e,tr(e)),$u(Dg,t)}}function Ug(e,t,o){e==="focusin"?(pc(),Do=t,Uo=o,Do.attachEvent("onpropertychange",mc)):e==="focusout"&&pc()}function kg(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return Ml(Uo)}function zg(e,t){if(e==="click")return Ml(t)}function Lg(e,t){if(e==="input"||e==="change")return Ml(t)}function Bg(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var Ht=typeof Object.is=="function"?Object.is:Bg;function ko(e,t){if(Ht(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var o=Object.keys(e),r=Object.keys(t);if(o.length!==r.length)return!1;for(r=0;r<o.length;r++){var h=o[r];if(!X.call(t,h)||!Ht(e[h],t[h]))return!1}return!0}function gc(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function yc(e,t){var o=gc(e);e=0;for(var r;o;){if(o.nodeType===3){if(r=e+o.textContent.length,e<=t&&r>=t)return{node:o,offset:t-e};e=r}e:{for(;o;){if(o.nextSibling){o=o.nextSibling;break e}o=o.parentNode}o=void 0}o=gc(o)}}function vc(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?vc(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function _c(e){e=e!=null&&e.ownerDocument!=null&&e.ownerDocument.defaultView!=null?e.ownerDocument.defaultView:window;for(var t=El(e.document);t instanceof e.HTMLIFrameElement;){try{var o=typeof t.contentWindow.location.href=="string"}catch{o=!1}if(o)e=t.contentWindow;else break;t=El(e.document)}return t}function dr(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}var Gg=vn&&"documentMode"in document&&11>=document.documentMode,Hi=null,hr=null,zo=null,pr=!1;function Sc(e,t,o){var r=o.window===o?o.document:o.nodeType===9?o:o.ownerDocument;pr||Hi==null||Hi!==El(r)||(r=Hi,"selectionStart"in r&&dr(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),zo&&ko(zo,r)||(zo=r,r=ya(hr,"onSelect"),0<r.length&&(t=new Rl("onSelect","select",null,t,o),e.push({event:t,listeners:r}),t.target=Hi)))}function di(e,t){var o={};return o[e.toLowerCase()]=t.toLowerCase(),o["Webkit"+e]="webkit"+t,o["Moz"+e]="moz"+t,o}var Pi={animationend:di("Animation","AnimationEnd"),animationiteration:di("Animation","AnimationIteration"),animationstart:di("Animation","AnimationStart"),transitionrun:di("Transition","TransitionRun"),transitionstart:di("Transition","TransitionStart"),transitioncancel:di("Transition","TransitionCancel"),transitionend:di("Transition","TransitionEnd")},mr={},Tc={};vn&&(Tc=document.createElement("div").style,"AnimationEvent"in window||(delete Pi.animationend.animation,delete Pi.animationiteration.animation,delete Pi.animationstart.animation),"TransitionEvent"in window||delete Pi.transitionend.transition);function hi(e){if(mr[e])return mr[e];if(!Pi[e])return e;var t=Pi[e],o;for(o in t)if(t.hasOwnProperty(o)&&o in Tc)return mr[e]=t[o];return e}var Ec=hi("animationend"),Cc=hi("animationiteration"),Ac=hi("animationstart"),qg=hi("transitionrun"),Hg=hi("transitionstart"),Pg=hi("transitioncancel"),xc=hi("transitionend"),wc=new Map,gr="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");gr.push("scrollEnd");function an(e,t){wc.set(e,t),ci(t,[e])}var Nl=typeof reportError=="function"?reportError:function(e){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var t=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof e=="object"&&e!==null&&typeof e.message=="string"?String(e.message):String(e),error:e});if(!window.dispatchEvent(t))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",e);return}console.error(e)},Qt=[],Vi=0,yr=0;function Il(){for(var e=Vi,t=yr=Vi=0;t<e;){var o=Qt[t];Qt[t++]=null;var r=Qt[t];Qt[t++]=null;var h=Qt[t];Qt[t++]=null;var y=Qt[t];if(Qt[t++]=null,r!==null&&h!==null){var E=r.pending;E===null?h.next=h:(h.next=E.next,E.next=h),r.pending=h}y!==0&&Rc(o,h,y)}}function Dl(e,t,o,r){Qt[Vi++]=e,Qt[Vi++]=t,Qt[Vi++]=o,Qt[Vi++]=r,yr|=r,e.lanes|=r,e=e.alternate,e!==null&&(e.lanes|=r)}function vr(e,t,o,r){return Dl(e,t,o,r),Ul(e)}function pi(e,t){return Dl(e,null,null,t),Ul(e)}function Rc(e,t,o){e.lanes|=o;var r=e.alternate;r!==null&&(r.lanes|=o);for(var h=!1,y=e.return;y!==null;)y.childLanes|=o,r=y.alternate,r!==null&&(r.childLanes|=o),y.tag===22&&(e=y.stateNode,e===null||e._visibility&1||(h=!0)),e=y,y=y.return;return e.tag===3?(y=e.stateNode,h&&t!==null&&(h=31-Ze(o),e=y.hiddenUpdates,r=e[h],r===null?e[h]=[t]:r.push(t),t.lane=o|536870912),y):null}function Ul(e){if(50<il)throw il=0,Rs=null,Error(a(185));for(var t=e.return;t!==null;)e=t,t=e.return;return e.tag===3?e.stateNode:null}var Fi={};function Vg(e,t,o,r){this.tag=e,this.key=o,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Pt(e,t,o,r){return new Vg(e,t,o,r)}function _r(e){return e=e.prototype,!(!e||!e.isReactComponent)}function _n(e,t){var o=e.alternate;return o===null?(o=Pt(e.tag,t,e.key,e.mode),o.elementType=e.elementType,o.type=e.type,o.stateNode=e.stateNode,o.alternate=e,e.alternate=o):(o.pendingProps=t,o.type=e.type,o.flags=0,o.subtreeFlags=0,o.deletions=null),o.flags=e.flags&65011712,o.childLanes=e.childLanes,o.lanes=e.lanes,o.child=e.child,o.memoizedProps=e.memoizedProps,o.memoizedState=e.memoizedState,o.updateQueue=e.updateQueue,t=e.dependencies,o.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},o.sibling=e.sibling,o.index=e.index,o.ref=e.ref,o.refCleanup=e.refCleanup,o}function bc(e,t){e.flags&=65011714;var o=e.alternate;return o===null?(e.childLanes=0,e.lanes=t,e.child=null,e.subtreeFlags=0,e.memoizedProps=null,e.memoizedState=null,e.updateQueue=null,e.dependencies=null,e.stateNode=null):(e.childLanes=o.childLanes,e.lanes=o.lanes,e.child=o.child,e.subtreeFlags=0,e.deletions=null,e.memoizedProps=o.memoizedProps,e.memoizedState=o.memoizedState,e.updateQueue=o.updateQueue,e.type=o.type,t=o.dependencies,e.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),e}function kl(e,t,o,r,h,y){var E=0;if(r=e,typeof e=="function")_r(e)&&(E=1);else if(typeof e=="string")E=Zy(e,o,ie.current)?26:e==="html"||e==="head"||e==="body"?27:5;else e:switch(e){case Y:return e=Pt(31,o,t,h),e.elementType=Y,e.lanes=y,e;case A:return mi(o.children,h,y,t);case M:E=8,h|=24;break;case w:return e=Pt(12,o,t,h|2),e.elementType=w,e.lanes=y,e;case B:return e=Pt(13,o,t,h),e.elementType=B,e.lanes=y,e;case K:return e=Pt(19,o,t,h),e.elementType=K,e.lanes=y,e;default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case U:E=10;break e;case I:E=9;break e;case G:E=11;break e;case H:E=14;break e;case j:E=16,r=null;break e}E=29,o=Error(a(130,e===null?"null":typeof e,"")),r=null}return t=Pt(E,o,t,h),t.elementType=e,t.type=r,t.lanes=y,t}function mi(e,t,o,r){return e=Pt(7,e,r,t),e.lanes=o,e}function Sr(e,t,o){return e=Pt(6,e,null,t),e.lanes=o,e}function Mc(e){var t=Pt(18,null,null,0);return t.stateNode=e,t}function Tr(e,t,o){return t=Pt(4,e.children!==null?e.children:[],e.key,t),t.lanes=o,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}var Nc=new WeakMap;function Wt(e,t){if(typeof e=="object"&&e!==null){var o=Nc.get(e);return o!==void 0?o:(t={value:e,source:t,stack:z(t)},Nc.set(e,t),t)}return{value:e,source:t,stack:z(t)}}var Oi=[],Yi=0,zl=null,Lo=0,$t=[],jt=0,qn=null,fn=1,dn="";function Sn(e,t){Oi[Yi++]=Lo,Oi[Yi++]=zl,zl=e,Lo=t}function Ic(e,t,o){$t[jt++]=fn,$t[jt++]=dn,$t[jt++]=qn,qn=e;var r=fn;e=dn;var h=32-Ze(r)-1;r&=~(1<<h),o+=1;var y=32-Ze(t)+h;if(30<y){var E=h-h%5;y=(r&(1<<E)-1).toString(32),r>>=E,h-=E,fn=1<<32-Ze(t)+h|o<<h|r,dn=y+e}else fn=1<<y|o<<h|r,dn=e}function Er(e){e.return!==null&&(Sn(e,1),Ic(e,1,0))}function Cr(e){for(;e===zl;)zl=Oi[--Yi],Oi[Yi]=null,Lo=Oi[--Yi],Oi[Yi]=null;for(;e===qn;)qn=$t[--jt],$t[jt]=null,dn=$t[--jt],$t[jt]=null,fn=$t[--jt],$t[jt]=null}function Dc(e,t){$t[jt++]=fn,$t[jt++]=dn,$t[jt++]=qn,fn=t.id,dn=t.overflow,qn=e}var xt=null,at=null,Je=!1,Hn=null,en=!1,Ar=Error(a(519));function Pn(e){var t=Error(a(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw Bo(Wt(t,e)),Ar}function Uc(e){var t=e.stateNode,o=e.type,r=e.memoizedProps;switch(t[At]=e,t[Ut]=r,o){case"dialog":Fe("cancel",t),Fe("close",t);break;case"iframe":case"object":case"embed":Fe("load",t);break;case"video":case"audio":for(o=0;o<ll.length;o++)Fe(ll[o],t);break;case"source":Fe("error",t);break;case"img":case"image":case"link":Fe("error",t),Fe("load",t);break;case"details":Fe("toggle",t);break;case"input":Fe("invalid",t),Ju(t,r.value,r.defaultValue,r.checked,r.defaultChecked,r.type,r.name,!0);break;case"select":Fe("invalid",t);break;case"textarea":Fe("invalid",t),Ku(t,r.value,r.defaultValue,r.children)}o=r.children,typeof o!="string"&&typeof o!="number"&&typeof o!="bigint"||t.textContent===""+o||r.suppressHydrationWarning===!0||Wd(t.textContent,o)?(r.popover!=null&&(Fe("beforetoggle",t),Fe("toggle",t)),r.onScroll!=null&&Fe("scroll",t),r.onScrollEnd!=null&&Fe("scrollend",t),r.onClick!=null&&(t.onclick=yn),t=!0):t=!1,t||Pn(e,!0)}function kc(e){for(xt=e.return;xt;)switch(xt.tag){case 5:case 31:case 13:en=!1;return;case 27:case 3:en=!0;return;default:xt=xt.return}}function Ji(e){if(e!==xt)return!1;if(!Je)return kc(e),Je=!0,!1;var t=e.tag,o;if((o=t!==3&&t!==27)&&((o=t===5)&&(o=e.type,o=!(o!=="form"&&o!=="button")||Vs(e.type,e.memoizedProps)),o=!o),o&&at&&Pn(e),kc(e),t===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(a(317));at=ah(e)}else if(t===31){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(a(317));at=ah(e)}else t===27?(t=at,ti(e.type)?(e=Zs,Zs=null,at=e):at=t):at=xt?nn(e.stateNode.nextSibling):null;return!0}function gi(){at=xt=null,Je=!1}function xr(){var e=Hn;return e!==null&&(Gt===null?Gt=e:Gt.push.apply(Gt,e),Hn=null),e}function Bo(e){Hn===null?Hn=[e]:Hn.push(e)}var wr=b(null),yi=null,Tn=null;function Vn(e,t,o){ne(wr,t._currentValue),t._currentValue=o}function En(e){e._currentValue=wr.current,k(wr)}function Rr(e,t,o){for(;e!==null;){var r=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,r!==null&&(r.childLanes|=t)):r!==null&&(r.childLanes&t)!==t&&(r.childLanes|=t),e===o)break;e=e.return}}function br(e,t,o,r){var h=e.child;for(h!==null&&(h.return=e);h!==null;){var y=h.dependencies;if(y!==null){var E=h.child;y=y.firstContext;e:for(;y!==null;){var N=y;y=h;for(var P=0;P<t.length;P++)if(N.context===t[P]){y.lanes|=o,N=y.alternate,N!==null&&(N.lanes|=o),Rr(y.return,o,e),r||(E=null);break e}y=N.next}}else if(h.tag===18){if(E=h.return,E===null)throw Error(a(341));E.lanes|=o,y=E.alternate,y!==null&&(y.lanes|=o),Rr(E,o,e),E=null}else E=h.child;if(E!==null)E.return=h;else for(E=h;E!==null;){if(E===e){E=null;break}if(h=E.sibling,h!==null){h.return=E.return,E=h;break}E=E.return}h=E}}function Zi(e,t,o,r){e=null;for(var h=t,y=!1;h!==null;){if(!y){if((h.flags&524288)!==0)y=!0;else if((h.flags&262144)!==0)break}if(h.tag===10){var E=h.alternate;if(E===null)throw Error(a(387));if(E=E.memoizedProps,E!==null){var N=h.type;Ht(h.pendingProps.value,E.value)||(e!==null?e.push(N):e=[N])}}else if(h===Ue.current){if(E=h.alternate,E===null)throw Error(a(387));E.memoizedState.memoizedState!==h.memoizedState.memoizedState&&(e!==null?e.push(cl):e=[cl])}h=h.return}e!==null&&br(t,e,o,r),t.flags|=262144}function Ll(e){for(e=e.firstContext;e!==null;){if(!Ht(e.context._currentValue,e.memoizedValue))return!0;e=e.next}return!1}function vi(e){yi=e,Tn=null,e=e.dependencies,e!==null&&(e.firstContext=null)}function wt(e){return zc(yi,e)}function Bl(e,t){return yi===null&&vi(e),zc(e,t)}function zc(e,t){var o=t._currentValue;if(t={context:t,memoizedValue:o,next:null},Tn===null){if(e===null)throw Error(a(308));Tn=t,e.dependencies={lanes:0,firstContext:t},e.flags|=524288}else Tn=Tn.next=t;return o}var Fg=typeof AbortController<"u"?AbortController:function(){var e=[],t=this.signal={aborted:!1,addEventListener:function(o,r){e.push(r)}};this.abort=function(){t.aborted=!0,e.forEach(function(o){return o()})}},Og=i.unstable_scheduleCallback,Yg=i.unstable_NormalPriority,yt={$$typeof:U,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Mr(){return{controller:new Fg,data:new Map,refCount:0}}function Go(e){e.refCount--,e.refCount===0&&Og(Yg,function(){e.controller.abort()})}var qo=null,Nr=0,Ki=0,Xi=null;function Jg(e,t){if(qo===null){var o=qo=[];Nr=0,Ki=Us(),Xi={status:"pending",value:void 0,then:function(r){o.push(r)}}}return Nr++,t.then(Lc,Lc),t}function Lc(){if(--Nr===0&&qo!==null){Xi!==null&&(Xi.status="fulfilled");var e=qo;qo=null,Ki=0,Xi=null;for(var t=0;t<e.length;t++)(0,e[t])()}}function Zg(e,t){var o=[],r={status:"pending",value:null,reason:null,then:function(h){o.push(h)}};return e.then(function(){r.status="fulfilled",r.value=t;for(var h=0;h<o.length;h++)(0,o[h])(t)},function(h){for(r.status="rejected",r.reason=h,h=0;h<o.length;h++)(0,o[h])(void 0)}),r}var Bc=V.S;V.S=function(e,t){Td=Se(),typeof t=="object"&&t!==null&&typeof t.then=="function"&&Jg(e,t),Bc!==null&&Bc(e,t)};var _i=b(null);function Ir(){var e=_i.current;return e!==null?e:lt.pooledCache}function Gl(e,t){t===null?ne(_i,_i.current):ne(_i,t.pool)}function Gc(){var e=Ir();return e===null?null:{parent:yt._currentValue,pool:e}}var Qi=Error(a(460)),Dr=Error(a(474)),ql=Error(a(542)),Hl={then:function(){}};function qc(e){return e=e.status,e==="fulfilled"||e==="rejected"}function Hc(e,t,o){switch(o=e[o],o===void 0?e.push(t):o!==t&&(t.then(yn,yn),t=o),t.status){case"fulfilled":return t.value;case"rejected":throw e=t.reason,Vc(e),e;default:if(typeof t.status=="string")t.then(yn,yn);else{if(e=lt,e!==null&&100<e.shellSuspendCounter)throw Error(a(482));e=t,e.status="pending",e.then(function(r){if(t.status==="pending"){var h=t;h.status="fulfilled",h.value=r}},function(r){if(t.status==="pending"){var h=t;h.status="rejected",h.reason=r}})}switch(t.status){case"fulfilled":return t.value;case"rejected":throw e=t.reason,Vc(e),e}throw Ti=t,Qi}}function Si(e){try{var t=e._init;return t(e._payload)}catch(o){throw o!==null&&typeof o=="object"&&typeof o.then=="function"?(Ti=o,Qi):o}}var Ti=null;function Pc(){if(Ti===null)throw Error(a(459));var e=Ti;return Ti=null,e}function Vc(e){if(e===Qi||e===ql)throw Error(a(483))}var Wi=null,Ho=0;function Pl(e){var t=Ho;return Ho+=1,Wi===null&&(Wi=[]),Hc(Wi,e,t)}function Po(e,t){t=t.props.ref,e.ref=t!==void 0?t:null}function Vl(e,t){throw t.$$typeof===S?Error(a(525)):(e=Object.prototype.toString.call(t),Error(a(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)))}function Fc(e){function t(Q,O){if(e){var W=Q.deletions;W===null?(Q.deletions=[O],Q.flags|=16):W.push(O)}}function o(Q,O){if(!e)return null;for(;O!==null;)t(Q,O),O=O.sibling;return null}function r(Q){for(var O=new Map;Q!==null;)Q.key!==null?O.set(Q.key,Q):O.set(Q.index,Q),Q=Q.sibling;return O}function h(Q,O){return Q=_n(Q,O),Q.index=0,Q.sibling=null,Q}function y(Q,O,W){return Q.index=W,e?(W=Q.alternate,W!==null?(W=W.index,W<O?(Q.flags|=67108866,O):W):(Q.flags|=67108866,O)):(Q.flags|=1048576,O)}function E(Q){return e&&Q.alternate===null&&(Q.flags|=67108866),Q}function N(Q,O,W,fe){return O===null||O.tag!==6?(O=Sr(W,Q.mode,fe),O.return=Q,O):(O=h(O,W),O.return=Q,O)}function P(Q,O,W,fe){var ke=W.type;return ke===A?ue(Q,O,W.props.children,fe,W.key):O!==null&&(O.elementType===ke||typeof ke=="object"&&ke!==null&&ke.$$typeof===j&&Si(ke)===O.type)?(O=h(O,W.props),Po(O,W),O.return=Q,O):(O=kl(W.type,W.key,W.props,null,Q.mode,fe),Po(O,W),O.return=Q,O)}function $(Q,O,W,fe){return O===null||O.tag!==4||O.stateNode.containerInfo!==W.containerInfo||O.stateNode.implementation!==W.implementation?(O=Tr(W,Q.mode,fe),O.return=Q,O):(O=h(O,W.children||[]),O.return=Q,O)}function ue(Q,O,W,fe,ke){return O===null||O.tag!==7?(O=mi(W,Q.mode,fe,ke),O.return=Q,O):(O=h(O,W),O.return=Q,O)}function he(Q,O,W){if(typeof O=="string"&&O!==""||typeof O=="number"||typeof O=="bigint")return O=Sr(""+O,Q.mode,W),O.return=Q,O;if(typeof O=="object"&&O!==null){switch(O.$$typeof){case T:return W=kl(O.type,O.key,O.props,null,Q.mode,W),Po(W,O),W.return=Q,W;case R:return O=Tr(O,Q.mode,W),O.return=Q,O;case j:return O=Si(O),he(Q,O,W)}if(J(O)||L(O))return O=mi(O,Q.mode,W,null),O.return=Q,O;if(typeof O.then=="function")return he(Q,Pl(O),W);if(O.$$typeof===U)return he(Q,Bl(Q,O),W);Vl(Q,O)}return null}function te(Q,O,W,fe){var ke=O!==null?O.key:null;if(typeof W=="string"&&W!==""||typeof W=="number"||typeof W=="bigint")return ke!==null?null:N(Q,O,""+W,fe);if(typeof W=="object"&&W!==null){switch(W.$$typeof){case T:return W.key===ke?P(Q,O,W,fe):null;case R:return W.key===ke?$(Q,O,W,fe):null;case j:return W=Si(W),te(Q,O,W,fe)}if(J(W)||L(W))return ke!==null?null:ue(Q,O,W,fe,null);if(typeof W.then=="function")return te(Q,O,Pl(W),fe);if(W.$$typeof===U)return te(Q,O,Bl(Q,W),fe);Vl(Q,W)}return null}function ae(Q,O,W,fe,ke){if(typeof fe=="string"&&fe!==""||typeof fe=="number"||typeof fe=="bigint")return Q=Q.get(W)||null,N(O,Q,""+fe,ke);if(typeof fe=="object"&&fe!==null){switch(fe.$$typeof){case T:return Q=Q.get(fe.key===null?W:fe.key)||null,P(O,Q,fe,ke);case R:return Q=Q.get(fe.key===null?W:fe.key)||null,$(O,Q,fe,ke);case j:return fe=Si(fe),ae(Q,O,W,fe,ke)}if(J(fe)||L(fe))return Q=Q.get(W)||null,ue(O,Q,fe,ke,null);if(typeof fe.then=="function")return ae(Q,O,W,Pl(fe),ke);if(fe.$$typeof===U)return ae(Q,O,W,Bl(O,fe),ke);Vl(O,fe)}return null}function xe(Q,O,W,fe){for(var ke=null,Ke=null,we=O,He=O=0,Ye=null;we!==null&&He<W.length;He++){we.index>He?(Ye=we,we=null):Ye=we.sibling;var Xe=te(Q,we,W[He],fe);if(Xe===null){we===null&&(we=Ye);break}e&&we&&Xe.alternate===null&&t(Q,we),O=y(Xe,O,He),Ke===null?ke=Xe:Ke.sibling=Xe,Ke=Xe,we=Ye}if(He===W.length)return o(Q,we),Je&&Sn(Q,He),ke;if(we===null){for(;He<W.length;He++)we=he(Q,W[He],fe),we!==null&&(O=y(we,O,He),Ke===null?ke=we:Ke.sibling=we,Ke=we);return Je&&Sn(Q,He),ke}for(we=r(we);He<W.length;He++)Ye=ae(we,Q,He,W[He],fe),Ye!==null&&(e&&Ye.alternate!==null&&we.delete(Ye.key===null?He:Ye.key),O=y(Ye,O,He),Ke===null?ke=Ye:Ke.sibling=Ye,Ke=Ye);return e&&we.forEach(function(ai){return t(Q,ai)}),Je&&Sn(Q,He),ke}function Le(Q,O,W,fe){if(W==null)throw Error(a(151));for(var ke=null,Ke=null,we=O,He=O=0,Ye=null,Xe=W.next();we!==null&&!Xe.done;He++,Xe=W.next()){we.index>He?(Ye=we,we=null):Ye=we.sibling;var ai=te(Q,we,Xe.value,fe);if(ai===null){we===null&&(we=Ye);break}e&&we&&ai.alternate===null&&t(Q,we),O=y(ai,O,He),Ke===null?ke=ai:Ke.sibling=ai,Ke=ai,we=Ye}if(Xe.done)return o(Q,we),Je&&Sn(Q,He),ke;if(we===null){for(;!Xe.done;He++,Xe=W.next())Xe=he(Q,Xe.value,fe),Xe!==null&&(O=y(Xe,O,He),Ke===null?ke=Xe:Ke.sibling=Xe,Ke=Xe);return Je&&Sn(Q,He),ke}for(we=r(we);!Xe.done;He++,Xe=W.next())Xe=ae(we,Q,He,Xe.value,fe),Xe!==null&&(e&&Xe.alternate!==null&&we.delete(Xe.key===null?He:Xe.key),O=y(Xe,O,He),Ke===null?ke=Xe:Ke.sibling=Xe,Ke=Xe);return e&&we.forEach(function(o0){return t(Q,o0)}),Je&&Sn(Q,He),ke}function ot(Q,O,W,fe){if(typeof W=="object"&&W!==null&&W.type===A&&W.key===null&&(W=W.props.children),typeof W=="object"&&W!==null){switch(W.$$typeof){case T:e:{for(var ke=W.key;O!==null;){if(O.key===ke){if(ke=W.type,ke===A){if(O.tag===7){o(Q,O.sibling),fe=h(O,W.props.children),fe.return=Q,Q=fe;break e}}else if(O.elementType===ke||typeof ke=="object"&&ke!==null&&ke.$$typeof===j&&Si(ke)===O.type){o(Q,O.sibling),fe=h(O,W.props),Po(fe,W),fe.return=Q,Q=fe;break e}o(Q,O);break}else t(Q,O);O=O.sibling}W.type===A?(fe=mi(W.props.children,Q.mode,fe,W.key),fe.return=Q,Q=fe):(fe=kl(W.type,W.key,W.props,null,Q.mode,fe),Po(fe,W),fe.return=Q,Q=fe)}return E(Q);case R:e:{for(ke=W.key;O!==null;){if(O.key===ke)if(O.tag===4&&O.stateNode.containerInfo===W.containerInfo&&O.stateNode.implementation===W.implementation){o(Q,O.sibling),fe=h(O,W.children||[]),fe.return=Q,Q=fe;break e}else{o(Q,O);break}else t(Q,O);O=O.sibling}fe=Tr(W,Q.mode,fe),fe.return=Q,Q=fe}return E(Q);case j:return W=Si(W),ot(Q,O,W,fe)}if(J(W))return xe(Q,O,W,fe);if(L(W)){if(ke=L(W),typeof ke!="function")throw Error(a(150));return W=ke.call(W),Le(Q,O,W,fe)}if(typeof W.then=="function")return ot(Q,O,Pl(W),fe);if(W.$$typeof===U)return ot(Q,O,Bl(Q,W),fe);Vl(Q,W)}return typeof W=="string"&&W!==""||typeof W=="number"||typeof W=="bigint"?(W=""+W,O!==null&&O.tag===6?(o(Q,O.sibling),fe=h(O,W),fe.return=Q,Q=fe):(o(Q,O),fe=Sr(W,Q.mode,fe),fe.return=Q,Q=fe),E(Q)):o(Q,O)}return function(Q,O,W,fe){try{Ho=0;var ke=ot(Q,O,W,fe);return Wi=null,ke}catch(we){if(we===Qi||we===ql)throw we;var Ke=Pt(29,we,null,Q.mode);return Ke.lanes=fe,Ke.return=Q,Ke}finally{}}}var Ei=Fc(!0),Oc=Fc(!1),Fn=!1;function Ur(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function kr(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,callbacks:null})}function On(e){return{lane:e,tag:0,payload:null,callback:null,next:null}}function Yn(e,t,o){var r=e.updateQueue;if(r===null)return null;if(r=r.shared,($e&2)!==0){var h=r.pending;return h===null?t.next=t:(t.next=h.next,h.next=t),r.pending=t,t=Ul(e),Rc(e,null,o),t}return Dl(e,r,t,o),Ul(e)}function Vo(e,t,o){if(t=t.updateQueue,t!==null&&(t=t.shared,(o&4194048)!==0)){var r=t.lanes;r&=e.pendingLanes,o|=r,t.lanes=o,zu(e,o)}}function zr(e,t){var o=e.updateQueue,r=e.alternate;if(r!==null&&(r=r.updateQueue,o===r)){var h=null,y=null;if(o=o.firstBaseUpdate,o!==null){do{var E={lane:o.lane,tag:o.tag,payload:o.payload,callback:null,next:null};y===null?h=y=E:y=y.next=E,o=o.next}while(o!==null);y===null?h=y=t:y=y.next=t}else h=y=t;o={baseState:r.baseState,firstBaseUpdate:h,lastBaseUpdate:y,shared:r.shared,callbacks:r.callbacks},e.updateQueue=o;return}e=o.lastBaseUpdate,e===null?o.firstBaseUpdate=t:e.next=t,o.lastBaseUpdate=t}var Lr=!1;function Fo(){if(Lr){var e=Xi;if(e!==null)throw e}}function Oo(e,t,o,r){Lr=!1;var h=e.updateQueue;Fn=!1;var y=h.firstBaseUpdate,E=h.lastBaseUpdate,N=h.shared.pending;if(N!==null){h.shared.pending=null;var P=N,$=P.next;P.next=null,E===null?y=$:E.next=$,E=P;var ue=e.alternate;ue!==null&&(ue=ue.updateQueue,N=ue.lastBaseUpdate,N!==E&&(N===null?ue.firstBaseUpdate=$:N.next=$,ue.lastBaseUpdate=P))}if(y!==null){var he=h.baseState;E=0,ue=$=P=null,N=y;do{var te=N.lane&-536870913,ae=te!==N.lane;if(ae?(Oe&te)===te:(r&te)===te){te!==0&&te===Ki&&(Lr=!0),ue!==null&&(ue=ue.next={lane:0,tag:N.tag,payload:N.payload,callback:null,next:null});e:{var xe=e,Le=N;te=t;var ot=o;switch(Le.tag){case 1:if(xe=Le.payload,typeof xe=="function"){he=xe.call(ot,he,te);break e}he=xe;break e;case 3:xe.flags=xe.flags&-65537|128;case 0:if(xe=Le.payload,te=typeof xe=="function"?xe.call(ot,he,te):xe,te==null)break e;he=_({},he,te);break e;case 2:Fn=!0}}te=N.callback,te!==null&&(e.flags|=64,ae&&(e.flags|=8192),ae=h.callbacks,ae===null?h.callbacks=[te]:ae.push(te))}else ae={lane:te,tag:N.tag,payload:N.payload,callback:N.callback,next:null},ue===null?($=ue=ae,P=he):ue=ue.next=ae,E|=te;if(N=N.next,N===null){if(N=h.shared.pending,N===null)break;ae=N,N=ae.next,ae.next=null,h.lastBaseUpdate=ae,h.shared.pending=null}}while(!0);ue===null&&(P=he),h.baseState=P,h.firstBaseUpdate=$,h.lastBaseUpdate=ue,y===null&&(h.shared.lanes=0),Qn|=E,e.lanes=E,e.memoizedState=he}}function Yc(e,t){if(typeof e!="function")throw Error(a(191,e));e.call(t)}function Jc(e,t){var o=e.callbacks;if(o!==null)for(e.callbacks=null,e=0;e<o.length;e++)Yc(o[e],t)}var $i=b(null),Fl=b(0);function Zc(e,t){e=In,ne(Fl,e),ne($i,t),In=e|t.baseLanes}function Br(){ne(Fl,In),ne($i,$i.current)}function Gr(){In=Fl.current,k($i),k(Fl)}var Vt=b(null),tn=null;function Jn(e){var t=e.alternate;ne(mt,mt.current&1),ne(Vt,e),tn===null&&(t===null||$i.current!==null||t.memoizedState!==null)&&(tn=e)}function qr(e){ne(mt,mt.current),ne(Vt,e),tn===null&&(tn=e)}function Kc(e){e.tag===22?(ne(mt,mt.current),ne(Vt,e),tn===null&&(tn=e)):Zn()}function Zn(){ne(mt,mt.current),ne(Vt,Vt.current)}function Ft(e){k(Vt),tn===e&&(tn=null),k(mt)}var mt=b(0);function Ol(e){for(var t=e;t!==null;){if(t.tag===13){var o=t.memoizedState;if(o!==null&&(o=o.dehydrated,o===null||Ys(o)||Js(o)))return t}else if(t.tag===19&&(t.memoizedProps.revealOrder==="forwards"||t.memoizedProps.revealOrder==="backwards"||t.memoizedProps.revealOrder==="unstable_legacy-backwards"||t.memoizedProps.revealOrder==="together")){if((t.flags&128)!==0)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var Cn=0,Ge=null,nt=null,vt=null,Yl=!1,ji=!1,Ci=!1,Jl=0,Yo=0,eo=null,Kg=0;function dt(){throw Error(a(321))}function Hr(e,t){if(t===null)return!1;for(var o=0;o<t.length&&o<e.length;o++)if(!Ht(e[o],t[o]))return!1;return!0}function Pr(e,t,o,r,h,y){return Cn=y,Ge=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,V.H=e===null||e.memoizedState===null?Df:ns,Ci=!1,y=o(r,h),Ci=!1,ji&&(y=Qc(t,o,r,h)),Xc(e),y}function Xc(e){V.H=Ko;var t=nt!==null&&nt.next!==null;if(Cn=0,vt=nt=Ge=null,Yl=!1,Yo=0,eo=null,t)throw Error(a(300));e===null||_t||(e=e.dependencies,e!==null&&Ll(e)&&(_t=!0))}function Qc(e,t,o,r){Ge=e;var h=0;do{if(ji&&(eo=null),Yo=0,ji=!1,25<=h)throw Error(a(301));if(h+=1,vt=nt=null,e.updateQueue!=null){var y=e.updateQueue;y.lastEffect=null,y.events=null,y.stores=null,y.memoCache!=null&&(y.memoCache.index=0)}V.H=Uf,y=t(o,r)}while(ji);return y}function Xg(){var e=V.H,t=e.useState()[0];return t=typeof t.then=="function"?Jo(t):t,e=e.useState()[0],(nt!==null?nt.memoizedState:null)!==e&&(Ge.flags|=1024),t}function Vr(){var e=Jl!==0;return Jl=0,e}function Fr(e,t,o){t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~o}function Or(e){if(Yl){for(e=e.memoizedState;e!==null;){var t=e.queue;t!==null&&(t.pending=null),e=e.next}Yl=!1}Cn=0,vt=nt=Ge=null,ji=!1,Yo=Jl=0,eo=null}function Dt(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return vt===null?Ge.memoizedState=vt=e:vt=vt.next=e,vt}function gt(){if(nt===null){var e=Ge.alternate;e=e!==null?e.memoizedState:null}else e=nt.next;var t=vt===null?Ge.memoizedState:vt.next;if(t!==null)vt=t,nt=e;else{if(e===null)throw Ge.alternate===null?Error(a(467)):Error(a(310));nt=e,e={memoizedState:nt.memoizedState,baseState:nt.baseState,baseQueue:nt.baseQueue,queue:nt.queue,next:null},vt===null?Ge.memoizedState=vt=e:vt=vt.next=e}return vt}function Zl(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function Jo(e){var t=Yo;return Yo+=1,eo===null&&(eo=[]),e=Hc(eo,e,t),t=Ge,(vt===null?t.memoizedState:vt.next)===null&&(t=t.alternate,V.H=t===null||t.memoizedState===null?Df:ns),e}function Kl(e){if(e!==null&&typeof e=="object"){if(typeof e.then=="function")return Jo(e);if(e.$$typeof===U)return wt(e)}throw Error(a(438,String(e)))}function Yr(e){var t=null,o=Ge.updateQueue;if(o!==null&&(t=o.memoCache),t==null){var r=Ge.alternate;r!==null&&(r=r.updateQueue,r!==null&&(r=r.memoCache,r!=null&&(t={data:r.data.map(function(h){return h.slice()}),index:0})))}if(t==null&&(t={data:[],index:0}),o===null&&(o=Zl(),Ge.updateQueue=o),o.memoCache=t,o=t.data[t.index],o===void 0)for(o=t.data[t.index]=Array(e),r=0;r<e;r++)o[r]=oe;return t.index++,o}function An(e,t){return typeof t=="function"?t(e):t}function Xl(e){var t=gt();return Jr(t,nt,e)}function Jr(e,t,o){var r=e.queue;if(r===null)throw Error(a(311));r.lastRenderedReducer=o;var h=e.baseQueue,y=r.pending;if(y!==null){if(h!==null){var E=h.next;h.next=y.next,y.next=E}t.baseQueue=h=y,r.pending=null}if(y=e.baseState,h===null)e.memoizedState=y;else{t=h.next;var N=E=null,P=null,$=t,ue=!1;do{var he=$.lane&-536870913;if(he!==$.lane?(Oe&he)===he:(Cn&he)===he){var te=$.revertLane;if(te===0)P!==null&&(P=P.next={lane:0,revertLane:0,gesture:null,action:$.action,hasEagerState:$.hasEagerState,eagerState:$.eagerState,next:null}),he===Ki&&(ue=!0);else if((Cn&te)===te){$=$.next,te===Ki&&(ue=!0);continue}else he={lane:0,revertLane:$.revertLane,gesture:null,action:$.action,hasEagerState:$.hasEagerState,eagerState:$.eagerState,next:null},P===null?(N=P=he,E=y):P=P.next=he,Ge.lanes|=te,Qn|=te;he=$.action,Ci&&o(y,he),y=$.hasEagerState?$.eagerState:o(y,he)}else te={lane:he,revertLane:$.revertLane,gesture:$.gesture,action:$.action,hasEagerState:$.hasEagerState,eagerState:$.eagerState,next:null},P===null?(N=P=te,E=y):P=P.next=te,Ge.lanes|=he,Qn|=he;$=$.next}while($!==null&&$!==t);if(P===null?E=y:P.next=N,!Ht(y,e.memoizedState)&&(_t=!0,ue&&(o=Xi,o!==null)))throw o;e.memoizedState=y,e.baseState=E,e.baseQueue=P,r.lastRenderedState=y}return h===null&&(r.lanes=0),[e.memoizedState,r.dispatch]}function Zr(e){var t=gt(),o=t.queue;if(o===null)throw Error(a(311));o.lastRenderedReducer=e;var r=o.dispatch,h=o.pending,y=t.memoizedState;if(h!==null){o.pending=null;var E=h=h.next;do y=e(y,E.action),E=E.next;while(E!==h);Ht(y,t.memoizedState)||(_t=!0),t.memoizedState=y,t.baseQueue===null&&(t.baseState=y),o.lastRenderedState=y}return[y,r]}function Wc(e,t,o){var r=Ge,h=gt(),y=Je;if(y){if(o===void 0)throw Error(a(407));o=o()}else o=t();var E=!Ht((nt||h).memoizedState,o);if(E&&(h.memoizedState=o,_t=!0),h=h.queue,Qr(ef.bind(null,r,h,e),[e]),h.getSnapshot!==t||E||vt!==null&&vt.memoizedState.tag&1){if(r.flags|=2048,to(9,{destroy:void 0},jc.bind(null,r,h,o,t),null),lt===null)throw Error(a(349));y||(Cn&127)!==0||$c(r,t,o)}return o}function $c(e,t,o){e.flags|=16384,e={getSnapshot:t,value:o},t=Ge.updateQueue,t===null?(t=Zl(),Ge.updateQueue=t,t.stores=[e]):(o=t.stores,o===null?t.stores=[e]:o.push(e))}function jc(e,t,o,r){t.value=o,t.getSnapshot=r,tf(t)&&nf(e)}function ef(e,t,o){return o(function(){tf(t)&&nf(e)})}function tf(e){var t=e.getSnapshot;e=e.value;try{var o=t();return!Ht(e,o)}catch{return!0}}function nf(e){var t=pi(e,2);t!==null&&qt(t,e,2)}function Kr(e){var t=Dt();if(typeof e=="function"){var o=e;if(e=o(),Ci){ft(!0);try{o()}finally{ft(!1)}}}return t.memoizedState=t.baseState=e,t.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:An,lastRenderedState:e},t}function of(e,t,o,r){return e.baseState=o,Jr(e,nt,typeof r=="function"?r:An)}function Qg(e,t,o,r,h){if($l(e))throw Error(a(485));if(e=t.action,e!==null){var y={payload:h,action:e,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(E){y.listeners.push(E)}};V.T!==null?o(!0):y.isTransition=!1,r(y),o=t.pending,o===null?(y.next=t.pending=y,lf(t,y)):(y.next=o.next,t.pending=o.next=y)}}function lf(e,t){var o=t.action,r=t.payload,h=e.state;if(t.isTransition){var y=V.T,E={};V.T=E;try{var N=o(h,r),P=V.S;P!==null&&P(E,N),af(e,t,N)}catch($){Xr(e,t,$)}finally{y!==null&&E.types!==null&&(y.types=E.types),V.T=y}}else try{y=o(h,r),af(e,t,y)}catch($){Xr(e,t,$)}}function af(e,t,o){o!==null&&typeof o=="object"&&typeof o.then=="function"?o.then(function(r){rf(e,t,r)},function(r){return Xr(e,t,r)}):rf(e,t,o)}function rf(e,t,o){t.status="fulfilled",t.value=o,sf(t),e.state=o,t=e.pending,t!==null&&(o=t.next,o===t?e.pending=null:(o=o.next,t.next=o,lf(e,o)))}function Xr(e,t,o){var r=e.pending;if(e.pending=null,r!==null){r=r.next;do t.status="rejected",t.reason=o,sf(t),t=t.next;while(t!==r)}e.action=null}function sf(e){e=e.listeners;for(var t=0;t<e.length;t++)(0,e[t])()}function uf(e,t){return t}function cf(e,t){if(Je){var o=lt.formState;if(o!==null){e:{var r=Ge;if(Je){if(at){t:{for(var h=at,y=en;h.nodeType!==8;){if(!y){h=null;break t}if(h=nn(h.nextSibling),h===null){h=null;break t}}y=h.data,h=y==="F!"||y==="F"?h:null}if(h){at=nn(h.nextSibling),r=h.data==="F!";break e}}Pn(r)}r=!1}r&&(t=o[0])}}return o=Dt(),o.memoizedState=o.baseState=t,r={pending:null,lanes:0,dispatch:null,lastRenderedReducer:uf,lastRenderedState:t},o.queue=r,o=Mf.bind(null,Ge,r),r.dispatch=o,r=Kr(!1),y=ts.bind(null,Ge,!1,r.queue),r=Dt(),h={state:t,dispatch:null,action:e,pending:null},r.queue=h,o=Qg.bind(null,Ge,h,y,o),h.dispatch=o,r.memoizedState=e,[t,o,!1]}function ff(e){var t=gt();return df(t,nt,e)}function df(e,t,o){if(t=Jr(e,t,uf)[0],e=Xl(An)[0],typeof t=="object"&&t!==null&&typeof t.then=="function")try{var r=Jo(t)}catch(E){throw E===Qi?ql:E}else r=t;t=gt();var h=t.queue,y=h.dispatch;return o!==t.memoizedState&&(Ge.flags|=2048,to(9,{destroy:void 0},Wg.bind(null,h,o),null)),[r,y,e]}function Wg(e,t){e.action=t}function hf(e){var t=gt(),o=nt;if(o!==null)return df(t,o,e);gt(),t=t.memoizedState,o=gt();var r=o.queue.dispatch;return o.memoizedState=e,[t,r,!1]}function to(e,t,o,r){return e={tag:e,create:o,deps:r,inst:t,next:null},t=Ge.updateQueue,t===null&&(t=Zl(),Ge.updateQueue=t),o=t.lastEffect,o===null?t.lastEffect=e.next=e:(r=o.next,o.next=e,e.next=r,t.lastEffect=e),e}function pf(){return gt().memoizedState}function Ql(e,t,o,r){var h=Dt();Ge.flags|=e,h.memoizedState=to(1|t,{destroy:void 0},o,r===void 0?null:r)}function Wl(e,t,o,r){var h=gt();r=r===void 0?null:r;var y=h.memoizedState.inst;nt!==null&&r!==null&&Hr(r,nt.memoizedState.deps)?h.memoizedState=to(t,y,o,r):(Ge.flags|=e,h.memoizedState=to(1|t,y,o,r))}function mf(e,t){Ql(8390656,8,e,t)}function Qr(e,t){Wl(2048,8,e,t)}function $g(e){Ge.flags|=4;var t=Ge.updateQueue;if(t===null)t=Zl(),Ge.updateQueue=t,t.events=[e];else{var o=t.events;o===null?t.events=[e]:o.push(e)}}function gf(e){var t=gt().memoizedState;return $g({ref:t,nextImpl:e}),function(){if(($e&2)!==0)throw Error(a(440));return t.impl.apply(void 0,arguments)}}function yf(e,t){return Wl(4,2,e,t)}function vf(e,t){return Wl(4,4,e,t)}function _f(e,t){if(typeof t=="function"){e=e();var o=t(e);return function(){typeof o=="function"?o():t(null)}}if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function Sf(e,t,o){o=o!=null?o.concat([e]):null,Wl(4,4,_f.bind(null,t,e),o)}function Wr(){}function Tf(e,t){var o=gt();t=t===void 0?null:t;var r=o.memoizedState;return t!==null&&Hr(t,r[1])?r[0]:(o.memoizedState=[e,t],e)}function Ef(e,t){var o=gt();t=t===void 0?null:t;var r=o.memoizedState;if(t!==null&&Hr(t,r[1]))return r[0];if(r=e(),Ci){ft(!0);try{e()}finally{ft(!1)}}return o.memoizedState=[r,t],r}function $r(e,t,o){return o===void 0||(Cn&1073741824)!==0&&(Oe&261930)===0?e.memoizedState=t:(e.memoizedState=o,e=Cd(),Ge.lanes|=e,Qn|=e,o)}function Cf(e,t,o,r){return Ht(o,t)?o:$i.current!==null?(e=$r(e,o,r),Ht(e,t)||(_t=!0),e):(Cn&42)===0||(Cn&1073741824)!==0&&(Oe&261930)===0?(_t=!0,e.memoizedState=o):(e=Cd(),Ge.lanes|=e,Qn|=e,t)}function Af(e,t,o,r,h){var y=F.p;F.p=y!==0&&8>y?y:8;var E=V.T,N={};V.T=N,ts(e,!1,t,o);try{var P=h(),$=V.S;if($!==null&&$(N,P),P!==null&&typeof P=="object"&&typeof P.then=="function"){var ue=Zg(P,r);Zo(e,t,ue,Jt(e))}else Zo(e,t,r,Jt(e))}catch(he){Zo(e,t,{then:function(){},status:"rejected",reason:he},Jt())}finally{F.p=y,E!==null&&N.types!==null&&(E.types=N.types),V.T=E}}function jg(){}function jr(e,t,o,r){if(e.tag!==5)throw Error(a(476));var h=xf(e).queue;Af(e,h,t,me,o===null?jg:function(){return wf(e),o(r)})}function xf(e){var t=e.memoizedState;if(t!==null)return t;t={memoizedState:me,baseState:me,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:An,lastRenderedState:me},next:null};var o={};return t.next={memoizedState:o,baseState:o,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:An,lastRenderedState:o},next:null},e.memoizedState=t,e=e.alternate,e!==null&&(e.memoizedState=t),t}function wf(e){var t=xf(e);t.next===null&&(t=e.alternate.memoizedState),Zo(e,t.next.queue,{},Jt())}function es(){return wt(cl)}function Rf(){return gt().memoizedState}function bf(){return gt().memoizedState}function ey(e){for(var t=e.return;t!==null;){switch(t.tag){case 24:case 3:var o=Jt();e=On(o);var r=Yn(t,e,o);r!==null&&(qt(r,t,o),Vo(r,t,o)),t={cache:Mr()},e.payload=t;return}t=t.return}}function ty(e,t,o){var r=Jt();o={lane:r,revertLane:0,gesture:null,action:o,hasEagerState:!1,eagerState:null,next:null},$l(e)?Nf(t,o):(o=vr(e,t,o,r),o!==null&&(qt(o,e,r),If(o,t,r)))}function Mf(e,t,o){var r=Jt();Zo(e,t,o,r)}function Zo(e,t,o,r){var h={lane:r,revertLane:0,gesture:null,action:o,hasEagerState:!1,eagerState:null,next:null};if($l(e))Nf(t,h);else{var y=e.alternate;if(e.lanes===0&&(y===null||y.lanes===0)&&(y=t.lastRenderedReducer,y!==null))try{var E=t.lastRenderedState,N=y(E,o);if(h.hasEagerState=!0,h.eagerState=N,Ht(N,E))return Dl(e,t,h,0),lt===null&&Il(),!1}catch{}finally{}if(o=vr(e,t,h,r),o!==null)return qt(o,e,r),If(o,t,r),!0}return!1}function ts(e,t,o,r){if(r={lane:2,revertLane:Us(),gesture:null,action:r,hasEagerState:!1,eagerState:null,next:null},$l(e)){if(t)throw Error(a(479))}else t=vr(e,o,r,2),t!==null&&qt(t,e,2)}function $l(e){var t=e.alternate;return e===Ge||t!==null&&t===Ge}function Nf(e,t){ji=Yl=!0;var o=e.pending;o===null?t.next=t:(t.next=o.next,o.next=t),e.pending=t}function If(e,t,o){if((o&4194048)!==0){var r=t.lanes;r&=e.pendingLanes,o|=r,t.lanes=o,zu(e,o)}}var Ko={readContext:wt,use:Kl,useCallback:dt,useContext:dt,useEffect:dt,useImperativeHandle:dt,useLayoutEffect:dt,useInsertionEffect:dt,useMemo:dt,useReducer:dt,useRef:dt,useState:dt,useDebugValue:dt,useDeferredValue:dt,useTransition:dt,useSyncExternalStore:dt,useId:dt,useHostTransitionStatus:dt,useFormState:dt,useActionState:dt,useOptimistic:dt,useMemoCache:dt,useCacheRefresh:dt};Ko.useEffectEvent=dt;var Df={readContext:wt,use:Kl,useCallback:function(e,t){return Dt().memoizedState=[e,t===void 0?null:t],e},useContext:wt,useEffect:mf,useImperativeHandle:function(e,t,o){o=o!=null?o.concat([e]):null,Ql(4194308,4,_f.bind(null,t,e),o)},useLayoutEffect:function(e,t){return Ql(4194308,4,e,t)},useInsertionEffect:function(e,t){Ql(4,2,e,t)},useMemo:function(e,t){var o=Dt();t=t===void 0?null:t;var r=e();if(Ci){ft(!0);try{e()}finally{ft(!1)}}return o.memoizedState=[r,t],r},useReducer:function(e,t,o){var r=Dt();if(o!==void 0){var h=o(t);if(Ci){ft(!0);try{o(t)}finally{ft(!1)}}}else h=t;return r.memoizedState=r.baseState=h,e={pending:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:h},r.queue=e,e=e.dispatch=ty.bind(null,Ge,e),[r.memoizedState,e]},useRef:function(e){var t=Dt();return e={current:e},t.memoizedState=e},useState:function(e){e=Kr(e);var t=e.queue,o=Mf.bind(null,Ge,t);return t.dispatch=o,[e.memoizedState,o]},useDebugValue:Wr,useDeferredValue:function(e,t){var o=Dt();return $r(o,e,t)},useTransition:function(){var e=Kr(!1);return e=Af.bind(null,Ge,e.queue,!0,!1),Dt().memoizedState=e,[!1,e]},useSyncExternalStore:function(e,t,o){var r=Ge,h=Dt();if(Je){if(o===void 0)throw Error(a(407));o=o()}else{if(o=t(),lt===null)throw Error(a(349));(Oe&127)!==0||$c(r,t,o)}h.memoizedState=o;var y={value:o,getSnapshot:t};return h.queue=y,mf(ef.bind(null,r,y,e),[e]),r.flags|=2048,to(9,{destroy:void 0},jc.bind(null,r,y,o,t),null),o},useId:function(){var e=Dt(),t=lt.identifierPrefix;if(Je){var o=dn,r=fn;o=(r&~(1<<32-Ze(r)-1)).toString(32)+o,t="_"+t+"R_"+o,o=Jl++,0<o&&(t+="H"+o.toString(32)),t+="_"}else o=Kg++,t="_"+t+"r_"+o.toString(32)+"_";return e.memoizedState=t},useHostTransitionStatus:es,useFormState:cf,useActionState:cf,useOptimistic:function(e){var t=Dt();t.memoizedState=t.baseState=e;var o={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return t.queue=o,t=ts.bind(null,Ge,!0,o),o.dispatch=t,[e,t]},useMemoCache:Yr,useCacheRefresh:function(){return Dt().memoizedState=ey.bind(null,Ge)},useEffectEvent:function(e){var t=Dt(),o={impl:e};return t.memoizedState=o,function(){if(($e&2)!==0)throw Error(a(440));return o.impl.apply(void 0,arguments)}}},ns={readContext:wt,use:Kl,useCallback:Tf,useContext:wt,useEffect:Qr,useImperativeHandle:Sf,useInsertionEffect:yf,useLayoutEffect:vf,useMemo:Ef,useReducer:Xl,useRef:pf,useState:function(){return Xl(An)},useDebugValue:Wr,useDeferredValue:function(e,t){var o=gt();return Cf(o,nt.memoizedState,e,t)},useTransition:function(){var e=Xl(An)[0],t=gt().memoizedState;return[typeof e=="boolean"?e:Jo(e),t]},useSyncExternalStore:Wc,useId:Rf,useHostTransitionStatus:es,useFormState:ff,useActionState:ff,useOptimistic:function(e,t){var o=gt();return of(o,nt,e,t)},useMemoCache:Yr,useCacheRefresh:bf};ns.useEffectEvent=gf;var Uf={readContext:wt,use:Kl,useCallback:Tf,useContext:wt,useEffect:Qr,useImperativeHandle:Sf,useInsertionEffect:yf,useLayoutEffect:vf,useMemo:Ef,useReducer:Zr,useRef:pf,useState:function(){return Zr(An)},useDebugValue:Wr,useDeferredValue:function(e,t){var o=gt();return nt===null?$r(o,e,t):Cf(o,nt.memoizedState,e,t)},useTransition:function(){var e=Zr(An)[0],t=gt().memoizedState;return[typeof e=="boolean"?e:Jo(e),t]},useSyncExternalStore:Wc,useId:Rf,useHostTransitionStatus:es,useFormState:hf,useActionState:hf,useOptimistic:function(e,t){var o=gt();return nt!==null?of(o,nt,e,t):(o.baseState=e,[e,o.queue.dispatch])},useMemoCache:Yr,useCacheRefresh:bf};Uf.useEffectEvent=gf;function is(e,t,o,r){t=e.memoizedState,o=o(r,t),o=o==null?t:_({},t,o),e.memoizedState=o,e.lanes===0&&(e.updateQueue.baseState=o)}var os={enqueueSetState:function(e,t,o){e=e._reactInternals;var r=Jt(),h=On(r);h.payload=t,o!=null&&(h.callback=o),t=Yn(e,h,r),t!==null&&(qt(t,e,r),Vo(t,e,r))},enqueueReplaceState:function(e,t,o){e=e._reactInternals;var r=Jt(),h=On(r);h.tag=1,h.payload=t,o!=null&&(h.callback=o),t=Yn(e,h,r),t!==null&&(qt(t,e,r),Vo(t,e,r))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var o=Jt(),r=On(o);r.tag=2,t!=null&&(r.callback=t),t=Yn(e,r,o),t!==null&&(qt(t,e,o),Vo(t,e,o))}};function kf(e,t,o,r,h,y,E){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(r,y,E):t.prototype&&t.prototype.isPureReactComponent?!ko(o,r)||!ko(h,y):!0}function zf(e,t,o,r){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(o,r),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(o,r),t.state!==e&&os.enqueueReplaceState(t,t.state,null)}function Ai(e,t){var o=t;if("ref"in t){o={};for(var r in t)r!=="ref"&&(o[r]=t[r])}if(e=e.defaultProps){o===t&&(o=_({},o));for(var h in e)o[h]===void 0&&(o[h]=e[h])}return o}function Lf(e){Nl(e)}function Bf(e){console.error(e)}function Gf(e){Nl(e)}function jl(e,t){try{var o=e.onUncaughtError;o(t.value,{componentStack:t.stack})}catch(r){setTimeout(function(){throw r})}}function qf(e,t,o){try{var r=e.onCaughtError;r(o.value,{componentStack:o.stack,errorBoundary:t.tag===1?t.stateNode:null})}catch(h){setTimeout(function(){throw h})}}function ls(e,t,o){return o=On(o),o.tag=3,o.payload={element:null},o.callback=function(){jl(e,t)},o}function Hf(e){return e=On(e),e.tag=3,e}function Pf(e,t,o,r){var h=o.type.getDerivedStateFromError;if(typeof h=="function"){var y=r.value;e.payload=function(){return h(y)},e.callback=function(){qf(t,o,r)}}var E=o.stateNode;E!==null&&typeof E.componentDidCatch=="function"&&(e.callback=function(){qf(t,o,r),typeof h!="function"&&(Wn===null?Wn=new Set([this]):Wn.add(this));var N=r.stack;this.componentDidCatch(r.value,{componentStack:N!==null?N:""})})}function ny(e,t,o,r,h){if(o.flags|=32768,r!==null&&typeof r=="object"&&typeof r.then=="function"){if(t=o.alternate,t!==null&&Zi(t,o,h,!0),o=Vt.current,o!==null){switch(o.tag){case 31:case 13:return tn===null?fa():o.alternate===null&&ht===0&&(ht=3),o.flags&=-257,o.flags|=65536,o.lanes=h,r===Hl?o.flags|=16384:(t=o.updateQueue,t===null?o.updateQueue=new Set([r]):t.add(r),Ns(e,r,h)),!1;case 22:return o.flags|=65536,r===Hl?o.flags|=16384:(t=o.updateQueue,t===null?(t={transitions:null,markerInstances:null,retryQueue:new Set([r])},o.updateQueue=t):(o=t.retryQueue,o===null?t.retryQueue=new Set([r]):o.add(r)),Ns(e,r,h)),!1}throw Error(a(435,o.tag))}return Ns(e,r,h),fa(),!1}if(Je)return t=Vt.current,t!==null?((t.flags&65536)===0&&(t.flags|=256),t.flags|=65536,t.lanes=h,r!==Ar&&(e=Error(a(422),{cause:r}),Bo(Wt(e,o)))):(r!==Ar&&(t=Error(a(423),{cause:r}),Bo(Wt(t,o))),e=e.current.alternate,e.flags|=65536,h&=-h,e.lanes|=h,r=Wt(r,o),h=ls(e.stateNode,r,h),zr(e,h),ht!==4&&(ht=2)),!1;var y=Error(a(520),{cause:r});if(y=Wt(y,o),nl===null?nl=[y]:nl.push(y),ht!==4&&(ht=2),t===null)return!0;r=Wt(r,o),o=t;do{switch(o.tag){case 3:return o.flags|=65536,e=h&-h,o.lanes|=e,e=ls(o.stateNode,r,e),zr(o,e),!1;case 1:if(t=o.type,y=o.stateNode,(o.flags&128)===0&&(typeof t.getDerivedStateFromError=="function"||y!==null&&typeof y.componentDidCatch=="function"&&(Wn===null||!Wn.has(y))))return o.flags|=65536,h&=-h,o.lanes|=h,h=Hf(h),Pf(h,e,o,r),zr(o,h),!1}o=o.return}while(o!==null);return!1}var as=Error(a(461)),_t=!1;function Rt(e,t,o,r){t.child=e===null?Oc(t,null,o,r):Ei(t,e.child,o,r)}function Vf(e,t,o,r,h){o=o.render;var y=t.ref;if("ref"in r){var E={};for(var N in r)N!=="ref"&&(E[N]=r[N])}else E=r;return vi(t),r=Pr(e,t,o,E,y,h),N=Vr(),e!==null&&!_t?(Fr(e,t,h),xn(e,t,h)):(Je&&N&&Er(t),t.flags|=1,Rt(e,t,r,h),t.child)}function Ff(e,t,o,r,h){if(e===null){var y=o.type;return typeof y=="function"&&!_r(y)&&y.defaultProps===void 0&&o.compare===null?(t.tag=15,t.type=y,Of(e,t,y,r,h)):(e=kl(o.type,null,r,t,t.mode,h),e.ref=t.ref,e.return=t,t.child=e)}if(y=e.child,!ps(e,h)){var E=y.memoizedProps;if(o=o.compare,o=o!==null?o:ko,o(E,r)&&e.ref===t.ref)return xn(e,t,h)}return t.flags|=1,e=_n(y,r),e.ref=t.ref,e.return=t,t.child=e}function Of(e,t,o,r,h){if(e!==null){var y=e.memoizedProps;if(ko(y,r)&&e.ref===t.ref)if(_t=!1,t.pendingProps=r=y,ps(e,h))(e.flags&131072)!==0&&(_t=!0);else return t.lanes=e.lanes,xn(e,t,h)}return rs(e,t,o,r,h)}function Yf(e,t,o,r){var h=r.children,y=e!==null?e.memoizedState:null;if(e===null&&t.stateNode===null&&(t.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),r.mode==="hidden"){if((t.flags&128)!==0){if(y=y!==null?y.baseLanes|o:o,e!==null){for(r=t.child=e.child,h=0;r!==null;)h=h|r.lanes|r.childLanes,r=r.sibling;r=h&~y}else r=0,t.child=null;return Jf(e,t,y,o,r)}if((o&536870912)!==0)t.memoizedState={baseLanes:0,cachePool:null},e!==null&&Gl(t,y!==null?y.cachePool:null),y!==null?Zc(t,y):Br(),Kc(t);else return r=t.lanes=536870912,Jf(e,t,y!==null?y.baseLanes|o:o,o,r)}else y!==null?(Gl(t,y.cachePool),Zc(t,y),Zn(),t.memoizedState=null):(e!==null&&Gl(t,null),Br(),Zn());return Rt(e,t,h,o),t.child}function Xo(e,t){return e!==null&&e.tag===22||t.stateNode!==null||(t.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),t.sibling}function Jf(e,t,o,r,h){var y=Ir();return y=y===null?null:{parent:yt._currentValue,pool:y},t.memoizedState={baseLanes:o,cachePool:y},e!==null&&Gl(t,null),Br(),Kc(t),e!==null&&Zi(e,t,r,!0),t.childLanes=h,null}function ea(e,t){return t=na({mode:t.mode,children:t.children},e.mode),t.ref=e.ref,e.child=t,t.return=e,t}function Zf(e,t,o){return Ei(t,e.child,null,o),e=ea(t,t.pendingProps),e.flags|=2,Ft(t),t.memoizedState=null,e}function iy(e,t,o){var r=t.pendingProps,h=(t.flags&128)!==0;if(t.flags&=-129,e===null){if(Je){if(r.mode==="hidden")return e=ea(t,r),t.lanes=536870912,Xo(null,e);if(qr(t),(e=at)?(e=lh(e,en),e=e!==null&&e.data==="&"?e:null,e!==null&&(t.memoizedState={dehydrated:e,treeContext:qn!==null?{id:fn,overflow:dn}:null,retryLane:536870912,hydrationErrors:null},o=Mc(e),o.return=t,t.child=o,xt=t,at=null)):e=null,e===null)throw Pn(t);return t.lanes=536870912,null}return ea(t,r)}var y=e.memoizedState;if(y!==null){var E=y.dehydrated;if(qr(t),h)if(t.flags&256)t.flags&=-257,t=Zf(e,t,o);else if(t.memoizedState!==null)t.child=e.child,t.flags|=128,t=null;else throw Error(a(558));else if(_t||Zi(e,t,o,!1),h=(o&e.childLanes)!==0,_t||h){if(r=lt,r!==null&&(E=Lu(r,o),E!==0&&E!==y.retryLane))throw y.retryLane=E,pi(e,E),qt(r,e,E),as;fa(),t=Zf(e,t,o)}else e=y.treeContext,at=nn(E.nextSibling),xt=t,Je=!0,Hn=null,en=!1,e!==null&&Dc(t,e),t=ea(t,r),t.flags|=4096;return t}return e=_n(e.child,{mode:r.mode,children:r.children}),e.ref=t.ref,t.child=e,e.return=t,e}function ta(e,t){var o=t.ref;if(o===null)e!==null&&e.ref!==null&&(t.flags|=4194816);else{if(typeof o!="function"&&typeof o!="object")throw Error(a(284));(e===null||e.ref!==o)&&(t.flags|=4194816)}}function rs(e,t,o,r,h){return vi(t),o=Pr(e,t,o,r,void 0,h),r=Vr(),e!==null&&!_t?(Fr(e,t,h),xn(e,t,h)):(Je&&r&&Er(t),t.flags|=1,Rt(e,t,o,h),t.child)}function Kf(e,t,o,r,h,y){return vi(t),t.updateQueue=null,o=Qc(t,r,o,h),Xc(e),r=Vr(),e!==null&&!_t?(Fr(e,t,y),xn(e,t,y)):(Je&&r&&Er(t),t.flags|=1,Rt(e,t,o,y),t.child)}function Xf(e,t,o,r,h){if(vi(t),t.stateNode===null){var y=Fi,E=o.contextType;typeof E=="object"&&E!==null&&(y=wt(E)),y=new o(r,y),t.memoizedState=y.state!==null&&y.state!==void 0?y.state:null,y.updater=os,t.stateNode=y,y._reactInternals=t,y=t.stateNode,y.props=r,y.state=t.memoizedState,y.refs={},Ur(t),E=o.contextType,y.context=typeof E=="object"&&E!==null?wt(E):Fi,y.state=t.memoizedState,E=o.getDerivedStateFromProps,typeof E=="function"&&(is(t,o,E,r),y.state=t.memoizedState),typeof o.getDerivedStateFromProps=="function"||typeof y.getSnapshotBeforeUpdate=="function"||typeof y.UNSAFE_componentWillMount!="function"&&typeof y.componentWillMount!="function"||(E=y.state,typeof y.componentWillMount=="function"&&y.componentWillMount(),typeof y.UNSAFE_componentWillMount=="function"&&y.UNSAFE_componentWillMount(),E!==y.state&&os.enqueueReplaceState(y,y.state,null),Oo(t,r,y,h),Fo(),y.state=t.memoizedState),typeof y.componentDidMount=="function"&&(t.flags|=4194308),r=!0}else if(e===null){y=t.stateNode;var N=t.memoizedProps,P=Ai(o,N);y.props=P;var $=y.context,ue=o.contextType;E=Fi,typeof ue=="object"&&ue!==null&&(E=wt(ue));var he=o.getDerivedStateFromProps;ue=typeof he=="function"||typeof y.getSnapshotBeforeUpdate=="function",N=t.pendingProps!==N,ue||typeof y.UNSAFE_componentWillReceiveProps!="function"&&typeof y.componentWillReceiveProps!="function"||(N||$!==E)&&zf(t,y,r,E),Fn=!1;var te=t.memoizedState;y.state=te,Oo(t,r,y,h),Fo(),$=t.memoizedState,N||te!==$||Fn?(typeof he=="function"&&(is(t,o,he,r),$=t.memoizedState),(P=Fn||kf(t,o,P,r,te,$,E))?(ue||typeof y.UNSAFE_componentWillMount!="function"&&typeof y.componentWillMount!="function"||(typeof y.componentWillMount=="function"&&y.componentWillMount(),typeof y.UNSAFE_componentWillMount=="function"&&y.UNSAFE_componentWillMount()),typeof y.componentDidMount=="function"&&(t.flags|=4194308)):(typeof y.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=r,t.memoizedState=$),y.props=r,y.state=$,y.context=E,r=P):(typeof y.componentDidMount=="function"&&(t.flags|=4194308),r=!1)}else{y=t.stateNode,kr(e,t),E=t.memoizedProps,ue=Ai(o,E),y.props=ue,he=t.pendingProps,te=y.context,$=o.contextType,P=Fi,typeof $=="object"&&$!==null&&(P=wt($)),N=o.getDerivedStateFromProps,($=typeof N=="function"||typeof y.getSnapshotBeforeUpdate=="function")||typeof y.UNSAFE_componentWillReceiveProps!="function"&&typeof y.componentWillReceiveProps!="function"||(E!==he||te!==P)&&zf(t,y,r,P),Fn=!1,te=t.memoizedState,y.state=te,Oo(t,r,y,h),Fo();var ae=t.memoizedState;E!==he||te!==ae||Fn||e!==null&&e.dependencies!==null&&Ll(e.dependencies)?(typeof N=="function"&&(is(t,o,N,r),ae=t.memoizedState),(ue=Fn||kf(t,o,ue,r,te,ae,P)||e!==null&&e.dependencies!==null&&Ll(e.dependencies))?($||typeof y.UNSAFE_componentWillUpdate!="function"&&typeof y.componentWillUpdate!="function"||(typeof y.componentWillUpdate=="function"&&y.componentWillUpdate(r,ae,P),typeof y.UNSAFE_componentWillUpdate=="function"&&y.UNSAFE_componentWillUpdate(r,ae,P)),typeof y.componentDidUpdate=="function"&&(t.flags|=4),typeof y.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof y.componentDidUpdate!="function"||E===e.memoizedProps&&te===e.memoizedState||(t.flags|=4),typeof y.getSnapshotBeforeUpdate!="function"||E===e.memoizedProps&&te===e.memoizedState||(t.flags|=1024),t.memoizedProps=r,t.memoizedState=ae),y.props=r,y.state=ae,y.context=P,r=ue):(typeof y.componentDidUpdate!="function"||E===e.memoizedProps&&te===e.memoizedState||(t.flags|=4),typeof y.getSnapshotBeforeUpdate!="function"||E===e.memoizedProps&&te===e.memoizedState||(t.flags|=1024),r=!1)}return y=r,ta(e,t),r=(t.flags&128)!==0,y||r?(y=t.stateNode,o=r&&typeof o.getDerivedStateFromError!="function"?null:y.render(),t.flags|=1,e!==null&&r?(t.child=Ei(t,e.child,null,h),t.child=Ei(t,null,o,h)):Rt(e,t,o,h),t.memoizedState=y.state,e=t.child):e=xn(e,t,h),e}function Qf(e,t,o,r){return gi(),t.flags|=256,Rt(e,t,o,r),t.child}var ss={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function us(e){return{baseLanes:e,cachePool:Gc()}}function cs(e,t,o){return e=e!==null?e.childLanes&~o:0,t&&(e|=Yt),e}function Wf(e,t,o){var r=t.pendingProps,h=!1,y=(t.flags&128)!==0,E;if((E=y)||(E=e!==null&&e.memoizedState===null?!1:(mt.current&2)!==0),E&&(h=!0,t.flags&=-129),E=(t.flags&32)!==0,t.flags&=-33,e===null){if(Je){if(h?Jn(t):Zn(),(e=at)?(e=lh(e,en),e=e!==null&&e.data!=="&"?e:null,e!==null&&(t.memoizedState={dehydrated:e,treeContext:qn!==null?{id:fn,overflow:dn}:null,retryLane:536870912,hydrationErrors:null},o=Mc(e),o.return=t,t.child=o,xt=t,at=null)):e=null,e===null)throw Pn(t);return Js(e)?t.lanes=32:t.lanes=536870912,null}var N=r.children;return r=r.fallback,h?(Zn(),h=t.mode,N=na({mode:"hidden",children:N},h),r=mi(r,h,o,null),N.return=t,r.return=t,N.sibling=r,t.child=N,r=t.child,r.memoizedState=us(o),r.childLanes=cs(e,E,o),t.memoizedState=ss,Xo(null,r)):(Jn(t),fs(t,N))}var P=e.memoizedState;if(P!==null&&(N=P.dehydrated,N!==null)){if(y)t.flags&256?(Jn(t),t.flags&=-257,t=ds(e,t,o)):t.memoizedState!==null?(Zn(),t.child=e.child,t.flags|=128,t=null):(Zn(),N=r.fallback,h=t.mode,r=na({mode:"visible",children:r.children},h),N=mi(N,h,o,null),N.flags|=2,r.return=t,N.return=t,r.sibling=N,t.child=r,Ei(t,e.child,null,o),r=t.child,r.memoizedState=us(o),r.childLanes=cs(e,E,o),t.memoizedState=ss,t=Xo(null,r));else if(Jn(t),Js(N)){if(E=N.nextSibling&&N.nextSibling.dataset,E)var $=E.dgst;E=$,r=Error(a(419)),r.stack="",r.digest=E,Bo({value:r,source:null,stack:null}),t=ds(e,t,o)}else if(_t||Zi(e,t,o,!1),E=(o&e.childLanes)!==0,_t||E){if(E=lt,E!==null&&(r=Lu(E,o),r!==0&&r!==P.retryLane))throw P.retryLane=r,pi(e,r),qt(E,e,r),as;Ys(N)||fa(),t=ds(e,t,o)}else Ys(N)?(t.flags|=192,t.child=e.child,t=null):(e=P.treeContext,at=nn(N.nextSibling),xt=t,Je=!0,Hn=null,en=!1,e!==null&&Dc(t,e),t=fs(t,r.children),t.flags|=4096);return t}return h?(Zn(),N=r.fallback,h=t.mode,P=e.child,$=P.sibling,r=_n(P,{mode:"hidden",children:r.children}),r.subtreeFlags=P.subtreeFlags&65011712,$!==null?N=_n($,N):(N=mi(N,h,o,null),N.flags|=2),N.return=t,r.return=t,r.sibling=N,t.child=r,Xo(null,r),r=t.child,N=e.child.memoizedState,N===null?N=us(o):(h=N.cachePool,h!==null?(P=yt._currentValue,h=h.parent!==P?{parent:P,pool:P}:h):h=Gc(),N={baseLanes:N.baseLanes|o,cachePool:h}),r.memoizedState=N,r.childLanes=cs(e,E,o),t.memoizedState=ss,Xo(e.child,r)):(Jn(t),o=e.child,e=o.sibling,o=_n(o,{mode:"visible",children:r.children}),o.return=t,o.sibling=null,e!==null&&(E=t.deletions,E===null?(t.deletions=[e],t.flags|=16):E.push(e)),t.child=o,t.memoizedState=null,o)}function fs(e,t){return t=na({mode:"visible",children:t},e.mode),t.return=e,e.child=t}function na(e,t){return e=Pt(22,e,null,t),e.lanes=0,e}function ds(e,t,o){return Ei(t,e.child,null,o),e=fs(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function $f(e,t,o){e.lanes|=t;var r=e.alternate;r!==null&&(r.lanes|=t),Rr(e.return,t,o)}function hs(e,t,o,r,h,y){var E=e.memoizedState;E===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:o,tailMode:h,treeForkCount:y}:(E.isBackwards=t,E.rendering=null,E.renderingStartTime=0,E.last=r,E.tail=o,E.tailMode=h,E.treeForkCount=y)}function jf(e,t,o){var r=t.pendingProps,h=r.revealOrder,y=r.tail;r=r.children;var E=mt.current,N=(E&2)!==0;if(N?(E=E&1|2,t.flags|=128):E&=1,ne(mt,E),Rt(e,t,r,o),r=Je?Lo:0,!N&&e!==null&&(e.flags&128)!==0)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&$f(e,o,t);else if(e.tag===19)$f(e,o,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}switch(h){case"forwards":for(o=t.child,h=null;o!==null;)e=o.alternate,e!==null&&Ol(e)===null&&(h=o),o=o.sibling;o=h,o===null?(h=t.child,t.child=null):(h=o.sibling,o.sibling=null),hs(t,!1,h,o,y,r);break;case"backwards":case"unstable_legacy-backwards":for(o=null,h=t.child,t.child=null;h!==null;){if(e=h.alternate,e!==null&&Ol(e)===null){t.child=h;break}e=h.sibling,h.sibling=o,o=h,h=e}hs(t,!0,o,null,y,r);break;case"together":hs(t,!1,null,null,void 0,r);break;default:t.memoizedState=null}return t.child}function xn(e,t,o){if(e!==null&&(t.dependencies=e.dependencies),Qn|=t.lanes,(o&t.childLanes)===0)if(e!==null){if(Zi(e,t,o,!1),(o&t.childLanes)===0)return null}else return null;if(e!==null&&t.child!==e.child)throw Error(a(153));if(t.child!==null){for(e=t.child,o=_n(e,e.pendingProps),t.child=o,o.return=t;e.sibling!==null;)e=e.sibling,o=o.sibling=_n(e,e.pendingProps),o.return=t;o.sibling=null}return t.child}function ps(e,t){return(e.lanes&t)!==0?!0:(e=e.dependencies,!!(e!==null&&Ll(e)))}function oy(e,t,o){switch(t.tag){case 3:Re(t,t.stateNode.containerInfo),Vn(t,yt,e.memoizedState.cache),gi();break;case 27:case 5:je(t);break;case 4:Re(t,t.stateNode.containerInfo);break;case 10:Vn(t,t.type,t.memoizedProps.value);break;case 31:if(t.memoizedState!==null)return t.flags|=128,qr(t),null;break;case 13:var r=t.memoizedState;if(r!==null)return r.dehydrated!==null?(Jn(t),t.flags|=128,null):(o&t.child.childLanes)!==0?Wf(e,t,o):(Jn(t),e=xn(e,t,o),e!==null?e.sibling:null);Jn(t);break;case 19:var h=(e.flags&128)!==0;if(r=(o&t.childLanes)!==0,r||(Zi(e,t,o,!1),r=(o&t.childLanes)!==0),h){if(r)return jf(e,t,o);t.flags|=128}if(h=t.memoizedState,h!==null&&(h.rendering=null,h.tail=null,h.lastEffect=null),ne(mt,mt.current),r)break;return null;case 22:return t.lanes=0,Yf(e,t,o,t.pendingProps);case 24:Vn(t,yt,e.memoizedState.cache)}return xn(e,t,o)}function ed(e,t,o){if(e!==null)if(e.memoizedProps!==t.pendingProps)_t=!0;else{if(!ps(e,o)&&(t.flags&128)===0)return _t=!1,oy(e,t,o);_t=(e.flags&131072)!==0}else _t=!1,Je&&(t.flags&1048576)!==0&&Ic(t,Lo,t.index);switch(t.lanes=0,t.tag){case 16:e:{var r=t.pendingProps;if(e=Si(t.elementType),t.type=e,typeof e=="function")_r(e)?(r=Ai(e,r),t.tag=1,t=Xf(null,t,e,r,o)):(t.tag=0,t=rs(null,t,e,r,o));else{if(e!=null){var h=e.$$typeof;if(h===G){t.tag=11,t=Vf(null,t,e,r,o);break e}else if(h===H){t.tag=14,t=Ff(null,t,e,r,o);break e}}throw t=x(e)||e,Error(a(306,t,""))}}return t;case 0:return rs(e,t,t.type,t.pendingProps,o);case 1:return r=t.type,h=Ai(r,t.pendingProps),Xf(e,t,r,h,o);case 3:e:{if(Re(t,t.stateNode.containerInfo),e===null)throw Error(a(387));r=t.pendingProps;var y=t.memoizedState;h=y.element,kr(e,t),Oo(t,r,null,o);var E=t.memoizedState;if(r=E.cache,Vn(t,yt,r),r!==y.cache&&br(t,[yt],o,!0),Fo(),r=E.element,y.isDehydrated)if(y={element:r,isDehydrated:!1,cache:E.cache},t.updateQueue.baseState=y,t.memoizedState=y,t.flags&256){t=Qf(e,t,r,o);break e}else if(r!==h){h=Wt(Error(a(424)),t),Bo(h),t=Qf(e,t,r,o);break e}else{switch(e=t.stateNode.containerInfo,e.nodeType){case 9:e=e.body;break;default:e=e.nodeName==="HTML"?e.ownerDocument.body:e}for(at=nn(e.firstChild),xt=t,Je=!0,Hn=null,en=!0,o=Oc(t,null,r,o),t.child=o;o;)o.flags=o.flags&-3|4096,o=o.sibling}else{if(gi(),r===h){t=xn(e,t,o);break e}Rt(e,t,r,o)}t=t.child}return t;case 26:return ta(e,t),e===null?(o=fh(t.type,null,t.pendingProps,null))?t.memoizedState=o:Je||(o=t.type,e=t.pendingProps,r=va(Ce.current).createElement(o),r[At]=t,r[Ut]=e,bt(r,o,e),Et(r),t.stateNode=r):t.memoizedState=fh(t.type,e.memoizedProps,t.pendingProps,e.memoizedState),null;case 27:return je(t),e===null&&Je&&(r=t.stateNode=sh(t.type,t.pendingProps,Ce.current),xt=t,en=!0,h=at,ti(t.type)?(Zs=h,at=nn(r.firstChild)):at=h),Rt(e,t,t.pendingProps.children,o),ta(e,t),e===null&&(t.flags|=4194304),t.child;case 5:return e===null&&Je&&((h=r=at)&&(r=ky(r,t.type,t.pendingProps,en),r!==null?(t.stateNode=r,xt=t,at=nn(r.firstChild),en=!1,h=!0):h=!1),h||Pn(t)),je(t),h=t.type,y=t.pendingProps,E=e!==null?e.memoizedProps:null,r=y.children,Vs(h,y)?r=null:E!==null&&Vs(h,E)&&(t.flags|=32),t.memoizedState!==null&&(h=Pr(e,t,Xg,null,null,o),cl._currentValue=h),ta(e,t),Rt(e,t,r,o),t.child;case 6:return e===null&&Je&&((e=o=at)&&(o=zy(o,t.pendingProps,en),o!==null?(t.stateNode=o,xt=t,at=null,e=!0):e=!1),e||Pn(t)),null;case 13:return Wf(e,t,o);case 4:return Re(t,t.stateNode.containerInfo),r=t.pendingProps,e===null?t.child=Ei(t,null,r,o):Rt(e,t,r,o),t.child;case 11:return Vf(e,t,t.type,t.pendingProps,o);case 7:return Rt(e,t,t.pendingProps,o),t.child;case 8:return Rt(e,t,t.pendingProps.children,o),t.child;case 12:return Rt(e,t,t.pendingProps.children,o),t.child;case 10:return r=t.pendingProps,Vn(t,t.type,r.value),Rt(e,t,r.children,o),t.child;case 9:return h=t.type._context,r=t.pendingProps.children,vi(t),h=wt(h),r=r(h),t.flags|=1,Rt(e,t,r,o),t.child;case 14:return Ff(e,t,t.type,t.pendingProps,o);case 15:return Of(e,t,t.type,t.pendingProps,o);case 19:return jf(e,t,o);case 31:return iy(e,t,o);case 22:return Yf(e,t,o,t.pendingProps);case 24:return vi(t),r=wt(yt),e===null?(h=Ir(),h===null&&(h=lt,y=Mr(),h.pooledCache=y,y.refCount++,y!==null&&(h.pooledCacheLanes|=o),h=y),t.memoizedState={parent:r,cache:h},Ur(t),Vn(t,yt,h)):((e.lanes&o)!==0&&(kr(e,t),Oo(t,null,null,o),Fo()),h=e.memoizedState,y=t.memoizedState,h.parent!==r?(h={parent:r,cache:r},t.memoizedState=h,t.lanes===0&&(t.memoizedState=t.updateQueue.baseState=h),Vn(t,yt,r)):(r=y.cache,Vn(t,yt,r),r!==h.cache&&br(t,[yt],o,!0))),Rt(e,t,t.pendingProps.children,o),t.child;case 29:throw t.pendingProps}throw Error(a(156,t.tag))}function wn(e){e.flags|=4}function ms(e,t,o,r,h){if((t=(e.mode&32)!==0)&&(t=!1),t){if(e.flags|=16777216,(h&335544128)===h)if(e.stateNode.complete)e.flags|=8192;else if(Rd())e.flags|=8192;else throw Ti=Hl,Dr}else e.flags&=-16777217}function td(e,t){if(t.type!=="stylesheet"||(t.state.loading&4)!==0)e.flags&=-16777217;else if(e.flags|=16777216,!gh(t))if(Rd())e.flags|=8192;else throw Ti=Hl,Dr}function ia(e,t){t!==null&&(e.flags|=4),e.flags&16384&&(t=e.tag!==22?Uu():536870912,e.lanes|=t,lo|=t)}function Qo(e,t){if(!Je)switch(e.tailMode){case"hidden":t=e.tail;for(var o=null;t!==null;)t.alternate!==null&&(o=t),t=t.sibling;o===null?e.tail=null:o.sibling=null;break;case"collapsed":o=e.tail;for(var r=null;o!==null;)o.alternate!==null&&(r=o),o=o.sibling;r===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:r.sibling=null}}function rt(e){var t=e.alternate!==null&&e.alternate.child===e.child,o=0,r=0;if(t)for(var h=e.child;h!==null;)o|=h.lanes|h.childLanes,r|=h.subtreeFlags&65011712,r|=h.flags&65011712,h.return=e,h=h.sibling;else for(h=e.child;h!==null;)o|=h.lanes|h.childLanes,r|=h.subtreeFlags,r|=h.flags,h.return=e,h=h.sibling;return e.subtreeFlags|=r,e.childLanes=o,t}function ly(e,t,o){var r=t.pendingProps;switch(Cr(t),t.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return rt(t),null;case 1:return rt(t),null;case 3:return o=t.stateNode,r=null,e!==null&&(r=e.memoizedState.cache),t.memoizedState.cache!==r&&(t.flags|=2048),En(yt),Ne(),o.pendingContext&&(o.context=o.pendingContext,o.pendingContext=null),(e===null||e.child===null)&&(Ji(t)?wn(t):e===null||e.memoizedState.isDehydrated&&(t.flags&256)===0||(t.flags|=1024,xr())),rt(t),null;case 26:var h=t.type,y=t.memoizedState;return e===null?(wn(t),y!==null?(rt(t),td(t,y)):(rt(t),ms(t,h,null,r,o))):y?y!==e.memoizedState?(wn(t),rt(t),td(t,y)):(rt(t),t.flags&=-16777217):(e=e.memoizedProps,e!==r&&wn(t),rt(t),ms(t,h,e,r,o)),null;case 27:if(be(t),o=Ce.current,h=t.type,e!==null&&t.stateNode!=null)e.memoizedProps!==r&&wn(t);else{if(!r){if(t.stateNode===null)throw Error(a(166));return rt(t),null}e=ie.current,Ji(t)?Uc(t):(e=sh(h,r,o),t.stateNode=e,wn(t))}return rt(t),null;case 5:if(be(t),h=t.type,e!==null&&t.stateNode!=null)e.memoizedProps!==r&&wn(t);else{if(!r){if(t.stateNode===null)throw Error(a(166));return rt(t),null}if(y=ie.current,Ji(t))Uc(t);else{var E=va(Ce.current);switch(y){case 1:y=E.createElementNS("http://www.w3.org/2000/svg",h);break;case 2:y=E.createElementNS("http://www.w3.org/1998/Math/MathML",h);break;default:switch(h){case"svg":y=E.createElementNS("http://www.w3.org/2000/svg",h);break;case"math":y=E.createElementNS("http://www.w3.org/1998/Math/MathML",h);break;case"script":y=E.createElement("div"),y.innerHTML="<script><\/script>",y=y.removeChild(y.firstChild);break;case"select":y=typeof r.is=="string"?E.createElement("select",{is:r.is}):E.createElement("select"),r.multiple?y.multiple=!0:r.size&&(y.size=r.size);break;default:y=typeof r.is=="string"?E.createElement(h,{is:r.is}):E.createElement(h)}}y[At]=t,y[Ut]=r;e:for(E=t.child;E!==null;){if(E.tag===5||E.tag===6)y.appendChild(E.stateNode);else if(E.tag!==4&&E.tag!==27&&E.child!==null){E.child.return=E,E=E.child;continue}if(E===t)break e;for(;E.sibling===null;){if(E.return===null||E.return===t)break e;E=E.return}E.sibling.return=E.return,E=E.sibling}t.stateNode=y;e:switch(bt(y,h,r),h){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}r&&wn(t)}}return rt(t),ms(t,t.type,e===null?null:e.memoizedProps,t.pendingProps,o),null;case 6:if(e&&t.stateNode!=null)e.memoizedProps!==r&&wn(t);else{if(typeof r!="string"&&t.stateNode===null)throw Error(a(166));if(e=Ce.current,Ji(t)){if(e=t.stateNode,o=t.memoizedProps,r=null,h=xt,h!==null)switch(h.tag){case 27:case 5:r=h.memoizedProps}e[At]=t,e=!!(e.nodeValue===o||r!==null&&r.suppressHydrationWarning===!0||Wd(e.nodeValue,o)),e||Pn(t,!0)}else e=va(e).createTextNode(r),e[At]=t,t.stateNode=e}return rt(t),null;case 31:if(o=t.memoizedState,e===null||e.memoizedState!==null){if(r=Ji(t),o!==null){if(e===null){if(!r)throw Error(a(318));if(e=t.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(a(557));e[At]=t}else gi(),(t.flags&128)===0&&(t.memoizedState=null),t.flags|=4;rt(t),e=!1}else o=xr(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=o),e=!0;if(!e)return t.flags&256?(Ft(t),t):(Ft(t),null);if((t.flags&128)!==0)throw Error(a(558))}return rt(t),null;case 13:if(r=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(h=Ji(t),r!==null&&r.dehydrated!==null){if(e===null){if(!h)throw Error(a(318));if(h=t.memoizedState,h=h!==null?h.dehydrated:null,!h)throw Error(a(317));h[At]=t}else gi(),(t.flags&128)===0&&(t.memoizedState=null),t.flags|=4;rt(t),h=!1}else h=xr(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=h),h=!0;if(!h)return t.flags&256?(Ft(t),t):(Ft(t),null)}return Ft(t),(t.flags&128)!==0?(t.lanes=o,t):(o=r!==null,e=e!==null&&e.memoizedState!==null,o&&(r=t.child,h=null,r.alternate!==null&&r.alternate.memoizedState!==null&&r.alternate.memoizedState.cachePool!==null&&(h=r.alternate.memoizedState.cachePool.pool),y=null,r.memoizedState!==null&&r.memoizedState.cachePool!==null&&(y=r.memoizedState.cachePool.pool),y!==h&&(r.flags|=2048)),o!==e&&o&&(t.child.flags|=8192),ia(t,t.updateQueue),rt(t),null);case 4:return Ne(),e===null&&Bs(t.stateNode.containerInfo),rt(t),null;case 10:return En(t.type),rt(t),null;case 19:if(k(mt),r=t.memoizedState,r===null)return rt(t),null;if(h=(t.flags&128)!==0,y=r.rendering,y===null)if(h)Qo(r,!1);else{if(ht!==0||e!==null&&(e.flags&128)!==0)for(e=t.child;e!==null;){if(y=Ol(e),y!==null){for(t.flags|=128,Qo(r,!1),e=y.updateQueue,t.updateQueue=e,ia(t,e),t.subtreeFlags=0,e=o,o=t.child;o!==null;)bc(o,e),o=o.sibling;return ne(mt,mt.current&1|2),Je&&Sn(t,r.treeForkCount),t.child}e=e.sibling}r.tail!==null&&Se()>sa&&(t.flags|=128,h=!0,Qo(r,!1),t.lanes=4194304)}else{if(!h)if(e=Ol(y),e!==null){if(t.flags|=128,h=!0,e=e.updateQueue,t.updateQueue=e,ia(t,e),Qo(r,!0),r.tail===null&&r.tailMode==="hidden"&&!y.alternate&&!Je)return rt(t),null}else 2*Se()-r.renderingStartTime>sa&&o!==536870912&&(t.flags|=128,h=!0,Qo(r,!1),t.lanes=4194304);r.isBackwards?(y.sibling=t.child,t.child=y):(e=r.last,e!==null?e.sibling=y:t.child=y,r.last=y)}return r.tail!==null?(e=r.tail,r.rendering=e,r.tail=e.sibling,r.renderingStartTime=Se(),e.sibling=null,o=mt.current,ne(mt,h?o&1|2:o&1),Je&&Sn(t,r.treeForkCount),e):(rt(t),null);case 22:case 23:return Ft(t),Gr(),r=t.memoizedState!==null,e!==null?e.memoizedState!==null!==r&&(t.flags|=8192):r&&(t.flags|=8192),r?(o&536870912)!==0&&(t.flags&128)===0&&(rt(t),t.subtreeFlags&6&&(t.flags|=8192)):rt(t),o=t.updateQueue,o!==null&&ia(t,o.retryQueue),o=null,e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(o=e.memoizedState.cachePool.pool),r=null,t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(r=t.memoizedState.cachePool.pool),r!==o&&(t.flags|=2048),e!==null&&k(_i),null;case 24:return o=null,e!==null&&(o=e.memoizedState.cache),t.memoizedState.cache!==o&&(t.flags|=2048),En(yt),rt(t),null;case 25:return null;case 30:return null}throw Error(a(156,t.tag))}function ay(e,t){switch(Cr(t),t.tag){case 1:return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return En(yt),Ne(),e=t.flags,(e&65536)!==0&&(e&128)===0?(t.flags=e&-65537|128,t):null;case 26:case 27:case 5:return be(t),null;case 31:if(t.memoizedState!==null){if(Ft(t),t.alternate===null)throw Error(a(340));gi()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 13:if(Ft(t),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(a(340));gi()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return k(mt),null;case 4:return Ne(),null;case 10:return En(t.type),null;case 22:case 23:return Ft(t),Gr(),e!==null&&k(_i),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 24:return En(yt),null;case 25:return null;default:return null}}function nd(e,t){switch(Cr(t),t.tag){case 3:En(yt),Ne();break;case 26:case 27:case 5:be(t);break;case 4:Ne();break;case 31:t.memoizedState!==null&&Ft(t);break;case 13:Ft(t);break;case 19:k(mt);break;case 10:En(t.type);break;case 22:case 23:Ft(t),Gr(),e!==null&&k(_i);break;case 24:En(yt)}}function Wo(e,t){try{var o=t.updateQueue,r=o!==null?o.lastEffect:null;if(r!==null){var h=r.next;o=h;do{if((o.tag&e)===e){r=void 0;var y=o.create,E=o.inst;r=y(),E.destroy=r}o=o.next}while(o!==h)}}catch(N){tt(t,t.return,N)}}function Kn(e,t,o){try{var r=t.updateQueue,h=r!==null?r.lastEffect:null;if(h!==null){var y=h.next;r=y;do{if((r.tag&e)===e){var E=r.inst,N=E.destroy;if(N!==void 0){E.destroy=void 0,h=t;var P=o,$=N;try{$()}catch(ue){tt(h,P,ue)}}}r=r.next}while(r!==y)}}catch(ue){tt(t,t.return,ue)}}function id(e){var t=e.updateQueue;if(t!==null){var o=e.stateNode;try{Jc(t,o)}catch(r){tt(e,e.return,r)}}}function od(e,t,o){o.props=Ai(e.type,e.memoizedProps),o.state=e.memoizedState;try{o.componentWillUnmount()}catch(r){tt(e,t,r)}}function $o(e,t){try{var o=e.ref;if(o!==null){switch(e.tag){case 26:case 27:case 5:var r=e.stateNode;break;case 30:r=e.stateNode;break;default:r=e.stateNode}typeof o=="function"?e.refCleanup=o(r):o.current=r}}catch(h){tt(e,t,h)}}function hn(e,t){var o=e.ref,r=e.refCleanup;if(o!==null)if(typeof r=="function")try{r()}catch(h){tt(e,t,h)}finally{e.refCleanup=null,e=e.alternate,e!=null&&(e.refCleanup=null)}else if(typeof o=="function")try{o(null)}catch(h){tt(e,t,h)}else o.current=null}function ld(e){var t=e.type,o=e.memoizedProps,r=e.stateNode;try{e:switch(t){case"button":case"input":case"select":case"textarea":o.autoFocus&&r.focus();break e;case"img":o.src?r.src=o.src:o.srcSet&&(r.srcset=o.srcSet)}}catch(h){tt(e,e.return,h)}}function gs(e,t,o){try{var r=e.stateNode;by(r,e.type,o,t),r[Ut]=t}catch(h){tt(e,e.return,h)}}function ad(e){return e.tag===5||e.tag===3||e.tag===26||e.tag===27&&ti(e.type)||e.tag===4}function ys(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||ad(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.tag===27&&ti(e.type)||e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function vs(e,t,o){var r=e.tag;if(r===5||r===6)e=e.stateNode,t?(o.nodeType===9?o.body:o.nodeName==="HTML"?o.ownerDocument.body:o).insertBefore(e,t):(t=o.nodeType===9?o.body:o.nodeName==="HTML"?o.ownerDocument.body:o,t.appendChild(e),o=o._reactRootContainer,o!=null||t.onclick!==null||(t.onclick=yn));else if(r!==4&&(r===27&&ti(e.type)&&(o=e.stateNode,t=null),e=e.child,e!==null))for(vs(e,t,o),e=e.sibling;e!==null;)vs(e,t,o),e=e.sibling}function oa(e,t,o){var r=e.tag;if(r===5||r===6)e=e.stateNode,t?o.insertBefore(e,t):o.appendChild(e);else if(r!==4&&(r===27&&ti(e.type)&&(o=e.stateNode),e=e.child,e!==null))for(oa(e,t,o),e=e.sibling;e!==null;)oa(e,t,o),e=e.sibling}function rd(e){var t=e.stateNode,o=e.memoizedProps;try{for(var r=e.type,h=t.attributes;h.length;)t.removeAttributeNode(h[0]);bt(t,r,o),t[At]=e,t[Ut]=o}catch(y){tt(e,e.return,y)}}var Rn=!1,St=!1,_s=!1,sd=typeof WeakSet=="function"?WeakSet:Set,Ct=null;function ry(e,t){if(e=e.containerInfo,Hs=xa,e=_c(e),dr(e)){if("selectionStart"in e)var o={start:e.selectionStart,end:e.selectionEnd};else e:{o=(o=e.ownerDocument)&&o.defaultView||window;var r=o.getSelection&&o.getSelection();if(r&&r.rangeCount!==0){o=r.anchorNode;var h=r.anchorOffset,y=r.focusNode;r=r.focusOffset;try{o.nodeType,y.nodeType}catch{o=null;break e}var E=0,N=-1,P=-1,$=0,ue=0,he=e,te=null;t:for(;;){for(var ae;he!==o||h!==0&&he.nodeType!==3||(N=E+h),he!==y||r!==0&&he.nodeType!==3||(P=E+r),he.nodeType===3&&(E+=he.nodeValue.length),(ae=he.firstChild)!==null;)te=he,he=ae;for(;;){if(he===e)break t;if(te===o&&++$===h&&(N=E),te===y&&++ue===r&&(P=E),(ae=he.nextSibling)!==null)break;he=te,te=he.parentNode}he=ae}o=N===-1||P===-1?null:{start:N,end:P}}else o=null}o=o||{start:0,end:0}}else o=null;for(Ps={focusedElem:e,selectionRange:o},xa=!1,Ct=t;Ct!==null;)if(t=Ct,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,Ct=e;else for(;Ct!==null;){switch(t=Ct,y=t.alternate,e=t.flags,t.tag){case 0:if((e&4)!==0&&(e=t.updateQueue,e=e!==null?e.events:null,e!==null))for(o=0;o<e.length;o++)h=e[o],h.ref.impl=h.nextImpl;break;case 11:case 15:break;case 1:if((e&1024)!==0&&y!==null){e=void 0,o=t,h=y.memoizedProps,y=y.memoizedState,r=o.stateNode;try{var xe=Ai(o.type,h);e=r.getSnapshotBeforeUpdate(xe,y),r.__reactInternalSnapshotBeforeUpdate=e}catch(Le){tt(o,o.return,Le)}}break;case 3:if((e&1024)!==0){if(e=t.stateNode.containerInfo,o=e.nodeType,o===9)Os(e);else if(o===1)switch(e.nodeName){case"HEAD":case"HTML":case"BODY":Os(e);break;default:e.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((e&1024)!==0)throw Error(a(163))}if(e=t.sibling,e!==null){e.return=t.return,Ct=e;break}Ct=t.return}}function ud(e,t,o){var r=o.flags;switch(o.tag){case 0:case 11:case 15:Mn(e,o),r&4&&Wo(5,o);break;case 1:if(Mn(e,o),r&4)if(e=o.stateNode,t===null)try{e.componentDidMount()}catch(E){tt(o,o.return,E)}else{var h=Ai(o.type,t.memoizedProps);t=t.memoizedState;try{e.componentDidUpdate(h,t,e.__reactInternalSnapshotBeforeUpdate)}catch(E){tt(o,o.return,E)}}r&64&&id(o),r&512&&$o(o,o.return);break;case 3:if(Mn(e,o),r&64&&(e=o.updateQueue,e!==null)){if(t=null,o.child!==null)switch(o.child.tag){case 27:case 5:t=o.child.stateNode;break;case 1:t=o.child.stateNode}try{Jc(e,t)}catch(E){tt(o,o.return,E)}}break;case 27:t===null&&r&4&&rd(o);case 26:case 5:Mn(e,o),t===null&&r&4&&ld(o),r&512&&$o(o,o.return);break;case 12:Mn(e,o);break;case 31:Mn(e,o),r&4&&dd(e,o);break;case 13:Mn(e,o),r&4&&hd(e,o),r&64&&(e=o.memoizedState,e!==null&&(e=e.dehydrated,e!==null&&(o=gy.bind(null,o),Ly(e,o))));break;case 22:if(r=o.memoizedState!==null||Rn,!r){t=t!==null&&t.memoizedState!==null||St,h=Rn;var y=St;Rn=r,(St=t)&&!y?Nn(e,o,(o.subtreeFlags&8772)!==0):Mn(e,o),Rn=h,St=y}break;case 30:break;default:Mn(e,o)}}function cd(e){var t=e.alternate;t!==null&&(e.alternate=null,cd(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&Xa(t)),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}var ut=null,zt=!1;function bn(e,t,o){for(o=o.child;o!==null;)fd(e,t,o),o=o.sibling}function fd(e,t,o){if(Pe&&typeof Pe.onCommitFiberUnmount=="function")try{Pe.onCommitFiberUnmount(Me,o)}catch{}switch(o.tag){case 26:St||hn(o,t),bn(e,t,o),o.memoizedState?o.memoizedState.count--:o.stateNode&&(o=o.stateNode,o.parentNode.removeChild(o));break;case 27:St||hn(o,t);var r=ut,h=zt;ti(o.type)&&(ut=o.stateNode,zt=!1),bn(e,t,o),rl(o.stateNode),ut=r,zt=h;break;case 5:St||hn(o,t);case 6:if(r=ut,h=zt,ut=null,bn(e,t,o),ut=r,zt=h,ut!==null)if(zt)try{(ut.nodeType===9?ut.body:ut.nodeName==="HTML"?ut.ownerDocument.body:ut).removeChild(o.stateNode)}catch(y){tt(o,t,y)}else try{ut.removeChild(o.stateNode)}catch(y){tt(o,t,y)}break;case 18:ut!==null&&(zt?(e=ut,ih(e.nodeType===9?e.body:e.nodeName==="HTML"?e.ownerDocument.body:e,o.stateNode),po(e)):ih(ut,o.stateNode));break;case 4:r=ut,h=zt,ut=o.stateNode.containerInfo,zt=!0,bn(e,t,o),ut=r,zt=h;break;case 0:case 11:case 14:case 15:Kn(2,o,t),St||Kn(4,o,t),bn(e,t,o);break;case 1:St||(hn(o,t),r=o.stateNode,typeof r.componentWillUnmount=="function"&&od(o,t,r)),bn(e,t,o);break;case 21:bn(e,t,o);break;case 22:St=(r=St)||o.memoizedState!==null,bn(e,t,o),St=r;break;default:bn(e,t,o)}}function dd(e,t){if(t.memoizedState===null&&(e=t.alternate,e!==null&&(e=e.memoizedState,e!==null))){e=e.dehydrated;try{po(e)}catch(o){tt(t,t.return,o)}}}function hd(e,t){if(t.memoizedState===null&&(e=t.alternate,e!==null&&(e=e.memoizedState,e!==null&&(e=e.dehydrated,e!==null))))try{po(e)}catch(o){tt(t,t.return,o)}}function sy(e){switch(e.tag){case 31:case 13:case 19:var t=e.stateNode;return t===null&&(t=e.stateNode=new sd),t;case 22:return e=e.stateNode,t=e._retryCache,t===null&&(t=e._retryCache=new sd),t;default:throw Error(a(435,e.tag))}}function la(e,t){var o=sy(e);t.forEach(function(r){if(!o.has(r)){o.add(r);var h=yy.bind(null,e,r);r.then(h,h)}})}function Lt(e,t){var o=t.deletions;if(o!==null)for(var r=0;r<o.length;r++){var h=o[r],y=e,E=t,N=E;e:for(;N!==null;){switch(N.tag){case 27:if(ti(N.type)){ut=N.stateNode,zt=!1;break e}break;case 5:ut=N.stateNode,zt=!1;break e;case 3:case 4:ut=N.stateNode.containerInfo,zt=!0;break e}N=N.return}if(ut===null)throw Error(a(160));fd(y,E,h),ut=null,zt=!1,y=h.alternate,y!==null&&(y.return=null),h.return=null}if(t.subtreeFlags&13886)for(t=t.child;t!==null;)pd(t,e),t=t.sibling}var rn=null;function pd(e,t){var o=e.alternate,r=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:Lt(t,e),Bt(e),r&4&&(Kn(3,e,e.return),Wo(3,e),Kn(5,e,e.return));break;case 1:Lt(t,e),Bt(e),r&512&&(St||o===null||hn(o,o.return)),r&64&&Rn&&(e=e.updateQueue,e!==null&&(r=e.callbacks,r!==null&&(o=e.shared.hiddenCallbacks,e.shared.hiddenCallbacks=o===null?r:o.concat(r))));break;case 26:var h=rn;if(Lt(t,e),Bt(e),r&512&&(St||o===null||hn(o,o.return)),r&4){var y=o!==null?o.memoizedState:null;if(r=e.memoizedState,o===null)if(r===null)if(e.stateNode===null){e:{r=e.type,o=e.memoizedProps,h=h.ownerDocument||h;t:switch(r){case"title":y=h.getElementsByTagName("title")[0],(!y||y[xo]||y[At]||y.namespaceURI==="http://www.w3.org/2000/svg"||y.hasAttribute("itemprop"))&&(y=h.createElement(r),h.head.insertBefore(y,h.querySelector("head > title"))),bt(y,r,o),y[At]=e,Et(y),r=y;break e;case"link":var E=ph("link","href",h).get(r+(o.href||""));if(E){for(var N=0;N<E.length;N++)if(y=E[N],y.getAttribute("href")===(o.href==null||o.href===""?null:o.href)&&y.getAttribute("rel")===(o.rel==null?null:o.rel)&&y.getAttribute("title")===(o.title==null?null:o.title)&&y.getAttribute("crossorigin")===(o.crossOrigin==null?null:o.crossOrigin)){E.splice(N,1);break t}}y=h.createElement(r),bt(y,r,o),h.head.appendChild(y);break;case"meta":if(E=ph("meta","content",h).get(r+(o.content||""))){for(N=0;N<E.length;N++)if(y=E[N],y.getAttribute("content")===(o.content==null?null:""+o.content)&&y.getAttribute("name")===(o.name==null?null:o.name)&&y.getAttribute("property")===(o.property==null?null:o.property)&&y.getAttribute("http-equiv")===(o.httpEquiv==null?null:o.httpEquiv)&&y.getAttribute("charset")===(o.charSet==null?null:o.charSet)){E.splice(N,1);break t}}y=h.createElement(r),bt(y,r,o),h.head.appendChild(y);break;default:throw Error(a(468,r))}y[At]=e,Et(y),r=y}e.stateNode=r}else mh(h,e.type,e.stateNode);else e.stateNode=hh(h,r,e.memoizedProps);else y!==r?(y===null?o.stateNode!==null&&(o=o.stateNode,o.parentNode.removeChild(o)):y.count--,r===null?mh(h,e.type,e.stateNode):hh(h,r,e.memoizedProps)):r===null&&e.stateNode!==null&&gs(e,e.memoizedProps,o.memoizedProps)}break;case 27:Lt(t,e),Bt(e),r&512&&(St||o===null||hn(o,o.return)),o!==null&&r&4&&gs(e,e.memoizedProps,o.memoizedProps);break;case 5:if(Lt(t,e),Bt(e),r&512&&(St||o===null||hn(o,o.return)),e.flags&32){h=e.stateNode;try{Li(h,"")}catch(xe){tt(e,e.return,xe)}}r&4&&e.stateNode!=null&&(h=e.memoizedProps,gs(e,h,o!==null?o.memoizedProps:h)),r&1024&&(_s=!0);break;case 6:if(Lt(t,e),Bt(e),r&4){if(e.stateNode===null)throw Error(a(162));r=e.memoizedProps,o=e.stateNode;try{o.nodeValue=r}catch(xe){tt(e,e.return,xe)}}break;case 3:if(Ta=null,h=rn,rn=_a(t.containerInfo),Lt(t,e),rn=h,Bt(e),r&4&&o!==null&&o.memoizedState.isDehydrated)try{po(t.containerInfo)}catch(xe){tt(e,e.return,xe)}_s&&(_s=!1,md(e));break;case 4:r=rn,rn=_a(e.stateNode.containerInfo),Lt(t,e),Bt(e),rn=r;break;case 12:Lt(t,e),Bt(e);break;case 31:Lt(t,e),Bt(e),r&4&&(r=e.updateQueue,r!==null&&(e.updateQueue=null,la(e,r)));break;case 13:Lt(t,e),Bt(e),e.child.flags&8192&&e.memoizedState!==null!=(o!==null&&o.memoizedState!==null)&&(ra=Se()),r&4&&(r=e.updateQueue,r!==null&&(e.updateQueue=null,la(e,r)));break;case 22:h=e.memoizedState!==null;var P=o!==null&&o.memoizedState!==null,$=Rn,ue=St;if(Rn=$||h,St=ue||P,Lt(t,e),St=ue,Rn=$,Bt(e),r&8192)e:for(t=e.stateNode,t._visibility=h?t._visibility&-2:t._visibility|1,h&&(o===null||P||Rn||St||xi(e)),o=null,t=e;;){if(t.tag===5||t.tag===26){if(o===null){P=o=t;try{if(y=P.stateNode,h)E=y.style,typeof E.setProperty=="function"?E.setProperty("display","none","important"):E.display="none";else{N=P.stateNode;var he=P.memoizedProps.style,te=he!=null&&he.hasOwnProperty("display")?he.display:null;N.style.display=te==null||typeof te=="boolean"?"":(""+te).trim()}}catch(xe){tt(P,P.return,xe)}}}else if(t.tag===6){if(o===null){P=t;try{P.stateNode.nodeValue=h?"":P.memoizedProps}catch(xe){tt(P,P.return,xe)}}}else if(t.tag===18){if(o===null){P=t;try{var ae=P.stateNode;h?oh(ae,!0):oh(P.stateNode,!1)}catch(xe){tt(P,P.return,xe)}}}else if((t.tag!==22&&t.tag!==23||t.memoizedState===null||t===e)&&t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;o===t&&(o=null),t=t.return}o===t&&(o=null),t.sibling.return=t.return,t=t.sibling}r&4&&(r=e.updateQueue,r!==null&&(o=r.retryQueue,o!==null&&(r.retryQueue=null,la(e,o))));break;case 19:Lt(t,e),Bt(e),r&4&&(r=e.updateQueue,r!==null&&(e.updateQueue=null,la(e,r)));break;case 30:break;case 21:break;default:Lt(t,e),Bt(e)}}function Bt(e){var t=e.flags;if(t&2){try{for(var o,r=e.return;r!==null;){if(ad(r)){o=r;break}r=r.return}if(o==null)throw Error(a(160));switch(o.tag){case 27:var h=o.stateNode,y=ys(e);oa(e,y,h);break;case 5:var E=o.stateNode;o.flags&32&&(Li(E,""),o.flags&=-33);var N=ys(e);oa(e,N,E);break;case 3:case 4:var P=o.stateNode.containerInfo,$=ys(e);vs(e,$,P);break;default:throw Error(a(161))}}catch(ue){tt(e,e.return,ue)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function md(e){if(e.subtreeFlags&1024)for(e=e.child;e!==null;){var t=e;md(t),t.tag===5&&t.flags&1024&&t.stateNode.reset(),e=e.sibling}}function Mn(e,t){if(t.subtreeFlags&8772)for(t=t.child;t!==null;)ud(e,t.alternate,t),t=t.sibling}function xi(e){for(e=e.child;e!==null;){var t=e;switch(t.tag){case 0:case 11:case 14:case 15:Kn(4,t,t.return),xi(t);break;case 1:hn(t,t.return);var o=t.stateNode;typeof o.componentWillUnmount=="function"&&od(t,t.return,o),xi(t);break;case 27:rl(t.stateNode);case 26:case 5:hn(t,t.return),xi(t);break;case 22:t.memoizedState===null&&xi(t);break;case 30:xi(t);break;default:xi(t)}e=e.sibling}}function Nn(e,t,o){for(o=o&&(t.subtreeFlags&8772)!==0,t=t.child;t!==null;){var r=t.alternate,h=e,y=t,E=y.flags;switch(y.tag){case 0:case 11:case 15:Nn(h,y,o),Wo(4,y);break;case 1:if(Nn(h,y,o),r=y,h=r.stateNode,typeof h.componentDidMount=="function")try{h.componentDidMount()}catch($){tt(r,r.return,$)}if(r=y,h=r.updateQueue,h!==null){var N=r.stateNode;try{var P=h.shared.hiddenCallbacks;if(P!==null)for(h.shared.hiddenCallbacks=null,h=0;h<P.length;h++)Yc(P[h],N)}catch($){tt(r,r.return,$)}}o&&E&64&&id(y),$o(y,y.return);break;case 27:rd(y);case 26:case 5:Nn(h,y,o),o&&r===null&&E&4&&ld(y),$o(y,y.return);break;case 12:Nn(h,y,o);break;case 31:Nn(h,y,o),o&&E&4&&dd(h,y);break;case 13:Nn(h,y,o),o&&E&4&&hd(h,y);break;case 22:y.memoizedState===null&&Nn(h,y,o),$o(y,y.return);break;case 30:break;default:Nn(h,y,o)}t=t.sibling}}function Ss(e,t){var o=null;e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(o=e.memoizedState.cachePool.pool),e=null,t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(e=t.memoizedState.cachePool.pool),e!==o&&(e!=null&&e.refCount++,o!=null&&Go(o))}function Ts(e,t){e=null,t.alternate!==null&&(e=t.alternate.memoizedState.cache),t=t.memoizedState.cache,t!==e&&(t.refCount++,e!=null&&Go(e))}function sn(e,t,o,r){if(t.subtreeFlags&10256)for(t=t.child;t!==null;)gd(e,t,o,r),t=t.sibling}function gd(e,t,o,r){var h=t.flags;switch(t.tag){case 0:case 11:case 15:sn(e,t,o,r),h&2048&&Wo(9,t);break;case 1:sn(e,t,o,r);break;case 3:sn(e,t,o,r),h&2048&&(e=null,t.alternate!==null&&(e=t.alternate.memoizedState.cache),t=t.memoizedState.cache,t!==e&&(t.refCount++,e!=null&&Go(e)));break;case 12:if(h&2048){sn(e,t,o,r),e=t.stateNode;try{var y=t.memoizedProps,E=y.id,N=y.onPostCommit;typeof N=="function"&&N(E,t.alternate===null?"mount":"update",e.passiveEffectDuration,-0)}catch(P){tt(t,t.return,P)}}else sn(e,t,o,r);break;case 31:sn(e,t,o,r);break;case 13:sn(e,t,o,r);break;case 23:break;case 22:y=t.stateNode,E=t.alternate,t.memoizedState!==null?y._visibility&2?sn(e,t,o,r):jo(e,t):y._visibility&2?sn(e,t,o,r):(y._visibility|=2,no(e,t,o,r,(t.subtreeFlags&10256)!==0||!1)),h&2048&&Ss(E,t);break;case 24:sn(e,t,o,r),h&2048&&Ts(t.alternate,t);break;default:sn(e,t,o,r)}}function no(e,t,o,r,h){for(h=h&&((t.subtreeFlags&10256)!==0||!1),t=t.child;t!==null;){var y=e,E=t,N=o,P=r,$=E.flags;switch(E.tag){case 0:case 11:case 15:no(y,E,N,P,h),Wo(8,E);break;case 23:break;case 22:var ue=E.stateNode;E.memoizedState!==null?ue._visibility&2?no(y,E,N,P,h):jo(y,E):(ue._visibility|=2,no(y,E,N,P,h)),h&&$&2048&&Ss(E.alternate,E);break;case 24:no(y,E,N,P,h),h&&$&2048&&Ts(E.alternate,E);break;default:no(y,E,N,P,h)}t=t.sibling}}function jo(e,t){if(t.subtreeFlags&10256)for(t=t.child;t!==null;){var o=e,r=t,h=r.flags;switch(r.tag){case 22:jo(o,r),h&2048&&Ss(r.alternate,r);break;case 24:jo(o,r),h&2048&&Ts(r.alternate,r);break;default:jo(o,r)}t=t.sibling}}var el=8192;function io(e,t,o){if(e.subtreeFlags&el)for(e=e.child;e!==null;)yd(e,t,o),e=e.sibling}function yd(e,t,o){switch(e.tag){case 26:io(e,t,o),e.flags&el&&e.memoizedState!==null&&Ky(o,rn,e.memoizedState,e.memoizedProps);break;case 5:io(e,t,o);break;case 3:case 4:var r=rn;rn=_a(e.stateNode.containerInfo),io(e,t,o),rn=r;break;case 22:e.memoizedState===null&&(r=e.alternate,r!==null&&r.memoizedState!==null?(r=el,el=16777216,io(e,t,o),el=r):io(e,t,o));break;default:io(e,t,o)}}function vd(e){var t=e.alternate;if(t!==null&&(e=t.child,e!==null)){t.child=null;do t=e.sibling,e.sibling=null,e=t;while(e!==null)}}function tl(e){var t=e.deletions;if((e.flags&16)!==0){if(t!==null)for(var o=0;o<t.length;o++){var r=t[o];Ct=r,Sd(r,e)}vd(e)}if(e.subtreeFlags&10256)for(e=e.child;e!==null;)_d(e),e=e.sibling}function _d(e){switch(e.tag){case 0:case 11:case 15:tl(e),e.flags&2048&&Kn(9,e,e.return);break;case 3:tl(e);break;case 12:tl(e);break;case 22:var t=e.stateNode;e.memoizedState!==null&&t._visibility&2&&(e.return===null||e.return.tag!==13)?(t._visibility&=-3,aa(e)):tl(e);break;default:tl(e)}}function aa(e){var t=e.deletions;if((e.flags&16)!==0){if(t!==null)for(var o=0;o<t.length;o++){var r=t[o];Ct=r,Sd(r,e)}vd(e)}for(e=e.child;e!==null;){switch(t=e,t.tag){case 0:case 11:case 15:Kn(8,t,t.return),aa(t);break;case 22:o=t.stateNode,o._visibility&2&&(o._visibility&=-3,aa(t));break;default:aa(t)}e=e.sibling}}function Sd(e,t){for(;Ct!==null;){var o=Ct;switch(o.tag){case 0:case 11:case 15:Kn(8,o,t);break;case 23:case 22:if(o.memoizedState!==null&&o.memoizedState.cachePool!==null){var r=o.memoizedState.cachePool.pool;r!=null&&r.refCount++}break;case 24:Go(o.memoizedState.cache)}if(r=o.child,r!==null)r.return=o,Ct=r;else e:for(o=e;Ct!==null;){r=Ct;var h=r.sibling,y=r.return;if(cd(r),r===o){Ct=null;break e}if(h!==null){h.return=y,Ct=h;break e}Ct=y}}}var uy={getCacheForType:function(e){var t=wt(yt),o=t.data.get(e);return o===void 0&&(o=e(),t.data.set(e,o)),o},cacheSignal:function(){return wt(yt).controller.signal}},cy=typeof WeakMap=="function"?WeakMap:Map,$e=0,lt=null,Ve=null,Oe=0,et=0,Ot=null,Xn=!1,oo=!1,Es=!1,In=0,ht=0,Qn=0,wi=0,Cs=0,Yt=0,lo=0,nl=null,Gt=null,As=!1,ra=0,Td=0,sa=1/0,ua=null,Wn=null,Tt=0,$n=null,ao=null,Dn=0,xs=0,ws=null,Ed=null,il=0,Rs=null;function Jt(){return($e&2)!==0&&Oe!==0?Oe&-Oe:V.T!==null?Us():Bu()}function Cd(){if(Yt===0)if((Oe&536870912)===0||Je){var e=ui;ui<<=1,(ui&3932160)===0&&(ui=262144),Yt=e}else Yt=536870912;return e=Vt.current,e!==null&&(e.flags|=32),Yt}function qt(e,t,o){(e===lt&&(et===2||et===9)||e.cancelPendingCommit!==null)&&(ro(e,0),jn(e,Oe,Yt,!1)),Ao(e,o),(($e&2)===0||e!==lt)&&(e===lt&&(($e&2)===0&&(wi|=o),ht===4&&jn(e,Oe,Yt,!1)),pn(e))}function Ad(e,t,o){if(($e&6)!==0)throw Error(a(327));var r=!o&&(t&127)===0&&(t&e.expiredLanes)===0||Co(e,t),h=r?hy(e,t):Ms(e,t,!0),y=r;do{if(h===0){oo&&!r&&jn(e,t,0,!1);break}else{if(o=e.current.alternate,y&&!fy(o)){h=Ms(e,t,!1),y=!1;continue}if(h===2){if(y=t,e.errorRecoveryDisabledLanes&y)var E=0;else E=e.pendingLanes&-536870913,E=E!==0?E:E&536870912?536870912:0;if(E!==0){t=E;e:{var N=e;h=nl;var P=N.current.memoizedState.isDehydrated;if(P&&(ro(N,E).flags|=256),E=Ms(N,E,!1),E!==2){if(Es&&!P){N.errorRecoveryDisabledLanes|=y,wi|=y,h=4;break e}y=Gt,Gt=h,y!==null&&(Gt===null?Gt=y:Gt.push.apply(Gt,y))}h=E}if(y=!1,h!==2)continue}}if(h===1){ro(e,0),jn(e,t,0,!0);break}e:{switch(r=e,y=h,y){case 0:case 1:throw Error(a(345));case 4:if((t&4194048)!==t)break;case 6:jn(r,t,Yt,!Xn);break e;case 2:Gt=null;break;case 3:case 5:break;default:throw Error(a(329))}if((t&62914560)===t&&(h=ra+300-Se(),10<h)){if(jn(r,t,Yt,!Xn),_l(r,0,!0)!==0)break e;Dn=t,r.timeoutHandle=th(xd.bind(null,r,o,Gt,ua,As,t,Yt,wi,lo,Xn,y,"Throttled",-0,0),h);break e}xd(r,o,Gt,ua,As,t,Yt,wi,lo,Xn,y,null,-0,0)}}break}while(!0);pn(e)}function xd(e,t,o,r,h,y,E,N,P,$,ue,he,te,ae){if(e.timeoutHandle=-1,he=t.subtreeFlags,he&8192||(he&16785408)===16785408){he={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:yn},yd(t,y,he);var xe=(y&62914560)===y?ra-Se():(y&4194048)===y?Td-Se():0;if(xe=Xy(he,xe),xe!==null){Dn=y,e.cancelPendingCommit=xe(Ud.bind(null,e,t,y,o,r,h,E,N,P,ue,he,null,te,ae)),jn(e,y,E,!$);return}}Ud(e,t,y,o,r,h,E,N,P)}function fy(e){for(var t=e;;){var o=t.tag;if((o===0||o===11||o===15)&&t.flags&16384&&(o=t.updateQueue,o!==null&&(o=o.stores,o!==null)))for(var r=0;r<o.length;r++){var h=o[r],y=h.getSnapshot;h=h.value;try{if(!Ht(y(),h))return!1}catch{return!1}}if(o=t.child,t.subtreeFlags&16384&&o!==null)o.return=t,t=o;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function jn(e,t,o,r){t&=~Cs,t&=~wi,e.suspendedLanes|=t,e.pingedLanes&=~t,r&&(e.warmLanes|=t),r=e.expirationTimes;for(var h=t;0<h;){var y=31-Ze(h),E=1<<y;r[y]=-1,h&=~E}o!==0&&ku(e,o,t)}function ca(){return($e&6)===0?(ol(0),!1):!0}function bs(){if(Ve!==null){if(et===0)var e=Ve.return;else e=Ve,Tn=yi=null,Or(e),Wi=null,Ho=0,e=Ve;for(;e!==null;)nd(e.alternate,e),e=e.return;Ve=null}}function ro(e,t){var o=e.timeoutHandle;o!==-1&&(e.timeoutHandle=-1,Iy(o)),o=e.cancelPendingCommit,o!==null&&(e.cancelPendingCommit=null,o()),Dn=0,bs(),lt=e,Ve=o=_n(e.current,null),Oe=t,et=0,Ot=null,Xn=!1,oo=Co(e,t),Es=!1,lo=Yt=Cs=wi=Qn=ht=0,Gt=nl=null,As=!1,(t&8)!==0&&(t|=t&32);var r=e.entangledLanes;if(r!==0)for(e=e.entanglements,r&=t;0<r;){var h=31-Ze(r),y=1<<h;t|=e[h],r&=~y}return In=t,Il(),o}function wd(e,t){Ge=null,V.H=Ko,t===Qi||t===ql?(t=Pc(),et=3):t===Dr?(t=Pc(),et=4):et=t===as?8:t!==null&&typeof t=="object"&&typeof t.then=="function"?6:1,Ot=t,Ve===null&&(ht=1,jl(e,Wt(t,e.current)))}function Rd(){var e=Vt.current;return e===null?!0:(Oe&4194048)===Oe?tn===null:(Oe&62914560)===Oe||(Oe&536870912)!==0?e===tn:!1}function bd(){var e=V.H;return V.H=Ko,e===null?Ko:e}function Md(){var e=V.A;return V.A=uy,e}function fa(){ht=4,Xn||(Oe&4194048)!==Oe&&Vt.current!==null||(oo=!0),(Qn&134217727)===0&&(wi&134217727)===0||lt===null||jn(lt,Oe,Yt,!1)}function Ms(e,t,o){var r=$e;$e|=2;var h=bd(),y=Md();(lt!==e||Oe!==t)&&(ua=null,ro(e,t)),t=!1;var E=ht;e:do try{if(et!==0&&Ve!==null){var N=Ve,P=Ot;switch(et){case 8:bs(),E=6;break e;case 3:case 2:case 9:case 6:Vt.current===null&&(t=!0);var $=et;if(et=0,Ot=null,so(e,N,P,$),o&&oo){E=0;break e}break;default:$=et,et=0,Ot=null,so(e,N,P,$)}}dy(),E=ht;break}catch(ue){wd(e,ue)}while(!0);return t&&e.shellSuspendCounter++,Tn=yi=null,$e=r,V.H=h,V.A=y,Ve===null&&(lt=null,Oe=0,Il()),E}function dy(){for(;Ve!==null;)Nd(Ve)}function hy(e,t){var o=$e;$e|=2;var r=bd(),h=Md();lt!==e||Oe!==t?(ua=null,sa=Se()+500,ro(e,t)):oo=Co(e,t);e:do try{if(et!==0&&Ve!==null){t=Ve;var y=Ot;t:switch(et){case 1:et=0,Ot=null,so(e,t,y,1);break;case 2:case 9:if(qc(y)){et=0,Ot=null,Id(t);break}t=function(){et!==2&&et!==9||lt!==e||(et=7),pn(e)},y.then(t,t);break e;case 3:et=7;break e;case 4:et=5;break e;case 7:qc(y)?(et=0,Ot=null,Id(t)):(et=0,Ot=null,so(e,t,y,7));break;case 5:var E=null;switch(Ve.tag){case 26:E=Ve.memoizedState;case 5:case 27:var N=Ve;if(E?gh(E):N.stateNode.complete){et=0,Ot=null;var P=N.sibling;if(P!==null)Ve=P;else{var $=N.return;$!==null?(Ve=$,da($)):Ve=null}break t}}et=0,Ot=null,so(e,t,y,5);break;case 6:et=0,Ot=null,so(e,t,y,6);break;case 8:bs(),ht=6;break e;default:throw Error(a(462))}}py();break}catch(ue){wd(e,ue)}while(!0);return Tn=yi=null,V.H=r,V.A=h,$e=o,Ve!==null?0:(lt=null,Oe=0,Il(),ht)}function py(){for(;Ve!==null&&!ee();)Nd(Ve)}function Nd(e){var t=ed(e.alternate,e,In);e.memoizedProps=e.pendingProps,t===null?da(e):Ve=t}function Id(e){var t=e,o=t.alternate;switch(t.tag){case 15:case 0:t=Kf(o,t,t.pendingProps,t.type,void 0,Oe);break;case 11:t=Kf(o,t,t.pendingProps,t.type.render,t.ref,Oe);break;case 5:Or(t);default:nd(o,t),t=Ve=bc(t,In),t=ed(o,t,In)}e.memoizedProps=e.pendingProps,t===null?da(e):Ve=t}function so(e,t,o,r){Tn=yi=null,Or(t),Wi=null,Ho=0;var h=t.return;try{if(ny(e,h,t,o,Oe)){ht=1,jl(e,Wt(o,e.current)),Ve=null;return}}catch(y){if(h!==null)throw Ve=h,y;ht=1,jl(e,Wt(o,e.current)),Ve=null;return}t.flags&32768?(Je||r===1?e=!0:oo||(Oe&536870912)!==0?e=!1:(Xn=e=!0,(r===2||r===9||r===3||r===6)&&(r=Vt.current,r!==null&&r.tag===13&&(r.flags|=16384))),Dd(t,e)):da(t)}function da(e){var t=e;do{if((t.flags&32768)!==0){Dd(t,Xn);return}e=t.return;var o=ly(t.alternate,t,In);if(o!==null){Ve=o;return}if(t=t.sibling,t!==null){Ve=t;return}Ve=t=e}while(t!==null);ht===0&&(ht=5)}function Dd(e,t){do{var o=ay(e.alternate,e);if(o!==null){o.flags&=32767,Ve=o;return}if(o=e.return,o!==null&&(o.flags|=32768,o.subtreeFlags=0,o.deletions=null),!t&&(e=e.sibling,e!==null)){Ve=e;return}Ve=e=o}while(e!==null);ht=6,Ve=null}function Ud(e,t,o,r,h,y,E,N,P){e.cancelPendingCommit=null;do ha();while(Tt!==0);if(($e&6)!==0)throw Error(a(327));if(t!==null){if(t===e.current)throw Error(a(177));if(y=t.lanes|t.childLanes,y|=yr,Zm(e,o,y,E,N,P),e===lt&&(Ve=lt=null,Oe=0),ao=t,$n=e,Dn=o,xs=y,ws=h,Ed=r,(t.subtreeFlags&10256)!==0||(t.flags&10256)!==0?(e.callbackNode=null,e.callbackPriority=0,vy(qe,function(){return Gd(),null})):(e.callbackNode=null,e.callbackPriority=0),r=(t.flags&13878)!==0,(t.subtreeFlags&13878)!==0||r){r=V.T,V.T=null,h=F.p,F.p=2,E=$e,$e|=4;try{ry(e,t,o)}finally{$e=E,F.p=h,V.T=r}}Tt=1,kd(),zd(),Ld()}}function kd(){if(Tt===1){Tt=0;var e=$n,t=ao,o=(t.flags&13878)!==0;if((t.subtreeFlags&13878)!==0||o){o=V.T,V.T=null;var r=F.p;F.p=2;var h=$e;$e|=4;try{pd(t,e);var y=Ps,E=_c(e.containerInfo),N=y.focusedElem,P=y.selectionRange;if(E!==N&&N&&N.ownerDocument&&vc(N.ownerDocument.documentElement,N)){if(P!==null&&dr(N)){var $=P.start,ue=P.end;if(ue===void 0&&(ue=$),"selectionStart"in N)N.selectionStart=$,N.selectionEnd=Math.min(ue,N.value.length);else{var he=N.ownerDocument||document,te=he&&he.defaultView||window;if(te.getSelection){var ae=te.getSelection(),xe=N.textContent.length,Le=Math.min(P.start,xe),ot=P.end===void 0?Le:Math.min(P.end,xe);!ae.extend&&Le>ot&&(E=ot,ot=Le,Le=E);var Q=yc(N,Le),O=yc(N,ot);if(Q&&O&&(ae.rangeCount!==1||ae.anchorNode!==Q.node||ae.anchorOffset!==Q.offset||ae.focusNode!==O.node||ae.focusOffset!==O.offset)){var W=he.createRange();W.setStart(Q.node,Q.offset),ae.removeAllRanges(),Le>ot?(ae.addRange(W),ae.extend(O.node,O.offset)):(W.setEnd(O.node,O.offset),ae.addRange(W))}}}}for(he=[],ae=N;ae=ae.parentNode;)ae.nodeType===1&&he.push({element:ae,left:ae.scrollLeft,top:ae.scrollTop});for(typeof N.focus=="function"&&N.focus(),N=0;N<he.length;N++){var fe=he[N];fe.element.scrollLeft=fe.left,fe.element.scrollTop=fe.top}}xa=!!Hs,Ps=Hs=null}finally{$e=h,F.p=r,V.T=o}}e.current=t,Tt=2}}function zd(){if(Tt===2){Tt=0;var e=$n,t=ao,o=(t.flags&8772)!==0;if((t.subtreeFlags&8772)!==0||o){o=V.T,V.T=null;var r=F.p;F.p=2;var h=$e;$e|=4;try{ud(e,t.alternate,t)}finally{$e=h,F.p=r,V.T=o}}Tt=3}}function Ld(){if(Tt===4||Tt===3){Tt=0,ve();var e=$n,t=ao,o=Dn,r=Ed;(t.subtreeFlags&10256)!==0||(t.flags&10256)!==0?Tt=5:(Tt=0,ao=$n=null,Bd(e,e.pendingLanes));var h=e.pendingLanes;if(h===0&&(Wn=null),Za(o),t=t.stateNode,Pe&&typeof Pe.onCommitFiberRoot=="function")try{Pe.onCommitFiberRoot(Me,t,void 0,(t.current.flags&128)===128)}catch{}if(r!==null){t=V.T,h=F.p,F.p=2,V.T=null;try{for(var y=e.onRecoverableError,E=0;E<r.length;E++){var N=r[E];y(N.value,{componentStack:N.stack})}}finally{V.T=t,F.p=h}}(Dn&3)!==0&&ha(),pn(e),h=e.pendingLanes,(o&261930)!==0&&(h&42)!==0?e===Rs?il++:(il=0,Rs=e):il=0,ol(0)}}function Bd(e,t){(e.pooledCacheLanes&=t)===0&&(t=e.pooledCache,t!=null&&(e.pooledCache=null,Go(t)))}function ha(){return kd(),zd(),Ld(),Gd()}function Gd(){if(Tt!==5)return!1;var e=$n,t=xs;xs=0;var o=Za(Dn),r=V.T,h=F.p;try{F.p=32>o?32:o,V.T=null,o=ws,ws=null;var y=$n,E=Dn;if(Tt=0,ao=$n=null,Dn=0,($e&6)!==0)throw Error(a(331));var N=$e;if($e|=4,_d(y.current),gd(y,y.current,E,o),$e=N,ol(0,!1),Pe&&typeof Pe.onPostCommitFiberRoot=="function")try{Pe.onPostCommitFiberRoot(Me,y)}catch{}return!0}finally{F.p=h,V.T=r,Bd(e,t)}}function qd(e,t,o){t=Wt(o,t),t=ls(e.stateNode,t,2),e=Yn(e,t,2),e!==null&&(Ao(e,2),pn(e))}function tt(e,t,o){if(e.tag===3)qd(e,e,o);else for(;t!==null;){if(t.tag===3){qd(t,e,o);break}else if(t.tag===1){var r=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(Wn===null||!Wn.has(r))){e=Wt(o,e),o=Hf(2),r=Yn(t,o,2),r!==null&&(Pf(o,r,t,e),Ao(r,2),pn(r));break}}t=t.return}}function Ns(e,t,o){var r=e.pingCache;if(r===null){r=e.pingCache=new cy;var h=new Set;r.set(t,h)}else h=r.get(t),h===void 0&&(h=new Set,r.set(t,h));h.has(o)||(Es=!0,h.add(o),e=my.bind(null,e,t,o),t.then(e,e))}function my(e,t,o){var r=e.pingCache;r!==null&&r.delete(t),e.pingedLanes|=e.suspendedLanes&o,e.warmLanes&=~o,lt===e&&(Oe&o)===o&&(ht===4||ht===3&&(Oe&62914560)===Oe&&300>Se()-ra?($e&2)===0&&ro(e,0):Cs|=o,lo===Oe&&(lo=0)),pn(e)}function Hd(e,t){t===0&&(t=Uu()),e=pi(e,t),e!==null&&(Ao(e,t),pn(e))}function gy(e){var t=e.memoizedState,o=0;t!==null&&(o=t.retryLane),Hd(e,o)}function yy(e,t){var o=0;switch(e.tag){case 31:case 13:var r=e.stateNode,h=e.memoizedState;h!==null&&(o=h.retryLane);break;case 19:r=e.stateNode;break;case 22:r=e.stateNode._retryCache;break;default:throw Error(a(314))}r!==null&&r.delete(t),Hd(e,o)}function vy(e,t){return pe(e,t)}var pa=null,uo=null,Is=!1,ma=!1,Ds=!1,ei=0;function pn(e){e!==uo&&e.next===null&&(uo===null?pa=uo=e:uo=uo.next=e),ma=!0,Is||(Is=!0,Sy())}function ol(e,t){if(!Ds&&ma){Ds=!0;do for(var o=!1,r=pa;r!==null;){if(e!==0){var h=r.pendingLanes;if(h===0)var y=0;else{var E=r.suspendedLanes,N=r.pingedLanes;y=(1<<31-Ze(42|e)+1)-1,y&=h&~(E&~N),y=y&201326741?y&201326741|1:y?y|2:0}y!==0&&(o=!0,Od(r,y))}else y=Oe,y=_l(r,r===lt?y:0,r.cancelPendingCommit!==null||r.timeoutHandle!==-1),(y&3)===0||Co(r,y)||(o=!0,Od(r,y));r=r.next}while(o);Ds=!1}}function _y(){Pd()}function Pd(){ma=Is=!1;var e=0;ei!==0&&Ny()&&(e=ei);for(var t=Se(),o=null,r=pa;r!==null;){var h=r.next,y=Vd(r,t);y===0?(r.next=null,o===null?pa=h:o.next=h,h===null&&(uo=o)):(o=r,(e!==0||(y&3)!==0)&&(ma=!0)),r=h}Tt!==0&&Tt!==5||ol(e),ei!==0&&(ei=0)}function Vd(e,t){for(var o=e.suspendedLanes,r=e.pingedLanes,h=e.expirationTimes,y=e.pendingLanes&-62914561;0<y;){var E=31-Ze(y),N=1<<E,P=h[E];P===-1?((N&o)===0||(N&r)!==0)&&(h[E]=Jm(N,t)):P<=t&&(e.expiredLanes|=N),y&=~N}if(t=lt,o=Oe,o=_l(e,e===t?o:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),r=e.callbackNode,o===0||e===t&&(et===2||et===9)||e.cancelPendingCommit!==null)return r!==null&&r!==null&&ge(r),e.callbackNode=null,e.callbackPriority=0;if((o&3)===0||Co(e,o)){if(t=o&-o,t===e.callbackPriority)return t;switch(r!==null&&ge(r),Za(o)){case 2:case 8:o=We;break;case 32:o=qe;break;case 268435456:o=Ae;break;default:o=qe}return r=Fd.bind(null,e),o=pe(o,r),e.callbackPriority=t,e.callbackNode=o,t}return r!==null&&r!==null&&ge(r),e.callbackPriority=2,e.callbackNode=null,2}function Fd(e,t){if(Tt!==0&&Tt!==5)return e.callbackNode=null,e.callbackPriority=0,null;var o=e.callbackNode;if(ha()&&e.callbackNode!==o)return null;var r=Oe;return r=_l(e,e===lt?r:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),r===0?null:(Ad(e,r,t),Vd(e,Se()),e.callbackNode!=null&&e.callbackNode===o?Fd.bind(null,e):null)}function Od(e,t){if(ha())return null;Ad(e,t,!0)}function Sy(){Dy(function(){($e&6)!==0?pe(Ie,_y):Pd()})}function Us(){if(ei===0){var e=Ki;e===0&&(e=Mi,Mi<<=1,(Mi&261888)===0&&(Mi=256)),ei=e}return ei}function Yd(e){return e==null||typeof e=="symbol"||typeof e=="boolean"?null:typeof e=="function"?e:Cl(""+e)}function Jd(e,t){var o=t.ownerDocument.createElement("input");return o.name=t.name,o.value=t.value,e.id&&o.setAttribute("form",e.id),t.parentNode.insertBefore(o,t),e=new FormData(e),o.parentNode.removeChild(o),e}function Ty(e,t,o,r,h){if(t==="submit"&&o&&o.stateNode===h){var y=Yd((h[Ut]||null).action),E=r.submitter;E&&(t=(t=E[Ut]||null)?Yd(t.formAction):E.getAttribute("formAction"),t!==null&&(y=t,E=null));var N=new Rl("action","action",null,r,h);e.push({event:N,listeners:[{instance:null,listener:function(){if(r.defaultPrevented){if(ei!==0){var P=E?Jd(h,E):new FormData(h);jr(o,{pending:!0,data:P,method:h.method,action:y},null,P)}}else typeof y=="function"&&(N.preventDefault(),P=E?Jd(h,E):new FormData(h),jr(o,{pending:!0,data:P,method:h.method,action:y},y,P))},currentTarget:h}]})}}for(var ks=0;ks<gr.length;ks++){var zs=gr[ks],Ey=zs.toLowerCase(),Cy=zs[0].toUpperCase()+zs.slice(1);an(Ey,"on"+Cy)}an(Ec,"onAnimationEnd"),an(Cc,"onAnimationIteration"),an(Ac,"onAnimationStart"),an("dblclick","onDoubleClick"),an("focusin","onFocus"),an("focusout","onBlur"),an(qg,"onTransitionRun"),an(Hg,"onTransitionStart"),an(Pg,"onTransitionCancel"),an(xc,"onTransitionEnd"),ki("onMouseEnter",["mouseout","mouseover"]),ki("onMouseLeave",["mouseout","mouseover"]),ki("onPointerEnter",["pointerout","pointerover"]),ki("onPointerLeave",["pointerout","pointerover"]),ci("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),ci("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),ci("onBeforeInput",["compositionend","keypress","textInput","paste"]),ci("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),ci("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),ci("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var ll="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Ay=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(ll));function Zd(e,t){t=(t&4)!==0;for(var o=0;o<e.length;o++){var r=e[o],h=r.event;r=r.listeners;e:{var y=void 0;if(t)for(var E=r.length-1;0<=E;E--){var N=r[E],P=N.instance,$=N.currentTarget;if(N=N.listener,P!==y&&h.isPropagationStopped())break e;y=N,h.currentTarget=$;try{y(h)}catch(ue){Nl(ue)}h.currentTarget=null,y=P}else for(E=0;E<r.length;E++){if(N=r[E],P=N.instance,$=N.currentTarget,N=N.listener,P!==y&&h.isPropagationStopped())break e;y=N,h.currentTarget=$;try{y(h)}catch(ue){Nl(ue)}h.currentTarget=null,y=P}}}}function Fe(e,t){var o=t[Ka];o===void 0&&(o=t[Ka]=new Set);var r=e+"__bubble";o.has(r)||(Kd(t,e,2,!1),o.add(r))}function Ls(e,t,o){var r=0;t&&(r|=4),Kd(o,e,r,t)}var ga="_reactListening"+Math.random().toString(36).slice(2);function Bs(e){if(!e[ga]){e[ga]=!0,Hu.forEach(function(o){o!=="selectionchange"&&(Ay.has(o)||Ls(o,!1,e),Ls(o,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[ga]||(t[ga]=!0,Ls("selectionchange",!1,t))}}function Kd(e,t,o,r){switch(Ch(t)){case 2:var h=$y;break;case 8:h=jy;break;default:h=$s}o=h.bind(null,t,o,e),h=void 0,!ir||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(h=!0),r?h!==void 0?e.addEventListener(t,o,{capture:!0,passive:h}):e.addEventListener(t,o,!0):h!==void 0?e.addEventListener(t,o,{passive:h}):e.addEventListener(t,o,!1)}function Gs(e,t,o,r,h){var y=r;if((t&1)===0&&(t&2)===0&&r!==null)e:for(;;){if(r===null)return;var E=r.tag;if(E===3||E===4){var N=r.stateNode.containerInfo;if(N===h)break;if(E===4)for(E=r.return;E!==null;){var P=E.tag;if((P===3||P===4)&&E.stateNode.containerInfo===h)return;E=E.return}for(;N!==null;){if(E=Ii(N),E===null)return;if(P=E.tag,P===5||P===6||P===26||P===27){r=y=E;continue e}N=N.parentNode}}r=r.return}$u(function(){var $=y,ue=tr(o),he=[];e:{var te=wc.get(e);if(te!==void 0){var ae=Rl,xe=e;switch(e){case"keypress":if(xl(o)===0)break e;case"keydown":case"keyup":ae=yg;break;case"focusin":xe="focus",ae=rr;break;case"focusout":xe="blur",ae=rr;break;case"beforeblur":case"afterblur":ae=rr;break;case"click":if(o.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":ae=tc;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":ae=lg;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":ae=Sg;break;case Ec:case Cc:case Ac:ae=sg;break;case xc:ae=Eg;break;case"scroll":case"scrollend":ae=ig;break;case"wheel":ae=Ag;break;case"copy":case"cut":case"paste":ae=cg;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":ae=ic;break;case"toggle":case"beforetoggle":ae=wg}var Le=(t&4)!==0,ot=!Le&&(e==="scroll"||e==="scrollend"),Q=Le?te!==null?te+"Capture":null:te;Le=[];for(var O=$,W;O!==null;){var fe=O;if(W=fe.stateNode,fe=fe.tag,fe!==5&&fe!==26&&fe!==27||W===null||Q===null||(fe=Ro(O,Q),fe!=null&&Le.push(al(O,fe,W))),ot)break;O=O.return}0<Le.length&&(te=new ae(te,xe,null,o,ue),he.push({event:te,listeners:Le}))}}if((t&7)===0){e:{if(te=e==="mouseover"||e==="pointerover",ae=e==="mouseout"||e==="pointerout",te&&o!==er&&(xe=o.relatedTarget||o.fromElement)&&(Ii(xe)||xe[Ni]))break e;if((ae||te)&&(te=ue.window===ue?ue:(te=ue.ownerDocument)?te.defaultView||te.parentWindow:window,ae?(xe=o.relatedTarget||o.toElement,ae=$,xe=xe?Ii(xe):null,xe!==null&&(ot=c(xe),Le=xe.tag,xe!==ot||Le!==5&&Le!==27&&Le!==6)&&(xe=null)):(ae=null,xe=$),ae!==xe)){if(Le=tc,fe="onMouseLeave",Q="onMouseEnter",O="mouse",(e==="pointerout"||e==="pointerover")&&(Le=ic,fe="onPointerLeave",Q="onPointerEnter",O="pointer"),ot=ae==null?te:wo(ae),W=xe==null?te:wo(xe),te=new Le(fe,O+"leave",ae,o,ue),te.target=ot,te.relatedTarget=W,fe=null,Ii(ue)===$&&(Le=new Le(Q,O+"enter",xe,o,ue),Le.target=W,Le.relatedTarget=ot,fe=Le),ot=fe,ae&&xe)t:{for(Le=xy,Q=ae,O=xe,W=0,fe=Q;fe;fe=Le(fe))W++;fe=0;for(var ke=O;ke;ke=Le(ke))fe++;for(;0<W-fe;)Q=Le(Q),W--;for(;0<fe-W;)O=Le(O),fe--;for(;W--;){if(Q===O||O!==null&&Q===O.alternate){Le=Q;break t}Q=Le(Q),O=Le(O)}Le=null}else Le=null;ae!==null&&Xd(he,te,ae,Le,!1),xe!==null&&ot!==null&&Xd(he,ot,xe,Le,!0)}}e:{if(te=$?wo($):window,ae=te.nodeName&&te.nodeName.toLowerCase(),ae==="select"||ae==="input"&&te.type==="file")var Ke=fc;else if(uc(te))if(dc)Ke=Lg;else{Ke=kg;var we=Ug}else ae=te.nodeName,!ae||ae.toLowerCase()!=="input"||te.type!=="checkbox"&&te.type!=="radio"?$&&ja($.elementType)&&(Ke=fc):Ke=zg;if(Ke&&(Ke=Ke(e,$))){cc(he,Ke,o,ue);break e}we&&we(e,te,$),e==="focusout"&&$&&te.type==="number"&&$.memoizedProps.value!=null&&$a(te,"number",te.value)}switch(we=$?wo($):window,e){case"focusin":(uc(we)||we.contentEditable==="true")&&(Hi=we,hr=$,zo=null);break;case"focusout":zo=hr=Hi=null;break;case"mousedown":pr=!0;break;case"contextmenu":case"mouseup":case"dragend":pr=!1,Sc(he,o,ue);break;case"selectionchange":if(Gg)break;case"keydown":case"keyup":Sc(he,o,ue)}var He;if(ur)e:{switch(e){case"compositionstart":var Ye="onCompositionStart";break e;case"compositionend":Ye="onCompositionEnd";break e;case"compositionupdate":Ye="onCompositionUpdate";break e}Ye=void 0}else qi?rc(e,o)&&(Ye="onCompositionEnd"):e==="keydown"&&o.keyCode===229&&(Ye="onCompositionStart");Ye&&(oc&&o.locale!=="ko"&&(qi||Ye!=="onCompositionStart"?Ye==="onCompositionEnd"&&qi&&(He=ju()):(Gn=ue,or="value"in Gn?Gn.value:Gn.textContent,qi=!0)),we=ya($,Ye),0<we.length&&(Ye=new nc(Ye,e,null,o,ue),he.push({event:Ye,listeners:we}),He?Ye.data=He:(He=sc(o),He!==null&&(Ye.data=He)))),(He=bg?Mg(e,o):Ng(e,o))&&(Ye=ya($,"onBeforeInput"),0<Ye.length&&(we=new nc("onBeforeInput","beforeinput",null,o,ue),he.push({event:we,listeners:Ye}),we.data=He)),Ty(he,e,$,o,ue)}Zd(he,t)})}function al(e,t,o){return{instance:e,listener:t,currentTarget:o}}function ya(e,t){for(var o=t+"Capture",r=[];e!==null;){var h=e,y=h.stateNode;if(h=h.tag,h!==5&&h!==26&&h!==27||y===null||(h=Ro(e,o),h!=null&&r.unshift(al(e,h,y)),h=Ro(e,t),h!=null&&r.push(al(e,h,y))),e.tag===3)return r;e=e.return}return[]}function xy(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5&&e.tag!==27);return e||null}function Xd(e,t,o,r,h){for(var y=t._reactName,E=[];o!==null&&o!==r;){var N=o,P=N.alternate,$=N.stateNode;if(N=N.tag,P!==null&&P===r)break;N!==5&&N!==26&&N!==27||$===null||(P=$,h?($=Ro(o,y),$!=null&&E.unshift(al(o,$,P))):h||($=Ro(o,y),$!=null&&E.push(al(o,$,P)))),o=o.return}E.length!==0&&e.push({event:t,listeners:E})}var wy=/\r\n?/g,Ry=/\u0000|\uFFFD/g;function Qd(e){return(typeof e=="string"?e:""+e).replace(wy,`
`).replace(Ry,"")}function Wd(e,t){return t=Qd(t),Qd(e)===t}function it(e,t,o,r,h,y){switch(o){case"children":typeof r=="string"?t==="body"||t==="textarea"&&r===""||Li(e,r):(typeof r=="number"||typeof r=="bigint")&&t!=="body"&&Li(e,""+r);break;case"className":Tl(e,"class",r);break;case"tabIndex":Tl(e,"tabindex",r);break;case"dir":case"role":case"viewBox":case"width":case"height":Tl(e,o,r);break;case"style":Qu(e,r,y);break;case"data":if(t!=="object"){Tl(e,"data",r);break}case"src":case"href":if(r===""&&(t!=="a"||o!=="href")){e.removeAttribute(o);break}if(r==null||typeof r=="function"||typeof r=="symbol"||typeof r=="boolean"){e.removeAttribute(o);break}r=Cl(""+r),e.setAttribute(o,r);break;case"action":case"formAction":if(typeof r=="function"){e.setAttribute(o,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof y=="function"&&(o==="formAction"?(t!=="input"&&it(e,t,"name",h.name,h,null),it(e,t,"formEncType",h.formEncType,h,null),it(e,t,"formMethod",h.formMethod,h,null),it(e,t,"formTarget",h.formTarget,h,null)):(it(e,t,"encType",h.encType,h,null),it(e,t,"method",h.method,h,null),it(e,t,"target",h.target,h,null)));if(r==null||typeof r=="symbol"||typeof r=="boolean"){e.removeAttribute(o);break}r=Cl(""+r),e.setAttribute(o,r);break;case"onClick":r!=null&&(e.onclick=yn);break;case"onScroll":r!=null&&Fe("scroll",e);break;case"onScrollEnd":r!=null&&Fe("scrollend",e);break;case"dangerouslySetInnerHTML":if(r!=null){if(typeof r!="object"||!("__html"in r))throw Error(a(61));if(o=r.__html,o!=null){if(h.children!=null)throw Error(a(60));e.innerHTML=o}}break;case"multiple":e.multiple=r&&typeof r!="function"&&typeof r!="symbol";break;case"muted":e.muted=r&&typeof r!="function"&&typeof r!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(r==null||typeof r=="function"||typeof r=="boolean"||typeof r=="symbol"){e.removeAttribute("xlink:href");break}o=Cl(""+r),e.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",o);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":r!=null&&typeof r!="function"&&typeof r!="symbol"?e.setAttribute(o,""+r):e.removeAttribute(o);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":r&&typeof r!="function"&&typeof r!="symbol"?e.setAttribute(o,""):e.removeAttribute(o);break;case"capture":case"download":r===!0?e.setAttribute(o,""):r!==!1&&r!=null&&typeof r!="function"&&typeof r!="symbol"?e.setAttribute(o,r):e.removeAttribute(o);break;case"cols":case"rows":case"size":case"span":r!=null&&typeof r!="function"&&typeof r!="symbol"&&!isNaN(r)&&1<=r?e.setAttribute(o,r):e.removeAttribute(o);break;case"rowSpan":case"start":r==null||typeof r=="function"||typeof r=="symbol"||isNaN(r)?e.removeAttribute(o):e.setAttribute(o,r);break;case"popover":Fe("beforetoggle",e),Fe("toggle",e),Sl(e,"popover",r);break;case"xlinkActuate":gn(e,"http://www.w3.org/1999/xlink","xlink:actuate",r);break;case"xlinkArcrole":gn(e,"http://www.w3.org/1999/xlink","xlink:arcrole",r);break;case"xlinkRole":gn(e,"http://www.w3.org/1999/xlink","xlink:role",r);break;case"xlinkShow":gn(e,"http://www.w3.org/1999/xlink","xlink:show",r);break;case"xlinkTitle":gn(e,"http://www.w3.org/1999/xlink","xlink:title",r);break;case"xlinkType":gn(e,"http://www.w3.org/1999/xlink","xlink:type",r);break;case"xmlBase":gn(e,"http://www.w3.org/XML/1998/namespace","xml:base",r);break;case"xmlLang":gn(e,"http://www.w3.org/XML/1998/namespace","xml:lang",r);break;case"xmlSpace":gn(e,"http://www.w3.org/XML/1998/namespace","xml:space",r);break;case"is":Sl(e,"is",r);break;case"innerText":case"textContent":break;default:(!(2<o.length)||o[0]!=="o"&&o[0]!=="O"||o[1]!=="n"&&o[1]!=="N")&&(o=tg.get(o)||o,Sl(e,o,r))}}function qs(e,t,o,r,h,y){switch(o){case"style":Qu(e,r,y);break;case"dangerouslySetInnerHTML":if(r!=null){if(typeof r!="object"||!("__html"in r))throw Error(a(61));if(o=r.__html,o!=null){if(h.children!=null)throw Error(a(60));e.innerHTML=o}}break;case"children":typeof r=="string"?Li(e,r):(typeof r=="number"||typeof r=="bigint")&&Li(e,""+r);break;case"onScroll":r!=null&&Fe("scroll",e);break;case"onScrollEnd":r!=null&&Fe("scrollend",e);break;case"onClick":r!=null&&(e.onclick=yn);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Pu.hasOwnProperty(o))e:{if(o[0]==="o"&&o[1]==="n"&&(h=o.endsWith("Capture"),t=o.slice(2,h?o.length-7:void 0),y=e[Ut]||null,y=y!=null?y[o]:null,typeof y=="function"&&e.removeEventListener(t,y,h),typeof r=="function")){typeof y!="function"&&y!==null&&(o in e?e[o]=null:e.hasAttribute(o)&&e.removeAttribute(o)),e.addEventListener(t,r,h);break e}o in e?e[o]=r:r===!0?e.setAttribute(o,""):Sl(e,o,r)}}}function bt(e,t,o){switch(t){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Fe("error",e),Fe("load",e);var r=!1,h=!1,y;for(y in o)if(o.hasOwnProperty(y)){var E=o[y];if(E!=null)switch(y){case"src":r=!0;break;case"srcSet":h=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(a(137,t));default:it(e,t,y,E,o,null)}}h&&it(e,t,"srcSet",o.srcSet,o,null),r&&it(e,t,"src",o.src,o,null);return;case"input":Fe("invalid",e);var N=y=E=h=null,P=null,$=null;for(r in o)if(o.hasOwnProperty(r)){var ue=o[r];if(ue!=null)switch(r){case"name":h=ue;break;case"type":E=ue;break;case"checked":P=ue;break;case"defaultChecked":$=ue;break;case"value":y=ue;break;case"defaultValue":N=ue;break;case"children":case"dangerouslySetInnerHTML":if(ue!=null)throw Error(a(137,t));break;default:it(e,t,r,ue,o,null)}}Ju(e,y,N,P,$,E,h,!1);return;case"select":Fe("invalid",e),r=E=y=null;for(h in o)if(o.hasOwnProperty(h)&&(N=o[h],N!=null))switch(h){case"value":y=N;break;case"defaultValue":E=N;break;case"multiple":r=N;default:it(e,t,h,N,o,null)}t=y,o=E,e.multiple=!!r,t!=null?zi(e,!!r,t,!1):o!=null&&zi(e,!!r,o,!0);return;case"textarea":Fe("invalid",e),y=h=r=null;for(E in o)if(o.hasOwnProperty(E)&&(N=o[E],N!=null))switch(E){case"value":r=N;break;case"defaultValue":h=N;break;case"children":y=N;break;case"dangerouslySetInnerHTML":if(N!=null)throw Error(a(91));break;default:it(e,t,E,N,o,null)}Ku(e,r,h,y);return;case"option":for(P in o)if(o.hasOwnProperty(P)&&(r=o[P],r!=null))switch(P){case"selected":e.selected=r&&typeof r!="function"&&typeof r!="symbol";break;default:it(e,t,P,r,o,null)}return;case"dialog":Fe("beforetoggle",e),Fe("toggle",e),Fe("cancel",e),Fe("close",e);break;case"iframe":case"object":Fe("load",e);break;case"video":case"audio":for(r=0;r<ll.length;r++)Fe(ll[r],e);break;case"image":Fe("error",e),Fe("load",e);break;case"details":Fe("toggle",e);break;case"embed":case"source":case"link":Fe("error",e),Fe("load",e);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for($ in o)if(o.hasOwnProperty($)&&(r=o[$],r!=null))switch($){case"children":case"dangerouslySetInnerHTML":throw Error(a(137,t));default:it(e,t,$,r,o,null)}return;default:if(ja(t)){for(ue in o)o.hasOwnProperty(ue)&&(r=o[ue],r!==void 0&&qs(e,t,ue,r,o,void 0));return}}for(N in o)o.hasOwnProperty(N)&&(r=o[N],r!=null&&it(e,t,N,r,o,null))}function by(e,t,o,r){switch(t){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var h=null,y=null,E=null,N=null,P=null,$=null,ue=null;for(ae in o){var he=o[ae];if(o.hasOwnProperty(ae)&&he!=null)switch(ae){case"checked":break;case"value":break;case"defaultValue":P=he;default:r.hasOwnProperty(ae)||it(e,t,ae,null,r,he)}}for(var te in r){var ae=r[te];if(he=o[te],r.hasOwnProperty(te)&&(ae!=null||he!=null))switch(te){case"type":y=ae;break;case"name":h=ae;break;case"checked":$=ae;break;case"defaultChecked":ue=ae;break;case"value":E=ae;break;case"defaultValue":N=ae;break;case"children":case"dangerouslySetInnerHTML":if(ae!=null)throw Error(a(137,t));break;default:ae!==he&&it(e,t,te,ae,r,he)}}Wa(e,E,N,P,$,ue,y,h);return;case"select":ae=E=N=te=null;for(y in o)if(P=o[y],o.hasOwnProperty(y)&&P!=null)switch(y){case"value":break;case"multiple":ae=P;default:r.hasOwnProperty(y)||it(e,t,y,null,r,P)}for(h in r)if(y=r[h],P=o[h],r.hasOwnProperty(h)&&(y!=null||P!=null))switch(h){case"value":te=y;break;case"defaultValue":N=y;break;case"multiple":E=y;default:y!==P&&it(e,t,h,y,r,P)}t=N,o=E,r=ae,te!=null?zi(e,!!o,te,!1):!!r!=!!o&&(t!=null?zi(e,!!o,t,!0):zi(e,!!o,o?[]:"",!1));return;case"textarea":ae=te=null;for(N in o)if(h=o[N],o.hasOwnProperty(N)&&h!=null&&!r.hasOwnProperty(N))switch(N){case"value":break;case"children":break;default:it(e,t,N,null,r,h)}for(E in r)if(h=r[E],y=o[E],r.hasOwnProperty(E)&&(h!=null||y!=null))switch(E){case"value":te=h;break;case"defaultValue":ae=h;break;case"children":break;case"dangerouslySetInnerHTML":if(h!=null)throw Error(a(91));break;default:h!==y&&it(e,t,E,h,r,y)}Zu(e,te,ae);return;case"option":for(var xe in o)if(te=o[xe],o.hasOwnProperty(xe)&&te!=null&&!r.hasOwnProperty(xe))switch(xe){case"selected":e.selected=!1;break;default:it(e,t,xe,null,r,te)}for(P in r)if(te=r[P],ae=o[P],r.hasOwnProperty(P)&&te!==ae&&(te!=null||ae!=null))switch(P){case"selected":e.selected=te&&typeof te!="function"&&typeof te!="symbol";break;default:it(e,t,P,te,r,ae)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var Le in o)te=o[Le],o.hasOwnProperty(Le)&&te!=null&&!r.hasOwnProperty(Le)&&it(e,t,Le,null,r,te);for($ in r)if(te=r[$],ae=o[$],r.hasOwnProperty($)&&te!==ae&&(te!=null||ae!=null))switch($){case"children":case"dangerouslySetInnerHTML":if(te!=null)throw Error(a(137,t));break;default:it(e,t,$,te,r,ae)}return;default:if(ja(t)){for(var ot in o)te=o[ot],o.hasOwnProperty(ot)&&te!==void 0&&!r.hasOwnProperty(ot)&&qs(e,t,ot,void 0,r,te);for(ue in r)te=r[ue],ae=o[ue],!r.hasOwnProperty(ue)||te===ae||te===void 0&&ae===void 0||qs(e,t,ue,te,r,ae);return}}for(var Q in o)te=o[Q],o.hasOwnProperty(Q)&&te!=null&&!r.hasOwnProperty(Q)&&it(e,t,Q,null,r,te);for(he in r)te=r[he],ae=o[he],!r.hasOwnProperty(he)||te===ae||te==null&&ae==null||it(e,t,he,te,r,ae)}function $d(e){switch(e){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function My(){if(typeof performance.getEntriesByType=="function"){for(var e=0,t=0,o=performance.getEntriesByType("resource"),r=0;r<o.length;r++){var h=o[r],y=h.transferSize,E=h.initiatorType,N=h.duration;if(y&&N&&$d(E)){for(E=0,N=h.responseEnd,r+=1;r<o.length;r++){var P=o[r],$=P.startTime;if($>N)break;var ue=P.transferSize,he=P.initiatorType;ue&&$d(he)&&(P=P.responseEnd,E+=ue*(P<N?1:(N-$)/(P-$)))}if(--r,t+=8*(y+E)/(h.duration/1e3),e++,10<e)break}}if(0<e)return t/e/1e6}return navigator.connection&&(e=navigator.connection.downlink,typeof e=="number")?e:5}var Hs=null,Ps=null;function va(e){return e.nodeType===9?e:e.ownerDocument}function jd(e){switch(e){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function eh(e,t){if(e===0)switch(t){case"svg":return 1;case"math":return 2;default:return 0}return e===1&&t==="foreignObject"?0:e}function Vs(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.children=="bigint"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var Fs=null;function Ny(){var e=window.event;return e&&e.type==="popstate"?e===Fs?!1:(Fs=e,!0):(Fs=null,!1)}var th=typeof setTimeout=="function"?setTimeout:void 0,Iy=typeof clearTimeout=="function"?clearTimeout:void 0,nh=typeof Promise=="function"?Promise:void 0,Dy=typeof queueMicrotask=="function"?queueMicrotask:typeof nh<"u"?function(e){return nh.resolve(null).then(e).catch(Uy)}:th;function Uy(e){setTimeout(function(){throw e})}function ti(e){return e==="head"}function ih(e,t){var o=t,r=0;do{var h=o.nextSibling;if(e.removeChild(o),h&&h.nodeType===8)if(o=h.data,o==="/$"||o==="/&"){if(r===0){e.removeChild(h),po(t);return}r--}else if(o==="$"||o==="$?"||o==="$~"||o==="$!"||o==="&")r++;else if(o==="html")rl(e.ownerDocument.documentElement);else if(o==="head"){o=e.ownerDocument.head,rl(o);for(var y=o.firstChild;y;){var E=y.nextSibling,N=y.nodeName;y[xo]||N==="SCRIPT"||N==="STYLE"||N==="LINK"&&y.rel.toLowerCase()==="stylesheet"||o.removeChild(y),y=E}}else o==="body"&&rl(e.ownerDocument.body);o=h}while(o);po(t)}function oh(e,t){var o=e;e=0;do{var r=o.nextSibling;if(o.nodeType===1?t?(o._stashedDisplay=o.style.display,o.style.display="none"):(o.style.display=o._stashedDisplay||"",o.getAttribute("style")===""&&o.removeAttribute("style")):o.nodeType===3&&(t?(o._stashedText=o.nodeValue,o.nodeValue=""):o.nodeValue=o._stashedText||""),r&&r.nodeType===8)if(o=r.data,o==="/$"){if(e===0)break;e--}else o!=="$"&&o!=="$?"&&o!=="$~"&&o!=="$!"||e++;o=r}while(o)}function Os(e){var t=e.firstChild;for(t&&t.nodeType===10&&(t=t.nextSibling);t;){var o=t;switch(t=t.nextSibling,o.nodeName){case"HTML":case"HEAD":case"BODY":Os(o),Xa(o);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(o.rel.toLowerCase()==="stylesheet")continue}e.removeChild(o)}}function ky(e,t,o,r){for(;e.nodeType===1;){var h=o;if(e.nodeName.toLowerCase()!==t.toLowerCase()){if(!r&&(e.nodeName!=="INPUT"||e.type!=="hidden"))break}else if(r){if(!e[xo])switch(t){case"meta":if(!e.hasAttribute("itemprop"))break;return e;case"link":if(y=e.getAttribute("rel"),y==="stylesheet"&&e.hasAttribute("data-precedence"))break;if(y!==h.rel||e.getAttribute("href")!==(h.href==null||h.href===""?null:h.href)||e.getAttribute("crossorigin")!==(h.crossOrigin==null?null:h.crossOrigin)||e.getAttribute("title")!==(h.title==null?null:h.title))break;return e;case"style":if(e.hasAttribute("data-precedence"))break;return e;case"script":if(y=e.getAttribute("src"),(y!==(h.src==null?null:h.src)||e.getAttribute("type")!==(h.type==null?null:h.type)||e.getAttribute("crossorigin")!==(h.crossOrigin==null?null:h.crossOrigin))&&y&&e.hasAttribute("async")&&!e.hasAttribute("itemprop"))break;return e;default:return e}}else if(t==="input"&&e.type==="hidden"){var y=h.name==null?null:""+h.name;if(h.type==="hidden"&&e.getAttribute("name")===y)return e}else return e;if(e=nn(e.nextSibling),e===null)break}return null}function zy(e,t,o){if(t==="")return null;for(;e.nodeType!==3;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!o||(e=nn(e.nextSibling),e===null))return null;return e}function lh(e,t){for(;e.nodeType!==8;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!t||(e=nn(e.nextSibling),e===null))return null;return e}function Ys(e){return e.data==="$?"||e.data==="$~"}function Js(e){return e.data==="$!"||e.data==="$?"&&e.ownerDocument.readyState!=="loading"}function Ly(e,t){var o=e.ownerDocument;if(e.data==="$~")e._reactRetry=t;else if(e.data!=="$?"||o.readyState!=="loading")t();else{var r=function(){t(),o.removeEventListener("DOMContentLoaded",r)};o.addEventListener("DOMContentLoaded",r),e._reactRetry=r}}function nn(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?"||t==="$~"||t==="&"||t==="F!"||t==="F")break;if(t==="/$"||t==="/&")return null}}return e}var Zs=null;function ah(e){e=e.nextSibling;for(var t=0;e;){if(e.nodeType===8){var o=e.data;if(o==="/$"||o==="/&"){if(t===0)return nn(e.nextSibling);t--}else o!=="$"&&o!=="$!"&&o!=="$?"&&o!=="$~"&&o!=="&"||t++}e=e.nextSibling}return null}function rh(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var o=e.data;if(o==="$"||o==="$!"||o==="$?"||o==="$~"||o==="&"){if(t===0)return e;t--}else o!=="/$"&&o!=="/&"||t++}e=e.previousSibling}return null}function sh(e,t,o){switch(t=va(o),e){case"html":if(e=t.documentElement,!e)throw Error(a(452));return e;case"head":if(e=t.head,!e)throw Error(a(453));return e;case"body":if(e=t.body,!e)throw Error(a(454));return e;default:throw Error(a(451))}}function rl(e){for(var t=e.attributes;t.length;)e.removeAttributeNode(t[0]);Xa(e)}var on=new Map,uh=new Set;function _a(e){return typeof e.getRootNode=="function"?e.getRootNode():e.nodeType===9?e:e.ownerDocument}var Un=F.d;F.d={f:By,r:Gy,D:qy,C:Hy,L:Py,m:Vy,X:Oy,S:Fy,M:Yy};function By(){var e=Un.f(),t=ca();return e||t}function Gy(e){var t=Di(e);t!==null&&t.tag===5&&t.type==="form"?wf(t):Un.r(e)}var co=typeof document>"u"?null:document;function ch(e,t,o){var r=co;if(r&&typeof t=="string"&&t){var h=Xt(t);h='link[rel="'+e+'"][href="'+h+'"]',typeof o=="string"&&(h+='[crossorigin="'+o+'"]'),uh.has(h)||(uh.add(h),e={rel:e,crossOrigin:o,href:t},r.querySelector(h)===null&&(t=r.createElement("link"),bt(t,"link",e),Et(t),r.head.appendChild(t)))}}function qy(e){Un.D(e),ch("dns-prefetch",e,null)}function Hy(e,t){Un.C(e,t),ch("preconnect",e,t)}function Py(e,t,o){Un.L(e,t,o);var r=co;if(r&&e&&t){var h='link[rel="preload"][as="'+Xt(t)+'"]';t==="image"&&o&&o.imageSrcSet?(h+='[imagesrcset="'+Xt(o.imageSrcSet)+'"]',typeof o.imageSizes=="string"&&(h+='[imagesizes="'+Xt(o.imageSizes)+'"]')):h+='[href="'+Xt(e)+'"]';var y=h;switch(t){case"style":y=fo(e);break;case"script":y=ho(e)}on.has(y)||(e=_({rel:"preload",href:t==="image"&&o&&o.imageSrcSet?void 0:e,as:t},o),on.set(y,e),r.querySelector(h)!==null||t==="style"&&r.querySelector(sl(y))||t==="script"&&r.querySelector(ul(y))||(t=r.createElement("link"),bt(t,"link",e),Et(t),r.head.appendChild(t)))}}function Vy(e,t){Un.m(e,t);var o=co;if(o&&e){var r=t&&typeof t.as=="string"?t.as:"script",h='link[rel="modulepreload"][as="'+Xt(r)+'"][href="'+Xt(e)+'"]',y=h;switch(r){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":y=ho(e)}if(!on.has(y)&&(e=_({rel:"modulepreload",href:e},t),on.set(y,e),o.querySelector(h)===null)){switch(r){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(o.querySelector(ul(y)))return}r=o.createElement("link"),bt(r,"link",e),Et(r),o.head.appendChild(r)}}}function Fy(e,t,o){Un.S(e,t,o);var r=co;if(r&&e){var h=Ui(r).hoistableStyles,y=fo(e);t=t||"default";var E=h.get(y);if(!E){var N={loading:0,preload:null};if(E=r.querySelector(sl(y)))N.loading=5;else{e=_({rel:"stylesheet",href:e,"data-precedence":t},o),(o=on.get(y))&&Ks(e,o);var P=E=r.createElement("link");Et(P),bt(P,"link",e),P._p=new Promise(function($,ue){P.onload=$,P.onerror=ue}),P.addEventListener("load",function(){N.loading|=1}),P.addEventListener("error",function(){N.loading|=2}),N.loading|=4,Sa(E,t,r)}E={type:"stylesheet",instance:E,count:1,state:N},h.set(y,E)}}}function Oy(e,t){Un.X(e,t);var o=co;if(o&&e){var r=Ui(o).hoistableScripts,h=ho(e),y=r.get(h);y||(y=o.querySelector(ul(h)),y||(e=_({src:e,async:!0},t),(t=on.get(h))&&Xs(e,t),y=o.createElement("script"),Et(y),bt(y,"link",e),o.head.appendChild(y)),y={type:"script",instance:y,count:1,state:null},r.set(h,y))}}function Yy(e,t){Un.M(e,t);var o=co;if(o&&e){var r=Ui(o).hoistableScripts,h=ho(e),y=r.get(h);y||(y=o.querySelector(ul(h)),y||(e=_({src:e,async:!0,type:"module"},t),(t=on.get(h))&&Xs(e,t),y=o.createElement("script"),Et(y),bt(y,"link",e),o.head.appendChild(y)),y={type:"script",instance:y,count:1,state:null},r.set(h,y))}}function fh(e,t,o,r){var h=(h=Ce.current)?_a(h):null;if(!h)throw Error(a(446));switch(e){case"meta":case"title":return null;case"style":return typeof o.precedence=="string"&&typeof o.href=="string"?(t=fo(o.href),o=Ui(h).hoistableStyles,r=o.get(t),r||(r={type:"style",instance:null,count:0,state:null},o.set(t,r)),r):{type:"void",instance:null,count:0,state:null};case"link":if(o.rel==="stylesheet"&&typeof o.href=="string"&&typeof o.precedence=="string"){e=fo(o.href);var y=Ui(h).hoistableStyles,E=y.get(e);if(E||(h=h.ownerDocument||h,E={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},y.set(e,E),(y=h.querySelector(sl(e)))&&!y._p&&(E.instance=y,E.state.loading=5),on.has(e)||(o={rel:"preload",as:"style",href:o.href,crossOrigin:o.crossOrigin,integrity:o.integrity,media:o.media,hrefLang:o.hrefLang,referrerPolicy:o.referrerPolicy},on.set(e,o),y||Jy(h,e,o,E.state))),t&&r===null)throw Error(a(528,""));return E}if(t&&r!==null)throw Error(a(529,""));return null;case"script":return t=o.async,o=o.src,typeof o=="string"&&t&&typeof t!="function"&&typeof t!="symbol"?(t=ho(o),o=Ui(h).hoistableScripts,r=o.get(t),r||(r={type:"script",instance:null,count:0,state:null},o.set(t,r)),r):{type:"void",instance:null,count:0,state:null};default:throw Error(a(444,e))}}function fo(e){return'href="'+Xt(e)+'"'}function sl(e){return'link[rel="stylesheet"]['+e+"]"}function dh(e){return _({},e,{"data-precedence":e.precedence,precedence:null})}function Jy(e,t,o,r){e.querySelector('link[rel="preload"][as="style"]['+t+"]")?r.loading=1:(t=e.createElement("link"),r.preload=t,t.addEventListener("load",function(){return r.loading|=1}),t.addEventListener("error",function(){return r.loading|=2}),bt(t,"link",o),Et(t),e.head.appendChild(t))}function ho(e){return'[src="'+Xt(e)+'"]'}function ul(e){return"script[async]"+e}function hh(e,t,o){if(t.count++,t.instance===null)switch(t.type){case"style":var r=e.querySelector('style[data-href~="'+Xt(o.href)+'"]');if(r)return t.instance=r,Et(r),r;var h=_({},o,{"data-href":o.href,"data-precedence":o.precedence,href:null,precedence:null});return r=(e.ownerDocument||e).createElement("style"),Et(r),bt(r,"style",h),Sa(r,o.precedence,e),t.instance=r;case"stylesheet":h=fo(o.href);var y=e.querySelector(sl(h));if(y)return t.state.loading|=4,t.instance=y,Et(y),y;r=dh(o),(h=on.get(h))&&Ks(r,h),y=(e.ownerDocument||e).createElement("link"),Et(y);var E=y;return E._p=new Promise(function(N,P){E.onload=N,E.onerror=P}),bt(y,"link",r),t.state.loading|=4,Sa(y,o.precedence,e),t.instance=y;case"script":return y=ho(o.src),(h=e.querySelector(ul(y)))?(t.instance=h,Et(h),h):(r=o,(h=on.get(y))&&(r=_({},o),Xs(r,h)),e=e.ownerDocument||e,h=e.createElement("script"),Et(h),bt(h,"link",r),e.head.appendChild(h),t.instance=h);case"void":return null;default:throw Error(a(443,t.type))}else t.type==="stylesheet"&&(t.state.loading&4)===0&&(r=t.instance,t.state.loading|=4,Sa(r,o.precedence,e));return t.instance}function Sa(e,t,o){for(var r=o.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),h=r.length?r[r.length-1]:null,y=h,E=0;E<r.length;E++){var N=r[E];if(N.dataset.precedence===t)y=N;else if(y!==h)break}y?y.parentNode.insertBefore(e,y.nextSibling):(t=o.nodeType===9?o.head:o,t.insertBefore(e,t.firstChild))}function Ks(e,t){e.crossOrigin==null&&(e.crossOrigin=t.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=t.referrerPolicy),e.title==null&&(e.title=t.title)}function Xs(e,t){e.crossOrigin==null&&(e.crossOrigin=t.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=t.referrerPolicy),e.integrity==null&&(e.integrity=t.integrity)}var Ta=null;function ph(e,t,o){if(Ta===null){var r=new Map,h=Ta=new Map;h.set(o,r)}else h=Ta,r=h.get(o),r||(r=new Map,h.set(o,r));if(r.has(e))return r;for(r.set(e,null),o=o.getElementsByTagName(e),h=0;h<o.length;h++){var y=o[h];if(!(y[xo]||y[At]||e==="link"&&y.getAttribute("rel")==="stylesheet")&&y.namespaceURI!=="http://www.w3.org/2000/svg"){var E=y.getAttribute(t)||"";E=e+E;var N=r.get(E);N?N.push(y):r.set(E,[y])}}return r}function mh(e,t,o){e=e.ownerDocument||e,e.head.insertBefore(o,t==="title"?e.querySelector("head > title"):null)}function Zy(e,t,o){if(o===1||t.itemProp!=null)return!1;switch(e){case"meta":case"title":return!0;case"style":if(typeof t.precedence!="string"||typeof t.href!="string"||t.href==="")break;return!0;case"link":if(typeof t.rel!="string"||typeof t.href!="string"||t.href===""||t.onLoad||t.onError)break;switch(t.rel){case"stylesheet":return e=t.disabled,typeof t.precedence=="string"&&e==null;default:return!0}case"script":if(t.async&&typeof t.async!="function"&&typeof t.async!="symbol"&&!t.onLoad&&!t.onError&&t.src&&typeof t.src=="string")return!0}return!1}function gh(e){return!(e.type==="stylesheet"&&(e.state.loading&3)===0)}function Ky(e,t,o,r){if(o.type==="stylesheet"&&(typeof r.media!="string"||matchMedia(r.media).matches!==!1)&&(o.state.loading&4)===0){if(o.instance===null){var h=fo(r.href),y=t.querySelector(sl(h));if(y){t=y._p,t!==null&&typeof t=="object"&&typeof t.then=="function"&&(e.count++,e=Ea.bind(e),t.then(e,e)),o.state.loading|=4,o.instance=y,Et(y);return}y=t.ownerDocument||t,r=dh(r),(h=on.get(h))&&Ks(r,h),y=y.createElement("link"),Et(y);var E=y;E._p=new Promise(function(N,P){E.onload=N,E.onerror=P}),bt(y,"link",r),o.instance=y}e.stylesheets===null&&(e.stylesheets=new Map),e.stylesheets.set(o,t),(t=o.state.preload)&&(o.state.loading&3)===0&&(e.count++,o=Ea.bind(e),t.addEventListener("load",o),t.addEventListener("error",o))}}var Qs=0;function Xy(e,t){return e.stylesheets&&e.count===0&&Aa(e,e.stylesheets),0<e.count||0<e.imgCount?function(o){var r=setTimeout(function(){if(e.stylesheets&&Aa(e,e.stylesheets),e.unsuspend){var y=e.unsuspend;e.unsuspend=null,y()}},6e4+t);0<e.imgBytes&&Qs===0&&(Qs=62500*My());var h=setTimeout(function(){if(e.waitingForImages=!1,e.count===0&&(e.stylesheets&&Aa(e,e.stylesheets),e.unsuspend)){var y=e.unsuspend;e.unsuspend=null,y()}},(e.imgBytes>Qs?50:800)+t);return e.unsuspend=o,function(){e.unsuspend=null,clearTimeout(r),clearTimeout(h)}}:null}function Ea(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)Aa(this,this.stylesheets);else if(this.unsuspend){var e=this.unsuspend;this.unsuspend=null,e()}}}var Ca=null;function Aa(e,t){e.stylesheets=null,e.unsuspend!==null&&(e.count++,Ca=new Map,t.forEach(Qy,e),Ca=null,Ea.call(e))}function Qy(e,t){if(!(t.state.loading&4)){var o=Ca.get(e);if(o)var r=o.get(null);else{o=new Map,Ca.set(e,o);for(var h=e.querySelectorAll("link[data-precedence],style[data-precedence]"),y=0;y<h.length;y++){var E=h[y];(E.nodeName==="LINK"||E.getAttribute("media")!=="not all")&&(o.set(E.dataset.precedence,E),r=E)}r&&o.set(null,r)}h=t.instance,E=h.getAttribute("data-precedence"),y=o.get(E)||r,y===r&&o.set(null,h),o.set(E,h),this.count++,r=Ea.bind(this),h.addEventListener("load",r),h.addEventListener("error",r),y?y.parentNode.insertBefore(h,y.nextSibling):(e=e.nodeType===9?e.head:e,e.insertBefore(h,e.firstChild)),t.state.loading|=4}}var cl={$$typeof:U,Provider:null,Consumer:null,_currentValue:me,_currentValue2:me,_threadCount:0};function Wy(e,t,o,r,h,y,E,N,P){this.tag=1,this.containerInfo=e,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Ya(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Ya(0),this.hiddenUpdates=Ya(null),this.identifierPrefix=r,this.onUncaughtError=h,this.onCaughtError=y,this.onRecoverableError=E,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=P,this.incompleteTransitions=new Map}function yh(e,t,o,r,h,y,E,N,P,$,ue,he){return e=new Wy(e,t,o,E,P,$,ue,he,N),t=1,y===!0&&(t|=24),y=Pt(3,null,null,t),e.current=y,y.stateNode=e,t=Mr(),t.refCount++,e.pooledCache=t,t.refCount++,y.memoizedState={element:r,isDehydrated:o,cache:t},Ur(y),e}function vh(e){return e?(e=Fi,e):Fi}function _h(e,t,o,r,h,y){h=vh(h),r.context===null?r.context=h:r.pendingContext=h,r=On(t),r.payload={element:o},y=y===void 0?null:y,y!==null&&(r.callback=y),o=Yn(e,r,t),o!==null&&(qt(o,e,t),Vo(o,e,t))}function Sh(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var o=e.retryLane;e.retryLane=o!==0&&o<t?o:t}}function Ws(e,t){Sh(e,t),(e=e.alternate)&&Sh(e,t)}function Th(e){if(e.tag===13||e.tag===31){var t=pi(e,67108864);t!==null&&qt(t,e,67108864),Ws(e,67108864)}}function Eh(e){if(e.tag===13||e.tag===31){var t=Jt();t=Ja(t);var o=pi(e,t);o!==null&&qt(o,e,t),Ws(e,t)}}var xa=!0;function $y(e,t,o,r){var h=V.T;V.T=null;var y=F.p;try{F.p=2,$s(e,t,o,r)}finally{F.p=y,V.T=h}}function jy(e,t,o,r){var h=V.T;V.T=null;var y=F.p;try{F.p=8,$s(e,t,o,r)}finally{F.p=y,V.T=h}}function $s(e,t,o,r){if(xa){var h=js(r);if(h===null)Gs(e,t,r,wa,o),Ah(e,r);else if(t0(h,e,t,o,r))r.stopPropagation();else if(Ah(e,r),t&4&&-1<e0.indexOf(e)){for(;h!==null;){var y=Di(h);if(y!==null)switch(y.tag){case 3:if(y=y.stateNode,y.current.memoizedState.isDehydrated){var E=Zt(y.pendingLanes);if(E!==0){var N=y;for(N.pendingLanes|=2,N.entangledLanes|=2;E;){var P=1<<31-Ze(E);N.entanglements[1]|=P,E&=~P}pn(y),($e&6)===0&&(sa=Se()+500,ol(0))}}break;case 31:case 13:N=pi(y,2),N!==null&&qt(N,y,2),ca(),Ws(y,2)}if(y=js(r),y===null&&Gs(e,t,r,wa,o),y===h)break;h=y}h!==null&&r.stopPropagation()}else Gs(e,t,r,null,o)}}function js(e){return e=tr(e),eu(e)}var wa=null;function eu(e){if(wa=null,e=Ii(e),e!==null){var t=c(e);if(t===null)e=null;else{var o=t.tag;if(o===13){if(e=d(t),e!==null)return e;e=null}else if(o===31){if(e=p(t),e!==null)return e;e=null}else if(o===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null)}}return wa=e,null}function Ch(e){switch(e){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(_e()){case Ie:return 2;case We:return 8;case qe:case Mt:return 32;case Ae:return 268435456;default:return 32}default:return 32}}var tu=!1,ni=null,ii=null,oi=null,fl=new Map,dl=new Map,li=[],e0="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function Ah(e,t){switch(e){case"focusin":case"focusout":ni=null;break;case"dragenter":case"dragleave":ii=null;break;case"mouseover":case"mouseout":oi=null;break;case"pointerover":case"pointerout":fl.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":dl.delete(t.pointerId)}}function hl(e,t,o,r,h,y){return e===null||e.nativeEvent!==y?(e={blockedOn:t,domEventName:o,eventSystemFlags:r,nativeEvent:y,targetContainers:[h]},t!==null&&(t=Di(t),t!==null&&Th(t)),e):(e.eventSystemFlags|=r,t=e.targetContainers,h!==null&&t.indexOf(h)===-1&&t.push(h),e)}function t0(e,t,o,r,h){switch(t){case"focusin":return ni=hl(ni,e,t,o,r,h),!0;case"dragenter":return ii=hl(ii,e,t,o,r,h),!0;case"mouseover":return oi=hl(oi,e,t,o,r,h),!0;case"pointerover":var y=h.pointerId;return fl.set(y,hl(fl.get(y)||null,e,t,o,r,h)),!0;case"gotpointercapture":return y=h.pointerId,dl.set(y,hl(dl.get(y)||null,e,t,o,r,h)),!0}return!1}function xh(e){var t=Ii(e.target);if(t!==null){var o=c(t);if(o!==null){if(t=o.tag,t===13){if(t=d(o),t!==null){e.blockedOn=t,Gu(e.priority,function(){Eh(o)});return}}else if(t===31){if(t=p(o),t!==null){e.blockedOn=t,Gu(e.priority,function(){Eh(o)});return}}else if(t===3&&o.stateNode.current.memoizedState.isDehydrated){e.blockedOn=o.tag===3?o.stateNode.containerInfo:null;return}}}e.blockedOn=null}function Ra(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var o=js(e.nativeEvent);if(o===null){o=e.nativeEvent;var r=new o.constructor(o.type,o);er=r,o.target.dispatchEvent(r),er=null}else return t=Di(o),t!==null&&Th(t),e.blockedOn=o,!1;t.shift()}return!0}function wh(e,t,o){Ra(e)&&o.delete(t)}function n0(){tu=!1,ni!==null&&Ra(ni)&&(ni=null),ii!==null&&Ra(ii)&&(ii=null),oi!==null&&Ra(oi)&&(oi=null),fl.forEach(wh),dl.forEach(wh)}function ba(e,t){e.blockedOn===t&&(e.blockedOn=null,tu||(tu=!0,i.unstable_scheduleCallback(i.unstable_NormalPriority,n0)))}var Ma=null;function Rh(e){Ma!==e&&(Ma=e,i.unstable_scheduleCallback(i.unstable_NormalPriority,function(){Ma===e&&(Ma=null);for(var t=0;t<e.length;t+=3){var o=e[t],r=e[t+1],h=e[t+2];if(typeof r!="function"){if(eu(r||o)===null)continue;break}var y=Di(o);y!==null&&(e.splice(t,3),t-=3,jr(y,{pending:!0,data:h,method:o.method,action:r},r,h))}}))}function po(e){function t(P){return ba(P,e)}ni!==null&&ba(ni,e),ii!==null&&ba(ii,e),oi!==null&&ba(oi,e),fl.forEach(t),dl.forEach(t);for(var o=0;o<li.length;o++){var r=li[o];r.blockedOn===e&&(r.blockedOn=null)}for(;0<li.length&&(o=li[0],o.blockedOn===null);)xh(o),o.blockedOn===null&&li.shift();if(o=(e.ownerDocument||e).$$reactFormReplay,o!=null)for(r=0;r<o.length;r+=3){var h=o[r],y=o[r+1],E=h[Ut]||null;if(typeof y=="function")E||Rh(o);else if(E){var N=null;if(y&&y.hasAttribute("formAction")){if(h=y,E=y[Ut]||null)N=E.formAction;else if(eu(h)!==null)continue}else N=E.action;typeof N=="function"?o[r+1]=N:(o.splice(r,3),r-=3),Rh(o)}}}function bh(){function e(y){y.canIntercept&&y.info==="react-transition"&&y.intercept({handler:function(){return new Promise(function(E){return h=E})},focusReset:"manual",scroll:"manual"})}function t(){h!==null&&(h(),h=null),r||setTimeout(o,20)}function o(){if(!r&&!navigation.transition){var y=navigation.currentEntry;y&&y.url!=null&&navigation.navigate(y.url,{state:y.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var r=!1,h=null;return navigation.addEventListener("navigate",e),navigation.addEventListener("navigatesuccess",t),navigation.addEventListener("navigateerror",t),setTimeout(o,100),function(){r=!0,navigation.removeEventListener("navigate",e),navigation.removeEventListener("navigatesuccess",t),navigation.removeEventListener("navigateerror",t),h!==null&&(h(),h=null)}}}function nu(e){this._internalRoot=e}Na.prototype.render=nu.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(a(409));var o=t.current,r=Jt();_h(o,r,e,t,null,null)},Na.prototype.unmount=nu.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;_h(e.current,2,null,e,null,null),ca(),t[Ni]=null}};function Na(e){this._internalRoot=e}Na.prototype.unstable_scheduleHydration=function(e){if(e){var t=Bu();e={blockedOn:null,target:e,priority:t};for(var o=0;o<li.length&&t!==0&&t<li[o].priority;o++);li.splice(o,0,e),o===0&&xh(e)}};var Mh=n.version;if(Mh!=="19.2.0")throw Error(a(527,Mh,"19.2.0"));F.findDOMNode=function(e){var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(a(188)):(e=Object.keys(e).join(","),Error(a(268,e)));return e=m(t),e=e!==null?v(e):null,e=e===null?null:e.stateNode,e};var i0={bundleType:0,version:"19.2.0",rendererPackageName:"react-dom",currentDispatcherRef:V,reconcilerVersion:"19.2.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Ia=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Ia.isDisabled&&Ia.supportsFiber)try{Me=Ia.inject(i0),Pe=Ia}catch{}}return ml.createRoot=function(e,t){if(!s(e))throw Error(a(299));var o=!1,r="",h=Lf,y=Bf,E=Gf;return t!=null&&(t.unstable_strictMode===!0&&(o=!0),t.identifierPrefix!==void 0&&(r=t.identifierPrefix),t.onUncaughtError!==void 0&&(h=t.onUncaughtError),t.onCaughtError!==void 0&&(y=t.onCaughtError),t.onRecoverableError!==void 0&&(E=t.onRecoverableError)),t=yh(e,1,!1,null,null,o,r,null,h,y,E,bh),e[Ni]=t.current,Bs(e),new nu(t)},ml.hydrateRoot=function(e,t,o){if(!s(e))throw Error(a(299));var r=!1,h="",y=Lf,E=Bf,N=Gf,P=null;return o!=null&&(o.unstable_strictMode===!0&&(r=!0),o.identifierPrefix!==void 0&&(h=o.identifierPrefix),o.onUncaughtError!==void 0&&(y=o.onUncaughtError),o.onCaughtError!==void 0&&(E=o.onCaughtError),o.onRecoverableError!==void 0&&(N=o.onRecoverableError),o.formState!==void 0&&(P=o.formState)),t=yh(e,1,!0,t,o??null,r,h,P,y,E,N,bh),t.context=vh(null),o=t.current,r=Jt(),r=Ja(r),h=On(r),h.callback=null,Yn(o,h,r),o=r,t.current.lanes=o,Ao(t,o),pn(t),e[Ni]=t.current,Bs(e),new Na(t)},ml.version="19.2.0",ml}var qh;function p0(){if(qh)return lu.exports;qh=1;function i(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(i)}catch(n){console.error(n)}}return i(),lu.exports=h0(),lu.exports}var m0=p0();const g0=Eu(m0),y0=({className:i="w-6 h-6"})=>D.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:i,children:[D.jsx("line",{x1:"12",y1:"5",x2:"12",y2:"19"}),D.jsx("line",{x1:"5",y1:"12",x2:"19",y2:"12"})]}),fu=({className:i="w-6 h-6"})=>D.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:i,children:[D.jsx("path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4"}),D.jsx("polyline",{points:"17 8 12 3 7 8"}),D.jsx("line",{x1:"12",y1:"3",x2:"12",y2:"15"})]}),hm=({className:i="w-6 h-6"})=>D.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:i,children:[D.jsx("path",{d:"M12 2L14.5 9.5L22 12L14.5 14.5L12 22L9.5 14.5L2 12L9.5 9.5L12 2Z"}),D.jsx("path",{d:"M22 2L20 7L15 9L20 11L22 16L24 11L29 9L24 7L22 2Z",transform:"translate(-8 -1) scale(0.5)"}),D.jsx("path",{d:"M2 22L4 17L9 15L4 13L2 8L0 13L-5 15L0 17L2 22Z",transform:"translate(6 1) scale(0.5)"})]}),pm=({className:i="w-6 h-6"})=>D.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:i,children:[D.jsx("path",{d:"M15 4V2"}),D.jsx("path",{d:"M15 16v-2"}),D.jsx("path",{d:"M8 9h2"}),D.jsx("path",{d:"M20 9h2"}),D.jsx("path",{d:"M17.8 11.8 19 13"}),D.jsx("path",{d:"M15 9a3 3 0 0 0-3-3"}),D.jsx("path",{d:"M12 12a3 3 0 0 0-3-3H6a3 3 0 0 0-3 3v6a3 3 0 0 0 3 3h3a3 3 0 0 0 3-3v-1a3 3 0 0 0-3-3H9"}),D.jsx("path",{d:"m19 5-1.8 1.8"}),D.jsx("path",{d:"M22 22 12 12"})]}),Au=({className:i="w-6 h-6"})=>D.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:i,children:[D.jsx("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),D.jsx("line",{x1:"6",y1:"6",x2:"18",y2:"18"})]}),mm=({className:i="w-6 h-6"})=>D.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:i,children:[D.jsx("path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4"}),D.jsx("polyline",{points:"7 10 12 15 17 10"}),D.jsx("line",{x1:"12",y1:"15",x2:"12",y2:"3"})]}),gm=({className:i="w-6 h-6"})=>D.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:i,children:[D.jsx("path",{d:"M6 2v14a2 2 0 0 0 2 2h14"}),D.jsx("path",{d:"M18 22V8a2 2 0 0 0-2-2H2"})]}),ym=({className:i="w-6 h-6"})=>D.jsx("svg",{xmlns:"http://www.w.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:i,children:D.jsx("polyline",{points:"20 6 9 17 4 12"})}),Ri=({className:i="w-6 h-6"})=>D.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:`${i} animate-spin`,children:D.jsx("path",{d:"M21 12a9 9 0 1 1-6.219-8.56"})}),v0=({className:i="w-6 h-6"})=>D.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:i,children:[D.jsx("path",{d:"M2 3h6a4 4 0 0 1 4 4v14a3 3 0 0 0-3-3H2Z"}),D.jsx("path",{d:"M22 3h-6a4 4 0 0 0-4 4v14a3 3 0 0 1 3-3h7Z"})]}),_0=({className:i="w-6 h-6"})=>D.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:i,children:[D.jsx("path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 0 2l-.15.08a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.38a2 2 0 0 0-.73-2.73l-.15-.1a2 2 0 0 1 0-2l.15-.08a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z"}),D.jsx("circle",{cx:"12",cy:"12",r:"3"})]}),S0=({className:i="w-6 h-6"})=>D.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:i,children:[D.jsx("path",{d:"M3 6h18"}),D.jsx("path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6m3 0V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2"}),D.jsx("line",{x1:"10",y1:"11",x2:"10",y2:"17"}),D.jsx("line",{x1:"14",y1:"11",x2:"14",y2:"17"})]}),T0=({className:i="w-6 h-6"})=>D.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:i,children:D.jsx("path",{d:"M17 3a2.828 2.828 0 1 1 4 4L7.5 20.5 2 22l1.5-5.5L17 3z"})}),E0=({className:i="w-6 h-6"})=>D.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:i,children:[D.jsx("path",{d:"M3 7v10h18V7M3 12h18"}),D.jsx("path",{d:"m16 3-4 4-4-4"})]}),C0=({className:i="w-6 h-6"})=>D.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:i,children:[D.jsx("path",{d:"M7 3H3v18h4M12 3v18"}),D.jsx("path",{d:"m21 16-4-4 4-4"})]}),du=({className:i="w-6 h-6"})=>D.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:i,children:[D.jsx("path",{d:"m2 22 5.5-5.5"}),D.jsx("path",{d:"m13.02 13.02 5.5-5.5"}),D.jsx("path",{d:"M14.5 6.5 22 14"}),D.jsx("path",{d:"m13.02 13.02 2.12-2.12C16.6 9.42 16.07 7.5 15 7c-1.55-.78-3.5-1.3-5-2.5-1.5-1.2-2.03-3.08-1.52-4.48L2 6.5l3.5 3.5.02.02c1.4-1.4 3.55-1.98 5-1.52Z"})]});/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */let A0,x0;function w0(){return{geminiUrl:A0,vertexUrl:x0}}function R0(i,n,l,a){var s,c;if(!(i!=null&&i.baseUrl)){const d=w0();return n?(s=d.vertexUrl)!==null&&s!==void 0?s:l:(c=d.geminiUrl)!==null&&c!==void 0?c:a}return i.baseUrl}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class zn{}function Ee(i,n){const l=/\{([^}]+)\}/g;return i.replace(l,(a,s)=>{if(Object.prototype.hasOwnProperty.call(n,s)){const c=n[s];return c!=null?String(c):""}else throw new Error(`Key '${s}' not found in valueMap.`)})}function f(i,n,l){for(let c=0;c<n.length-1;c++){const d=n[c];if(d.endsWith("[]")){const p=d.slice(0,-2);if(!(p in i))if(Array.isArray(l))i[p]=Array.from({length:l.length},()=>({}));else throw new Error(`Value must be a list given an array path ${d}`);if(Array.isArray(i[p])){const g=i[p];if(Array.isArray(l))for(let m=0;m<g.length;m++){const v=g[m];f(v,n.slice(c+1),l[m])}else for(const m of g)f(m,n.slice(c+1),l)}return}else if(d.endsWith("[0]")){const p=d.slice(0,-3);p in i||(i[p]=[{}]);const g=i[p];f(g[0],n.slice(c+1),l);return}(!i[d]||typeof i[d]!="object")&&(i[d]={}),i=i[d]}const a=n[n.length-1],s=i[a];if(s!==void 0){if(!l||typeof l=="object"&&Object.keys(l).length===0||l===s)return;if(typeof s=="object"&&typeof l=="object"&&s!==null&&l!==null)Object.assign(s,l);else throw new Error(`Cannot set value for an existing key. Key: ${a}`)}else a==="_self"&&typeof l=="object"&&l!==null&&!Array.isArray(l)?Object.assign(i,l):i[a]=l}function u(i,n,l=void 0){try{if(n.length===1&&n[0]==="_self")return i;for(let a=0;a<n.length;a++){if(typeof i!="object"||i===null)return l;const s=n[a];if(s.endsWith("[]")){const c=s.slice(0,-2);if(c in i){const d=i[c];return Array.isArray(d)?d.map(p=>u(p,n.slice(a+1),l)):l}else return l}else i=i[s]}return i}catch(a){if(a instanceof TypeError)return l;throw a}}function b0(i,n){for(const[l,a]of Object.entries(n)){const s=l.split("."),c=a.split("."),d=new Set;let p=-1;for(let g=0;g<s.length;g++)if(s[g]==="*"){p=g;break}if(p!==-1&&c.length>p)for(let g=p;g<c.length;g++){const m=c[g];m!=="*"&&!m.endsWith("[]")&&!m.endsWith("[0]")&&d.add(m)}hu(i,s,c,0,d)}}function hu(i,n,l,a,s){if(a>=n.length||typeof i!="object"||i===null)return;const c=n[a];if(c.endsWith("[]")){const d=c.slice(0,-2),p=i;if(d in p&&Array.isArray(p[d]))for(const g of p[d])hu(g,n,l,a+1,s)}else if(c==="*"){if(typeof i=="object"&&i!==null&&!Array.isArray(i)){const d=i,p=Object.keys(d).filter(m=>!m.startsWith("_")&&!s.has(m)),g={};for(const m of p)g[m]=d[m];for(const[m,v]of Object.entries(g)){const _=[];for(const S of l.slice(a))S==="*"?_.push(m):_.push(S);f(d,_,v)}for(const m of p)delete d[m]}}else{const d=i;c in d&&hu(d[c],n,l,a+1,s)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function xu(i){if(typeof i!="string")throw new Error("fromImageBytes must be a string");return i}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function M0(i){const n={},l=u(i,["operationName"]);l!=null&&f(n,["operationName"],l);const a=u(i,["resourceName"]);return a!=null&&f(n,["_url","resourceName"],a),n}function N0(i){const n={},l=u(i,["name"]);l!=null&&f(n,["name"],l);const a=u(i,["metadata"]);a!=null&&f(n,["metadata"],a);const s=u(i,["done"]);s!=null&&f(n,["done"],s);const c=u(i,["error"]);c!=null&&f(n,["error"],c);const d=u(i,["response","generateVideoResponse"]);return d!=null&&f(n,["response"],D0(d)),n}function I0(i){const n={},l=u(i,["name"]);l!=null&&f(n,["name"],l);const a=u(i,["metadata"]);a!=null&&f(n,["metadata"],a);const s=u(i,["done"]);s!=null&&f(n,["done"],s);const c=u(i,["error"]);c!=null&&f(n,["error"],c);const d=u(i,["response"]);return d!=null&&f(n,["response"],U0(d)),n}function D0(i){const n={},l=u(i,["generatedSamples"]);if(l!=null){let c=l;Array.isArray(c)&&(c=c.map(d=>k0(d))),f(n,["generatedVideos"],c)}const a=u(i,["raiMediaFilteredCount"]);a!=null&&f(n,["raiMediaFilteredCount"],a);const s=u(i,["raiMediaFilteredReasons"]);return s!=null&&f(n,["raiMediaFilteredReasons"],s),n}function U0(i){const n={},l=u(i,["videos"]);if(l!=null){let c=l;Array.isArray(c)&&(c=c.map(d=>z0(d))),f(n,["generatedVideos"],c)}const a=u(i,["raiMediaFilteredCount"]);a!=null&&f(n,["raiMediaFilteredCount"],a);const s=u(i,["raiMediaFilteredReasons"]);return s!=null&&f(n,["raiMediaFilteredReasons"],s),n}function k0(i){const n={},l=u(i,["video"]);return l!=null&&f(n,["video"],P0(l)),n}function z0(i){const n={},l=u(i,["_self"]);return l!=null&&f(n,["video"],V0(l)),n}function L0(i){const n={},l=u(i,["operationName"]);return l!=null&&f(n,["_url","operationName"],l),n}function B0(i){const n={},l=u(i,["operationName"]);return l!=null&&f(n,["_url","operationName"],l),n}function G0(i){const n={},l=u(i,["name"]);l!=null&&f(n,["name"],l);const a=u(i,["metadata"]);a!=null&&f(n,["metadata"],a);const s=u(i,["done"]);s!=null&&f(n,["done"],s);const c=u(i,["error"]);c!=null&&f(n,["error"],c);const d=u(i,["response"]);return d!=null&&f(n,["response"],q0(d)),n}function q0(i){const n={},l=u(i,["sdkHttpResponse"]);l!=null&&f(n,["sdkHttpResponse"],l);const a=u(i,["parent"]);a!=null&&f(n,["parent"],a);const s=u(i,["documentName"]);return s!=null&&f(n,["documentName"],s),n}function vm(i){const n={},l=u(i,["name"]);l!=null&&f(n,["name"],l);const a=u(i,["metadata"]);a!=null&&f(n,["metadata"],a);const s=u(i,["done"]);s!=null&&f(n,["done"],s);const c=u(i,["error"]);c!=null&&f(n,["error"],c);const d=u(i,["response"]);return d!=null&&f(n,["response"],H0(d)),n}function H0(i){const n={},l=u(i,["sdkHttpResponse"]);l!=null&&f(n,["sdkHttpResponse"],l);const a=u(i,["parent"]);a!=null&&f(n,["parent"],a);const s=u(i,["documentName"]);return s!=null&&f(n,["documentName"],s),n}function P0(i){const n={},l=u(i,["uri"]);l!=null&&f(n,["uri"],l);const a=u(i,["encodedVideo"]);a!=null&&f(n,["videoBytes"],xu(a));const s=u(i,["encoding"]);return s!=null&&f(n,["mimeType"],s),n}function V0(i){const n={},l=u(i,["gcsUri"]);l!=null&&f(n,["uri"],l);const a=u(i,["bytesBase64Encoded"]);a!=null&&f(n,["videoBytes"],xu(a));const s=u(i,["mimeType"]);return s!=null&&f(n,["mimeType"],s),n}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */var Hh;(function(i){i.OUTCOME_UNSPECIFIED="OUTCOME_UNSPECIFIED",i.OUTCOME_OK="OUTCOME_OK",i.OUTCOME_FAILED="OUTCOME_FAILED",i.OUTCOME_DEADLINE_EXCEEDED="OUTCOME_DEADLINE_EXCEEDED"})(Hh||(Hh={}));var Ph;(function(i){i.LANGUAGE_UNSPECIFIED="LANGUAGE_UNSPECIFIED",i.PYTHON="PYTHON"})(Ph||(Ph={}));var Vh;(function(i){i.SCHEDULING_UNSPECIFIED="SCHEDULING_UNSPECIFIED",i.SILENT="SILENT",i.WHEN_IDLE="WHEN_IDLE",i.INTERRUPT="INTERRUPT"})(Vh||(Vh={}));var ri;(function(i){i.TYPE_UNSPECIFIED="TYPE_UNSPECIFIED",i.STRING="STRING",i.NUMBER="NUMBER",i.INTEGER="INTEGER",i.BOOLEAN="BOOLEAN",i.ARRAY="ARRAY",i.OBJECT="OBJECT",i.NULL="NULL"})(ri||(ri={}));var Fh;(function(i){i.MODE_UNSPECIFIED="MODE_UNSPECIFIED",i.MODE_DYNAMIC="MODE_DYNAMIC"})(Fh||(Fh={}));var Oh;(function(i){i.API_SPEC_UNSPECIFIED="API_SPEC_UNSPECIFIED",i.SIMPLE_SEARCH="SIMPLE_SEARCH",i.ELASTIC_SEARCH="ELASTIC_SEARCH"})(Oh||(Oh={}));var Yh;(function(i){i.AUTH_TYPE_UNSPECIFIED="AUTH_TYPE_UNSPECIFIED",i.NO_AUTH="NO_AUTH",i.API_KEY_AUTH="API_KEY_AUTH",i.HTTP_BASIC_AUTH="HTTP_BASIC_AUTH",i.GOOGLE_SERVICE_ACCOUNT_AUTH="GOOGLE_SERVICE_ACCOUNT_AUTH",i.OAUTH="OAUTH",i.OIDC_AUTH="OIDC_AUTH"})(Yh||(Yh={}));var Jh;(function(i){i.HTTP_IN_UNSPECIFIED="HTTP_IN_UNSPECIFIED",i.HTTP_IN_QUERY="HTTP_IN_QUERY",i.HTTP_IN_HEADER="HTTP_IN_HEADER",i.HTTP_IN_PATH="HTTP_IN_PATH",i.HTTP_IN_BODY="HTTP_IN_BODY",i.HTTP_IN_COOKIE="HTTP_IN_COOKIE"})(Jh||(Jh={}));var Zh;(function(i){i.PHISH_BLOCK_THRESHOLD_UNSPECIFIED="PHISH_BLOCK_THRESHOLD_UNSPECIFIED",i.BLOCK_LOW_AND_ABOVE="BLOCK_LOW_AND_ABOVE",i.BLOCK_MEDIUM_AND_ABOVE="BLOCK_MEDIUM_AND_ABOVE",i.BLOCK_HIGH_AND_ABOVE="BLOCK_HIGH_AND_ABOVE",i.BLOCK_HIGHER_AND_ABOVE="BLOCK_HIGHER_AND_ABOVE",i.BLOCK_VERY_HIGH_AND_ABOVE="BLOCK_VERY_HIGH_AND_ABOVE",i.BLOCK_ONLY_EXTREMELY_HIGH="BLOCK_ONLY_EXTREMELY_HIGH"})(Zh||(Zh={}));var Kh;(function(i){i.THINKING_LEVEL_UNSPECIFIED="THINKING_LEVEL_UNSPECIFIED",i.LOW="LOW",i.HIGH="HIGH"})(Kh||(Kh={}));var Xh;(function(i){i.HARM_CATEGORY_UNSPECIFIED="HARM_CATEGORY_UNSPECIFIED",i.HARM_CATEGORY_HARASSMENT="HARM_CATEGORY_HARASSMENT",i.HARM_CATEGORY_HATE_SPEECH="HARM_CATEGORY_HATE_SPEECH",i.HARM_CATEGORY_SEXUALLY_EXPLICIT="HARM_CATEGORY_SEXUALLY_EXPLICIT",i.HARM_CATEGORY_DANGEROUS_CONTENT="HARM_CATEGORY_DANGEROUS_CONTENT",i.HARM_CATEGORY_CIVIC_INTEGRITY="HARM_CATEGORY_CIVIC_INTEGRITY",i.HARM_CATEGORY_IMAGE_HATE="HARM_CATEGORY_IMAGE_HATE",i.HARM_CATEGORY_IMAGE_DANGEROUS_CONTENT="HARM_CATEGORY_IMAGE_DANGEROUS_CONTENT",i.HARM_CATEGORY_IMAGE_HARASSMENT="HARM_CATEGORY_IMAGE_HARASSMENT",i.HARM_CATEGORY_IMAGE_SEXUALLY_EXPLICIT="HARM_CATEGORY_IMAGE_SEXUALLY_EXPLICIT",i.HARM_CATEGORY_JAILBREAK="HARM_CATEGORY_JAILBREAK"})(Xh||(Xh={}));var Qh;(function(i){i.HARM_BLOCK_METHOD_UNSPECIFIED="HARM_BLOCK_METHOD_UNSPECIFIED",i.SEVERITY="SEVERITY",i.PROBABILITY="PROBABILITY"})(Qh||(Qh={}));var Wh;(function(i){i.HARM_BLOCK_THRESHOLD_UNSPECIFIED="HARM_BLOCK_THRESHOLD_UNSPECIFIED",i.BLOCK_LOW_AND_ABOVE="BLOCK_LOW_AND_ABOVE",i.BLOCK_MEDIUM_AND_ABOVE="BLOCK_MEDIUM_AND_ABOVE",i.BLOCK_ONLY_HIGH="BLOCK_ONLY_HIGH",i.BLOCK_NONE="BLOCK_NONE",i.OFF="OFF"})(Wh||(Wh={}));var $h;(function(i){i.FINISH_REASON_UNSPECIFIED="FINISH_REASON_UNSPECIFIED",i.STOP="STOP",i.MAX_TOKENS="MAX_TOKENS",i.SAFETY="SAFETY",i.RECITATION="RECITATION",i.LANGUAGE="LANGUAGE",i.OTHER="OTHER",i.BLOCKLIST="BLOCKLIST",i.PROHIBITED_CONTENT="PROHIBITED_CONTENT",i.SPII="SPII",i.MALFORMED_FUNCTION_CALL="MALFORMED_FUNCTION_CALL",i.IMAGE_SAFETY="IMAGE_SAFETY",i.UNEXPECTED_TOOL_CALL="UNEXPECTED_TOOL_CALL",i.IMAGE_PROHIBITED_CONTENT="IMAGE_PROHIBITED_CONTENT",i.NO_IMAGE="NO_IMAGE"})($h||($h={}));var jh;(function(i){i.HARM_PROBABILITY_UNSPECIFIED="HARM_PROBABILITY_UNSPECIFIED",i.NEGLIGIBLE="NEGLIGIBLE",i.LOW="LOW",i.MEDIUM="MEDIUM",i.HIGH="HIGH"})(jh||(jh={}));var ep;(function(i){i.HARM_SEVERITY_UNSPECIFIED="HARM_SEVERITY_UNSPECIFIED",i.HARM_SEVERITY_NEGLIGIBLE="HARM_SEVERITY_NEGLIGIBLE",i.HARM_SEVERITY_LOW="HARM_SEVERITY_LOW",i.HARM_SEVERITY_MEDIUM="HARM_SEVERITY_MEDIUM",i.HARM_SEVERITY_HIGH="HARM_SEVERITY_HIGH"})(ep||(ep={}));var tp;(function(i){i.URL_RETRIEVAL_STATUS_UNSPECIFIED="URL_RETRIEVAL_STATUS_UNSPECIFIED",i.URL_RETRIEVAL_STATUS_SUCCESS="URL_RETRIEVAL_STATUS_SUCCESS",i.URL_RETRIEVAL_STATUS_ERROR="URL_RETRIEVAL_STATUS_ERROR",i.URL_RETRIEVAL_STATUS_PAYWALL="URL_RETRIEVAL_STATUS_PAYWALL",i.URL_RETRIEVAL_STATUS_UNSAFE="URL_RETRIEVAL_STATUS_UNSAFE"})(tp||(tp={}));var np;(function(i){i.BLOCKED_REASON_UNSPECIFIED="BLOCKED_REASON_UNSPECIFIED",i.SAFETY="SAFETY",i.OTHER="OTHER",i.BLOCKLIST="BLOCKLIST",i.PROHIBITED_CONTENT="PROHIBITED_CONTENT",i.IMAGE_SAFETY="IMAGE_SAFETY",i.MODEL_ARMOR="MODEL_ARMOR",i.JAILBREAK="JAILBREAK"})(np||(np={}));var ip;(function(i){i.TRAFFIC_TYPE_UNSPECIFIED="TRAFFIC_TYPE_UNSPECIFIED",i.ON_DEMAND="ON_DEMAND",i.PROVISIONED_THROUGHPUT="PROVISIONED_THROUGHPUT"})(ip||(ip={}));var _o;(function(i){i.MODALITY_UNSPECIFIED="MODALITY_UNSPECIFIED",i.TEXT="TEXT",i.IMAGE="IMAGE",i.AUDIO="AUDIO"})(_o||(_o={}));var op;(function(i){i.MEDIA_RESOLUTION_UNSPECIFIED="MEDIA_RESOLUTION_UNSPECIFIED",i.MEDIA_RESOLUTION_LOW="MEDIA_RESOLUTION_LOW",i.MEDIA_RESOLUTION_MEDIUM="MEDIA_RESOLUTION_MEDIUM",i.MEDIA_RESOLUTION_HIGH="MEDIA_RESOLUTION_HIGH"})(op||(op={}));var lp;(function(i){i.TUNING_MODE_UNSPECIFIED="TUNING_MODE_UNSPECIFIED",i.TUNING_MODE_FULL="TUNING_MODE_FULL",i.TUNING_MODE_PEFT_ADAPTER="TUNING_MODE_PEFT_ADAPTER"})(lp||(lp={}));var ap;(function(i){i.ADAPTER_SIZE_UNSPECIFIED="ADAPTER_SIZE_UNSPECIFIED",i.ADAPTER_SIZE_ONE="ADAPTER_SIZE_ONE",i.ADAPTER_SIZE_TWO="ADAPTER_SIZE_TWO",i.ADAPTER_SIZE_FOUR="ADAPTER_SIZE_FOUR",i.ADAPTER_SIZE_EIGHT="ADAPTER_SIZE_EIGHT",i.ADAPTER_SIZE_SIXTEEN="ADAPTER_SIZE_SIXTEEN",i.ADAPTER_SIZE_THIRTY_TWO="ADAPTER_SIZE_THIRTY_TWO"})(ap||(ap={}));var pu;(function(i){i.JOB_STATE_UNSPECIFIED="JOB_STATE_UNSPECIFIED",i.JOB_STATE_QUEUED="JOB_STATE_QUEUED",i.JOB_STATE_PENDING="JOB_STATE_PENDING",i.JOB_STATE_RUNNING="JOB_STATE_RUNNING",i.JOB_STATE_SUCCEEDED="JOB_STATE_SUCCEEDED",i.JOB_STATE_FAILED="JOB_STATE_FAILED",i.JOB_STATE_CANCELLING="JOB_STATE_CANCELLING",i.JOB_STATE_CANCELLED="JOB_STATE_CANCELLED",i.JOB_STATE_PAUSED="JOB_STATE_PAUSED",i.JOB_STATE_EXPIRED="JOB_STATE_EXPIRED",i.JOB_STATE_UPDATING="JOB_STATE_UPDATING",i.JOB_STATE_PARTIALLY_SUCCEEDED="JOB_STATE_PARTIALLY_SUCCEEDED"})(pu||(pu={}));var rp;(function(i){i.TUNING_TASK_UNSPECIFIED="TUNING_TASK_UNSPECIFIED",i.TUNING_TASK_I2V="TUNING_TASK_I2V",i.TUNING_TASK_T2V="TUNING_TASK_T2V",i.TUNING_TASK_R2V="TUNING_TASK_R2V"})(rp||(rp={}));var sp;(function(i){i.MEDIA_RESOLUTION_UNSPECIFIED="MEDIA_RESOLUTION_UNSPECIFIED",i.MEDIA_RESOLUTION_LOW="MEDIA_RESOLUTION_LOW",i.MEDIA_RESOLUTION_MEDIUM="MEDIA_RESOLUTION_MEDIUM",i.MEDIA_RESOLUTION_HIGH="MEDIA_RESOLUTION_HIGH"})(sp||(sp={}));var up;(function(i){i.FEATURE_SELECTION_PREFERENCE_UNSPECIFIED="FEATURE_SELECTION_PREFERENCE_UNSPECIFIED",i.PRIORITIZE_QUALITY="PRIORITIZE_QUALITY",i.BALANCED="BALANCED",i.PRIORITIZE_COST="PRIORITIZE_COST"})(up||(up={}));var cp;(function(i){i.UNSPECIFIED="UNSPECIFIED",i.BLOCKING="BLOCKING",i.NON_BLOCKING="NON_BLOCKING"})(cp||(cp={}));var fp;(function(i){i.MODE_UNSPECIFIED="MODE_UNSPECIFIED",i.MODE_DYNAMIC="MODE_DYNAMIC"})(fp||(fp={}));var dp;(function(i){i.ENVIRONMENT_UNSPECIFIED="ENVIRONMENT_UNSPECIFIED",i.ENVIRONMENT_BROWSER="ENVIRONMENT_BROWSER"})(dp||(dp={}));var hp;(function(i){i.MODE_UNSPECIFIED="MODE_UNSPECIFIED",i.AUTO="AUTO",i.ANY="ANY",i.NONE="NONE",i.VALIDATED="VALIDATED"})(hp||(hp={}));var pp;(function(i){i.BLOCK_LOW_AND_ABOVE="BLOCK_LOW_AND_ABOVE",i.BLOCK_MEDIUM_AND_ABOVE="BLOCK_MEDIUM_AND_ABOVE",i.BLOCK_ONLY_HIGH="BLOCK_ONLY_HIGH",i.BLOCK_NONE="BLOCK_NONE"})(pp||(pp={}));var mp;(function(i){i.DONT_ALLOW="DONT_ALLOW",i.ALLOW_ADULT="ALLOW_ADULT",i.ALLOW_ALL="ALLOW_ALL"})(mp||(mp={}));var gp;(function(i){i.auto="auto",i.en="en",i.ja="ja",i.ko="ko",i.hi="hi",i.zh="zh",i.pt="pt",i.es="es"})(gp||(gp={}));var yp;(function(i){i.MASK_MODE_DEFAULT="MASK_MODE_DEFAULT",i.MASK_MODE_USER_PROVIDED="MASK_MODE_USER_PROVIDED",i.MASK_MODE_BACKGROUND="MASK_MODE_BACKGROUND",i.MASK_MODE_FOREGROUND="MASK_MODE_FOREGROUND",i.MASK_MODE_SEMANTIC="MASK_MODE_SEMANTIC"})(yp||(yp={}));var vp;(function(i){i.CONTROL_TYPE_DEFAULT="CONTROL_TYPE_DEFAULT",i.CONTROL_TYPE_CANNY="CONTROL_TYPE_CANNY",i.CONTROL_TYPE_SCRIBBLE="CONTROL_TYPE_SCRIBBLE",i.CONTROL_TYPE_FACE_MESH="CONTROL_TYPE_FACE_MESH"})(vp||(vp={}));var _p;(function(i){i.SUBJECT_TYPE_DEFAULT="SUBJECT_TYPE_DEFAULT",i.SUBJECT_TYPE_PERSON="SUBJECT_TYPE_PERSON",i.SUBJECT_TYPE_ANIMAL="SUBJECT_TYPE_ANIMAL",i.SUBJECT_TYPE_PRODUCT="SUBJECT_TYPE_PRODUCT"})(_p||(_p={}));var Sp;(function(i){i.EDIT_MODE_DEFAULT="EDIT_MODE_DEFAULT",i.EDIT_MODE_INPAINT_REMOVAL="EDIT_MODE_INPAINT_REMOVAL",i.EDIT_MODE_INPAINT_INSERTION="EDIT_MODE_INPAINT_INSERTION",i.EDIT_MODE_OUTPAINT="EDIT_MODE_OUTPAINT",i.EDIT_MODE_CONTROLLED_EDITING="EDIT_MODE_CONTROLLED_EDITING",i.EDIT_MODE_STYLE="EDIT_MODE_STYLE",i.EDIT_MODE_BGSWAP="EDIT_MODE_BGSWAP",i.EDIT_MODE_PRODUCT_IMAGE="EDIT_MODE_PRODUCT_IMAGE"})(Sp||(Sp={}));var Tp;(function(i){i.FOREGROUND="FOREGROUND",i.BACKGROUND="BACKGROUND",i.PROMPT="PROMPT",i.SEMANTIC="SEMANTIC",i.INTERACTIVE="INTERACTIVE"})(Tp||(Tp={}));var Ep;(function(i){i.ASSET="ASSET",i.STYLE="STYLE"})(Ep||(Ep={}));var Cp;(function(i){i.INSERT="INSERT",i.REMOVE="REMOVE",i.REMOVE_STATIC="REMOVE_STATIC",i.OUTPAINT="OUTPAINT"})(Cp||(Cp={}));var Ap;(function(i){i.OPTIMIZED="OPTIMIZED",i.LOSSLESS="LOSSLESS"})(Ap||(Ap={}));var xp;(function(i){i.SUPERVISED_FINE_TUNING="SUPERVISED_FINE_TUNING",i.PREFERENCE_TUNING="PREFERENCE_TUNING"})(xp||(xp={}));var wp;(function(i){i.STATE_UNSPECIFIED="STATE_UNSPECIFIED",i.STATE_PENDING="STATE_PENDING",i.STATE_ACTIVE="STATE_ACTIVE",i.STATE_FAILED="STATE_FAILED"})(wp||(wp={}));var Rp;(function(i){i.STATE_UNSPECIFIED="STATE_UNSPECIFIED",i.PROCESSING="PROCESSING",i.ACTIVE="ACTIVE",i.FAILED="FAILED"})(Rp||(Rp={}));var bp;(function(i){i.SOURCE_UNSPECIFIED="SOURCE_UNSPECIFIED",i.UPLOADED="UPLOADED",i.GENERATED="GENERATED"})(bp||(bp={}));var Mp;(function(i){i.TURN_COMPLETE_REASON_UNSPECIFIED="TURN_COMPLETE_REASON_UNSPECIFIED",i.MALFORMED_FUNCTION_CALL="MALFORMED_FUNCTION_CALL",i.RESPONSE_REJECTED="RESPONSE_REJECTED",i.NEED_MORE_INPUT="NEED_MORE_INPUT"})(Mp||(Mp={}));var Np;(function(i){i.MODALITY_UNSPECIFIED="MODALITY_UNSPECIFIED",i.TEXT="TEXT",i.IMAGE="IMAGE",i.VIDEO="VIDEO",i.AUDIO="AUDIO",i.DOCUMENT="DOCUMENT"})(Np||(Np={}));var Ip;(function(i){i.START_SENSITIVITY_UNSPECIFIED="START_SENSITIVITY_UNSPECIFIED",i.START_SENSITIVITY_HIGH="START_SENSITIVITY_HIGH",i.START_SENSITIVITY_LOW="START_SENSITIVITY_LOW"})(Ip||(Ip={}));var Dp;(function(i){i.END_SENSITIVITY_UNSPECIFIED="END_SENSITIVITY_UNSPECIFIED",i.END_SENSITIVITY_HIGH="END_SENSITIVITY_HIGH",i.END_SENSITIVITY_LOW="END_SENSITIVITY_LOW"})(Dp||(Dp={}));var Up;(function(i){i.ACTIVITY_HANDLING_UNSPECIFIED="ACTIVITY_HANDLING_UNSPECIFIED",i.START_OF_ACTIVITY_INTERRUPTS="START_OF_ACTIVITY_INTERRUPTS",i.NO_INTERRUPTION="NO_INTERRUPTION"})(Up||(Up={}));var kp;(function(i){i.TURN_COVERAGE_UNSPECIFIED="TURN_COVERAGE_UNSPECIFIED",i.TURN_INCLUDES_ONLY_ACTIVITY="TURN_INCLUDES_ONLY_ACTIVITY",i.TURN_INCLUDES_ALL_INPUT="TURN_INCLUDES_ALL_INPUT"})(kp||(kp={}));var zp;(function(i){i.SCALE_UNSPECIFIED="SCALE_UNSPECIFIED",i.C_MAJOR_A_MINOR="C_MAJOR_A_MINOR",i.D_FLAT_MAJOR_B_FLAT_MINOR="D_FLAT_MAJOR_B_FLAT_MINOR",i.D_MAJOR_B_MINOR="D_MAJOR_B_MINOR",i.E_FLAT_MAJOR_C_MINOR="E_FLAT_MAJOR_C_MINOR",i.E_MAJOR_D_FLAT_MINOR="E_MAJOR_D_FLAT_MINOR",i.F_MAJOR_D_MINOR="F_MAJOR_D_MINOR",i.G_FLAT_MAJOR_E_FLAT_MINOR="G_FLAT_MAJOR_E_FLAT_MINOR",i.G_MAJOR_E_MINOR="G_MAJOR_E_MINOR",i.A_FLAT_MAJOR_F_MINOR="A_FLAT_MAJOR_F_MINOR",i.A_MAJOR_G_FLAT_MINOR="A_MAJOR_G_FLAT_MINOR",i.B_FLAT_MAJOR_G_MINOR="B_FLAT_MAJOR_G_MINOR",i.B_MAJOR_A_FLAT_MINOR="B_MAJOR_A_FLAT_MINOR"})(zp||(zp={}));var Lp;(function(i){i.MUSIC_GENERATION_MODE_UNSPECIFIED="MUSIC_GENERATION_MODE_UNSPECIFIED",i.QUALITY="QUALITY",i.DIVERSITY="DIVERSITY",i.VOCALIZATION="VOCALIZATION"})(Lp||(Lp={}));var mo;(function(i){i.PLAYBACK_CONTROL_UNSPECIFIED="PLAYBACK_CONTROL_UNSPECIFIED",i.PLAY="PLAY",i.PAUSE="PAUSE",i.STOP="STOP",i.RESET_CONTEXT="RESET_CONTEXT"})(mo||(mo={}));class mu{constructor(n){const l={};for(const a of n.headers.entries())l[a[0]]=a[1];this.headers=l,this.responseInternal=n}json(){return this.responseInternal.json()}}class gl{get text(){var n,l,a,s,c,d,p,g;if(((s=(a=(l=(n=this.candidates)===null||n===void 0?void 0:n[0])===null||l===void 0?void 0:l.content)===null||a===void 0?void 0:a.parts)===null||s===void 0?void 0:s.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning text from the first one.");let m="",v=!1;const _=[];for(const S of(g=(p=(d=(c=this.candidates)===null||c===void 0?void 0:c[0])===null||d===void 0?void 0:d.content)===null||p===void 0?void 0:p.parts)!==null&&g!==void 0?g:[]){for(const[T,R]of Object.entries(S))T!=="text"&&T!=="thought"&&T!=="thoughtSignature"&&(R!==null||R!==void 0)&&_.push(T);if(typeof S.text=="string"){if(typeof S.thought=="boolean"&&S.thought)continue;v=!0,m+=S.text}}return _.length>0&&console.warn(`there are non-text parts ${_} in the response, returning concatenation of all text parts. Please refer to the non text parts for a full response from model.`),v?m:void 0}get data(){var n,l,a,s,c,d,p,g;if(((s=(a=(l=(n=this.candidates)===null||n===void 0?void 0:n[0])===null||l===void 0?void 0:l.content)===null||a===void 0?void 0:a.parts)===null||s===void 0?void 0:s.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning data from the first one.");let m="";const v=[];for(const _ of(g=(p=(d=(c=this.candidates)===null||c===void 0?void 0:c[0])===null||d===void 0?void 0:d.content)===null||p===void 0?void 0:p.parts)!==null&&g!==void 0?g:[]){for(const[S,T]of Object.entries(_))S!=="inlineData"&&(T!==null||T!==void 0)&&v.push(S);_.inlineData&&typeof _.inlineData.data=="string"&&(m+=atob(_.inlineData.data))}return v.length>0&&console.warn(`there are non-data parts ${v} in the response, returning concatenation of all data parts. Please refer to the non data parts for a full response from model.`),m.length>0?btoa(m):void 0}get functionCalls(){var n,l,a,s,c,d,p,g;if(((s=(a=(l=(n=this.candidates)===null||n===void 0?void 0:n[0])===null||l===void 0?void 0:l.content)===null||a===void 0?void 0:a.parts)===null||s===void 0?void 0:s.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning function calls from the first one.");const m=(g=(p=(d=(c=this.candidates)===null||c===void 0?void 0:c[0])===null||d===void 0?void 0:d.content)===null||p===void 0?void 0:p.parts)===null||g===void 0?void 0:g.filter(v=>v.functionCall).map(v=>v.functionCall).filter(v=>v!==void 0);if((m==null?void 0:m.length)!==0)return m}get executableCode(){var n,l,a,s,c,d,p,g,m;if(((s=(a=(l=(n=this.candidates)===null||n===void 0?void 0:n[0])===null||l===void 0?void 0:l.content)===null||a===void 0?void 0:a.parts)===null||s===void 0?void 0:s.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning executable code from the first one.");const v=(g=(p=(d=(c=this.candidates)===null||c===void 0?void 0:c[0])===null||d===void 0?void 0:d.content)===null||p===void 0?void 0:p.parts)===null||g===void 0?void 0:g.filter(_=>_.executableCode).map(_=>_.executableCode).filter(_=>_!==void 0);if((v==null?void 0:v.length)!==0)return(m=v==null?void 0:v[0])===null||m===void 0?void 0:m.code}get codeExecutionResult(){var n,l,a,s,c,d,p,g,m;if(((s=(a=(l=(n=this.candidates)===null||n===void 0?void 0:n[0])===null||l===void 0?void 0:l.content)===null||a===void 0?void 0:a.parts)===null||s===void 0?void 0:s.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning code execution result from the first one.");const v=(g=(p=(d=(c=this.candidates)===null||c===void 0?void 0:c[0])===null||d===void 0?void 0:d.content)===null||p===void 0?void 0:p.parts)===null||g===void 0?void 0:g.filter(_=>_.codeExecutionResult).map(_=>_.codeExecutionResult).filter(_=>_!==void 0);if((v==null?void 0:v.length)!==0)return(m=v==null?void 0:v[0])===null||m===void 0?void 0:m.output}}class Bp{}class Gp{}class F0{}class O0{}class Y0{}class J0{}class qp{}class Hp{}class Pp{}class Z0{}class La{_fromAPIResponse({apiResponse:n,_isVertexAI:l}){const a=new La;let s;const c=n;return l?s=I0(c):s=N0(c),Object.assign(a,s),a}}class Vp{}class Fp{}class Op{}class K0{}class X0{}class Q0{}class wu{_fromAPIResponse({apiResponse:n,_isVertexAI:l}){const a=new wu,c=G0(n);return Object.assign(a,c),a}}class W0{}class $0{}class j0{}class Yp{}class ev{get text(){var n,l,a;let s="",c=!1;const d=[];for(const p of(a=(l=(n=this.serverContent)===null||n===void 0?void 0:n.modelTurn)===null||l===void 0?void 0:l.parts)!==null&&a!==void 0?a:[]){for(const[g,m]of Object.entries(p))g!=="text"&&g!=="thought"&&m!==null&&d.push(g);if(typeof p.text=="string"){if(typeof p.thought=="boolean"&&p.thought)continue;c=!0,s+=p.text}}return d.length>0&&console.warn(`there are non-text parts ${d} in the response, returning concatenation of all text parts. Please refer to the non text parts for a full response from model.`),c?s:void 0}get data(){var n,l,a;let s="";const c=[];for(const d of(a=(l=(n=this.serverContent)===null||n===void 0?void 0:n.modelTurn)===null||l===void 0?void 0:l.parts)!==null&&a!==void 0?a:[]){for(const[p,g]of Object.entries(d))p!=="inlineData"&&g!==null&&c.push(p);d.inlineData&&typeof d.inlineData.data=="string"&&(s+=atob(d.inlineData.data))}return c.length>0&&console.warn(`there are non-data parts ${c} in the response, returning concatenation of all data parts. Please refer to the non data parts for a full response from model.`),s.length>0?btoa(s):void 0}}class tv{get audioChunk(){if(this.serverContent&&this.serverContent.audioChunks&&this.serverContent.audioChunks.length>0)return this.serverContent.audioChunks[0]}}class Ru{_fromAPIResponse({apiResponse:n,_isVertexAI:l}){const a=new Ru,c=vm(n);return Object.assign(a,c),a}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function Qe(i,n){if(!n||typeof n!="string")throw new Error("model is required and must be a string");if(n.includes("..")||n.includes("?")||n.includes("&"))throw new Error("invalid model parameter");if(i.isVertexAI()){if(n.startsWith("publishers/")||n.startsWith("projects/")||n.startsWith("models/"))return n;if(n.indexOf("/")>=0){const l=n.split("/",2);return`publishers/${l[0]}/models/${l[1]}`}else return`publishers/google/models/${n}`}else return n.startsWith("models/")||n.startsWith("tunedModels/")?n:`models/${n}`}function _m(i,n){const l=Qe(i,n);return l?l.startsWith("publishers/")&&i.isVertexAI()?`projects/${i.getProject()}/locations/${i.getLocation()}/${l}`:l.startsWith("models/")&&i.isVertexAI()?`projects/${i.getProject()}/locations/${i.getLocation()}/publishers/google/${l}`:l:""}function Sm(i){return Array.isArray(i)?i.map(n=>Ba(n)):[Ba(i)]}function Ba(i){if(typeof i=="object"&&i!==null)return i;throw new Error(`Could not parse input as Blob. Unsupported blob type: ${typeof i}`)}function Tm(i){const n=Ba(i);if(n.mimeType&&n.mimeType.startsWith("image/"))return n;throw new Error(`Unsupported mime type: ${n.mimeType}`)}function Em(i){const n=Ba(i);if(n.mimeType&&n.mimeType.startsWith("audio/"))return n;throw new Error(`Unsupported mime type: ${n.mimeType}`)}function Jp(i){if(i==null)throw new Error("PartUnion is required");if(typeof i=="object")return i;if(typeof i=="string")return{text:i};throw new Error(`Unsupported part type: ${typeof i}`)}function Cm(i){if(i==null||Array.isArray(i)&&i.length===0)throw new Error("PartListUnion is required");return Array.isArray(i)?i.map(n=>Jp(n)):[Jp(i)]}function gu(i){return i!=null&&typeof i=="object"&&"parts"in i&&Array.isArray(i.parts)}function Zp(i){return i!=null&&typeof i=="object"&&"functionCall"in i}function Kp(i){return i!=null&&typeof i=="object"&&"functionResponse"in i}function It(i){if(i==null)throw new Error("ContentUnion is required");return gu(i)?i:{role:"user",parts:Cm(i)}}function bu(i,n){if(!n)return[];if(i.isVertexAI()&&Array.isArray(n))return n.flatMap(l=>{const a=It(l);return a.parts&&a.parts.length>0&&a.parts[0].text!==void 0?[a.parts[0].text]:[]});if(i.isVertexAI()){const l=It(n);return l.parts&&l.parts.length>0&&l.parts[0].text!==void 0?[l.parts[0].text]:[]}return Array.isArray(n)?n.map(l=>It(l)):[It(n)]}function ln(i){if(i==null||Array.isArray(i)&&i.length===0)throw new Error("contents are required");if(!Array.isArray(i)){if(Zp(i)||Kp(i))throw new Error("To specify functionCall or functionResponse parts, please wrap them in a Content object, specifying the role for them");return[It(i)]}const n=[],l=[],a=gu(i[0]);for(const s of i){const c=gu(s);if(c!=a)throw new Error("Mixing Content and Parts is not supported, please group the parts into a the appropriate Content objects and specify the roles for them");if(c)n.push(s);else{if(Zp(s)||Kp(s))throw new Error("To specify functionCall or functionResponse parts, please wrap them, and any other parts, in Content objects as appropriate, specifying the role for them");l.push(s)}}return a||n.push({role:"user",parts:Cm(l)}),n}function nv(i,n){i.includes("null")&&(n.nullable=!0);const l=i.filter(a=>a!=="null");if(l.length===1)n.type=Object.values(ri).includes(l[0].toUpperCase())?l[0].toUpperCase():ri.TYPE_UNSPECIFIED;else{n.anyOf=[];for(const a of l)n.anyOf.push({type:Object.values(ri).includes(a.toUpperCase())?a.toUpperCase():ri.TYPE_UNSPECIFIED})}}function go(i){const n={},l=["items"],a=["anyOf"],s=["properties"];if(i.type&&i.anyOf)throw new Error("type and anyOf cannot be both populated.");const c=i.anyOf;c!=null&&c.length==2&&(c[0].type==="null"?(n.nullable=!0,i=c[1]):c[1].type==="null"&&(n.nullable=!0,i=c[0])),i.type instanceof Array&&nv(i.type,n);for(const[d,p]of Object.entries(i))if(p!=null)if(d=="type"){if(p==="null")throw new Error("type: null can not be the only possible type for the field.");if(p instanceof Array)continue;n.type=Object.values(ri).includes(p.toUpperCase())?p.toUpperCase():ri.TYPE_UNSPECIFIED}else if(l.includes(d))n[d]=go(p);else if(a.includes(d)){const g=[];for(const m of p){if(m.type=="null"){n.nullable=!0;continue}g.push(go(m))}n[d]=g}else if(s.includes(d)){const g={};for(const[m,v]of Object.entries(p))g[m]=go(v);n[d]=g}else{if(d==="additionalProperties")continue;n[d]=p}return n}function Mu(i){return go(i)}function Nu(i){if(typeof i=="object")return i;if(typeof i=="string")return{voiceConfig:{prebuiltVoiceConfig:{voiceName:i}}};throw new Error(`Unsupported speechConfig type: ${typeof i}`)}function Iu(i){if("multiSpeakerVoiceConfig"in i)throw new Error("multiSpeakerVoiceConfig is not supported in the live API.");return i}function So(i){if(i.functionDeclarations)for(const n of i.functionDeclarations)n.parameters&&(Object.keys(n.parameters).includes("$schema")?n.parametersJsonSchema||(n.parametersJsonSchema=n.parameters,delete n.parameters):n.parameters=go(n.parameters)),n.response&&(Object.keys(n.response).includes("$schema")?n.responseJsonSchema||(n.responseJsonSchema=n.response,delete n.response):n.response=go(n.response));return i}function To(i){if(i==null)throw new Error("tools is required");if(!Array.isArray(i))throw new Error("tools is required and must be an array of Tools");const n=[];for(const l of i)n.push(l);return n}function iv(i,n,l,a=1){const s=!n.startsWith(`${l}/`)&&n.split("/").length===a;return i.isVertexAI()?n.startsWith("projects/")?n:n.startsWith("locations/")?`projects/${i.getProject()}/${n}`:n.startsWith(`${l}/`)?`projects/${i.getProject()}/locations/${i.getLocation()}/${n}`:s?`projects/${i.getProject()}/locations/${i.getLocation()}/${l}/${n}`:n:s?`${l}/${n}`:n}function Ln(i,n){if(typeof n!="string")throw new Error("name must be a string");return iv(i,n,"cachedContents")}function Am(i){switch(i){case"STATE_UNSPECIFIED":return"JOB_STATE_UNSPECIFIED";case"CREATING":return"JOB_STATE_RUNNING";case"ACTIVE":return"JOB_STATE_SUCCEEDED";case"FAILED":return"JOB_STATE_FAILED";default:return i}}function si(i){return xu(i)}function ov(i){return i!=null&&typeof i=="object"&&"name"in i}function lv(i){return i!=null&&typeof i=="object"&&"video"in i}function av(i){return i!=null&&typeof i=="object"&&"uri"in i}function xm(i){var n;let l;if(ov(i)&&(l=i.name),!(av(i)&&(l=i.uri,l===void 0))&&!(lv(i)&&(l=(n=i.video)===null||n===void 0?void 0:n.uri,l===void 0))){if(typeof i=="string"&&(l=i),l===void 0)throw new Error("Could not extract file name from the provided input.");if(l.startsWith("https://")){const s=l.split("files/")[1].match(/[a-z0-9]+/);if(s===null)throw new Error(`Could not extract file name from URI ${l}`);l=s[0]}else l.startsWith("files/")&&(l=l.split("files/")[1]);return l}}function wm(i,n){let l;return i.isVertexAI()?l=n?"publishers/google/models":"models":l=n?"models":"tunedModels",l}function Rm(i){for(const n of["models","tunedModels","publisherModels"])if(rv(i,n))return i[n];return[]}function rv(i,n){return i!==null&&typeof i=="object"&&n in i}function sv(i,n={}){const l=i,a={name:l.name,description:l.description,parametersJsonSchema:l.inputSchema};return l.outputSchema&&(a.responseJsonSchema=l.outputSchema),n.behavior&&(a.behavior=n.behavior),{functionDeclarations:[a]}}function uv(i,n={}){const l=[],a=new Set;for(const s of i){const c=s.name;if(a.has(c))throw new Error(`Duplicate function name ${c} found in MCP tools. Please ensure function names are unique.`);a.add(c);const d=sv(s,n);d.functionDeclarations&&l.push(...d.functionDeclarations)}return{functionDeclarations:l}}function bm(i,n){let l;if(typeof n=="string")if(i.isVertexAI())if(n.startsWith("gs://"))l={format:"jsonl",gcsUri:[n]};else if(n.startsWith("bq://"))l={format:"bigquery",bigqueryUri:n};else throw new Error(`Unsupported string source for Vertex AI: ${n}`);else if(n.startsWith("files/"))l={fileName:n};else throw new Error(`Unsupported string source for Gemini API: ${n}`);else if(Array.isArray(n)){if(i.isVertexAI())throw new Error("InlinedRequest[] is not supported in Vertex AI.");l={inlinedRequests:n}}else l=n;const a=[l.gcsUri,l.bigqueryUri].filter(Boolean).length,s=[l.inlinedRequests,l.fileName].filter(Boolean).length;if(i.isVertexAI()){if(s>0||a!==1)throw new Error("Exactly one of `gcsUri` or `bigqueryUri` must be set for Vertex AI.")}else if(a>0||s!==1)throw new Error("Exactly one of `inlinedRequests`, `fileName`, must be set for Gemini API.");return l}function cv(i){if(typeof i!="string")return i;const n=i;if(n.startsWith("gs://"))return{format:"jsonl",gcsUri:n};if(n.startsWith("bq://"))return{format:"bigquery",bigqueryUri:n};throw new Error(`Unsupported destination: ${n}`)}function Mm(i){if(typeof i!="object"||i===null)return{};const n=i,l=n.inlinedResponses;if(typeof l!="object"||l===null)return i;const s=l.inlinedResponses;if(!Array.isArray(s)||s.length===0)return i;let c=!1;for(const d of s){if(typeof d!="object"||d===null)continue;const g=d.response;if(typeof g!="object"||g===null)continue;if(g.embedding!==void 0){c=!0;break}}return c&&(n.inlinedEmbedContentResponses=n.inlinedResponses,delete n.inlinedResponses),i}function Eo(i,n){const l=n;if(!i.isVertexAI()){if(/batches\/[^/]+$/.test(l))return l.split("/").pop();throw new Error(`Invalid batch job name: ${l}.`)}if(/^projects\/[^/]+\/locations\/[^/]+\/batchPredictionJobs\/[^/]+$/.test(l))return l.split("/").pop();if(/^\d+$/.test(l))return l;throw new Error(`Invalid batch job name: ${l}.`)}function Nm(i){const n=i;return n==="BATCH_STATE_UNSPECIFIED"?"JOB_STATE_UNSPECIFIED":n==="BATCH_STATE_PENDING"?"JOB_STATE_PENDING":n==="BATCH_STATE_RUNNING"?"JOB_STATE_RUNNING":n==="BATCH_STATE_SUCCEEDED"?"JOB_STATE_SUCCEEDED":n==="BATCH_STATE_FAILED"?"JOB_STATE_FAILED":n==="BATCH_STATE_CANCELLED"?"JOB_STATE_CANCELLED":n==="BATCH_STATE_EXPIRED"?"JOB_STATE_EXPIRED":n}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function fv(i){const n={},l=u(i,["responsesFile"]);l!=null&&f(n,["fileName"],l);const a=u(i,["inlinedResponses","inlinedResponses"]);if(a!=null){let c=a;Array.isArray(c)&&(c=c.map(d=>Yv(d))),f(n,["inlinedResponses"],c)}const s=u(i,["inlinedEmbedContentResponses","inlinedResponses"]);if(s!=null){let c=s;Array.isArray(c)&&(c=c.map(d=>d)),f(n,["inlinedEmbedContentResponses"],c)}return n}function dv(i){const n={},l=u(i,["predictionsFormat"]);l!=null&&f(n,["format"],l);const a=u(i,["gcsDestination","outputUriPrefix"]);a!=null&&f(n,["gcsUri"],a);const s=u(i,["bigqueryDestination","outputUri"]);return s!=null&&f(n,["bigqueryUri"],s),n}function hv(i){const n={},l=u(i,["format"]);l!=null&&f(n,["predictionsFormat"],l);const a=u(i,["gcsUri"]);a!=null&&f(n,["gcsDestination","outputUriPrefix"],a);const s=u(i,["bigqueryUri"]);if(s!=null&&f(n,["bigqueryDestination","outputUri"],s),u(i,["fileName"])!==void 0)throw new Error("fileName parameter is not supported in Vertex AI.");if(u(i,["inlinedResponses"])!==void 0)throw new Error("inlinedResponses parameter is not supported in Vertex AI.");if(u(i,["inlinedEmbedContentResponses"])!==void 0)throw new Error("inlinedEmbedContentResponses parameter is not supported in Vertex AI.");return n}function ka(i){const n={},l=u(i,["name"]);l!=null&&f(n,["name"],l);const a=u(i,["metadata","displayName"]);a!=null&&f(n,["displayName"],a);const s=u(i,["metadata","state"]);s!=null&&f(n,["state"],Nm(s));const c=u(i,["metadata","createTime"]);c!=null&&f(n,["createTime"],c);const d=u(i,["metadata","endTime"]);d!=null&&f(n,["endTime"],d);const p=u(i,["metadata","updateTime"]);p!=null&&f(n,["updateTime"],p);const g=u(i,["metadata","model"]);g!=null&&f(n,["model"],g);const m=u(i,["metadata","output"]);return m!=null&&f(n,["dest"],fv(Mm(m))),n}function yu(i){const n={},l=u(i,["name"]);l!=null&&f(n,["name"],l);const a=u(i,["displayName"]);a!=null&&f(n,["displayName"],a);const s=u(i,["state"]);s!=null&&f(n,["state"],Nm(s));const c=u(i,["error"]);c!=null&&f(n,["error"],c);const d=u(i,["createTime"]);d!=null&&f(n,["createTime"],d);const p=u(i,["startTime"]);p!=null&&f(n,["startTime"],p);const g=u(i,["endTime"]);g!=null&&f(n,["endTime"],g);const m=u(i,["updateTime"]);m!=null&&f(n,["updateTime"],m);const v=u(i,["model"]);v!=null&&f(n,["model"],v);const _=u(i,["inputConfig"]);_!=null&&f(n,["src"],pv(_));const S=u(i,["outputConfig"]);S!=null&&f(n,["dest"],dv(Mm(S)));const T=u(i,["completionStats"]);return T!=null&&f(n,["completionStats"],T),n}function pv(i){const n={},l=u(i,["instancesFormat"]);l!=null&&f(n,["format"],l);const a=u(i,["gcsSource","uris"]);a!=null&&f(n,["gcsUri"],a);const s=u(i,["bigquerySource","inputUri"]);return s!=null&&f(n,["bigqueryUri"],s),n}function mv(i,n){const l={};if(u(n,["format"])!==void 0)throw new Error("format parameter is not supported in Gemini API.");if(u(n,["gcsUri"])!==void 0)throw new Error("gcsUri parameter is not supported in Gemini API.");if(u(n,["bigqueryUri"])!==void 0)throw new Error("bigqueryUri parameter is not supported in Gemini API.");const a=u(n,["fileName"]);a!=null&&f(l,["fileName"],a);const s=u(n,["inlinedRequests"]);if(s!=null){let c=s;Array.isArray(c)&&(c=c.map(d=>Ov(i,d))),f(l,["requests","requests"],c)}return l}function gv(i){const n={},l=u(i,["format"]);l!=null&&f(n,["instancesFormat"],l);const a=u(i,["gcsUri"]);a!=null&&f(n,["gcsSource","uris"],a);const s=u(i,["bigqueryUri"]);if(s!=null&&f(n,["bigquerySource","inputUri"],s),u(i,["fileName"])!==void 0)throw new Error("fileName parameter is not supported in Vertex AI.");if(u(i,["inlinedRequests"])!==void 0)throw new Error("inlinedRequests parameter is not supported in Vertex AI.");return n}function yv(i){const n={},l=u(i,["data"]);if(l!=null&&f(n,["data"],l),u(i,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const a=u(i,["mimeType"]);return a!=null&&f(n,["mimeType"],a),n}function vv(i,n){const l={},a=u(n,["name"]);return a!=null&&f(l,["_url","name"],Eo(i,a)),l}function _v(i,n){const l={},a=u(n,["name"]);return a!=null&&f(l,["_url","name"],Eo(i,a)),l}function Sv(i){const n={},l=u(i,["content"]);l!=null&&f(n,["content"],l);const a=u(i,["citationMetadata"]);a!=null&&f(n,["citationMetadata"],Tv(a));const s=u(i,["tokenCount"]);s!=null&&f(n,["tokenCount"],s);const c=u(i,["finishReason"]);c!=null&&f(n,["finishReason"],c);const d=u(i,["avgLogprobs"]);d!=null&&f(n,["avgLogprobs"],d);const p=u(i,["groundingMetadata"]);p!=null&&f(n,["groundingMetadata"],p);const g=u(i,["index"]);g!=null&&f(n,["index"],g);const m=u(i,["logprobsResult"]);m!=null&&f(n,["logprobsResult"],m);const v=u(i,["safetyRatings"]);if(v!=null){let S=v;Array.isArray(S)&&(S=S.map(T=>T)),f(n,["safetyRatings"],S)}const _=u(i,["urlContextMetadata"]);return _!=null&&f(n,["urlContextMetadata"],_),n}function Tv(i){const n={},l=u(i,["citationSources"]);if(l!=null){let a=l;Array.isArray(a)&&(a=a.map(s=>s)),f(n,["citations"],a)}return n}function Im(i){const n={},l=u(i,["parts"]);if(l!=null){let s=l;Array.isArray(s)&&(s=s.map(c=>$v(c))),f(n,["parts"],s)}const a=u(i,["role"]);return a!=null&&f(n,["role"],a),n}function Ev(i,n){const l={},a=u(i,["displayName"]);if(n!==void 0&&a!=null&&f(n,["batch","displayName"],a),u(i,["dest"])!==void 0)throw new Error("dest parameter is not supported in Gemini API.");return l}function Cv(i,n){const l={},a=u(i,["displayName"]);n!==void 0&&a!=null&&f(n,["displayName"],a);const s=u(i,["dest"]);return n!==void 0&&s!=null&&f(n,["outputConfig"],hv(cv(s))),l}function Xp(i,n){const l={},a=u(n,["model"]);a!=null&&f(l,["_url","model"],Qe(i,a));const s=u(n,["src"]);s!=null&&f(l,["batch","inputConfig"],mv(i,bm(i,s)));const c=u(n,["config"]);return c!=null&&Ev(c,l),l}function Av(i,n){const l={},a=u(n,["model"]);a!=null&&f(l,["model"],Qe(i,a));const s=u(n,["src"]);s!=null&&f(l,["inputConfig"],gv(bm(i,s)));const c=u(n,["config"]);return c!=null&&Cv(c,l),l}function xv(i,n){const l={},a=u(i,["displayName"]);return n!==void 0&&a!=null&&f(n,["batch","displayName"],a),l}function wv(i,n){const l={},a=u(n,["model"]);a!=null&&f(l,["_url","model"],Qe(i,a));const s=u(n,["src"]);s!=null&&f(l,["batch","inputConfig"],Uv(i,s));const c=u(n,["config"]);return c!=null&&xv(c,l),l}function Rv(i,n){const l={},a=u(n,["name"]);return a!=null&&f(l,["_url","name"],Eo(i,a)),l}function bv(i,n){const l={},a=u(n,["name"]);return a!=null&&f(l,["_url","name"],Eo(i,a)),l}function Mv(i){const n={},l=u(i,["sdkHttpResponse"]);l!=null&&f(n,["sdkHttpResponse"],l);const a=u(i,["name"]);a!=null&&f(n,["name"],a);const s=u(i,["done"]);s!=null&&f(n,["done"],s);const c=u(i,["error"]);return c!=null&&f(n,["error"],c),n}function Nv(i){const n={},l=u(i,["sdkHttpResponse"]);l!=null&&f(n,["sdkHttpResponse"],l);const a=u(i,["name"]);a!=null&&f(n,["name"],a);const s=u(i,["done"]);s!=null&&f(n,["done"],s);const c=u(i,["error"]);return c!=null&&f(n,["error"],c),n}function Iv(i,n){const l={},a=u(n,["contents"]);if(a!=null){let c=bu(i,a);Array.isArray(c)&&(c=c.map(d=>d)),f(l,["requests[]","request","content"],c)}const s=u(n,["config"]);return s!=null&&(f(l,["_self"],Dv(s,l)),b0(l,{"requests[].*":"requests[].request.*"})),l}function Dv(i,n){const l={},a=u(i,["taskType"]);n!==void 0&&a!=null&&f(n,["requests[]","taskType"],a);const s=u(i,["title"]);n!==void 0&&s!=null&&f(n,["requests[]","title"],s);const c=u(i,["outputDimensionality"]);if(n!==void 0&&c!=null&&f(n,["requests[]","outputDimensionality"],c),u(i,["mimeType"])!==void 0)throw new Error("mimeType parameter is not supported in Gemini API.");if(u(i,["autoTruncate"])!==void 0)throw new Error("autoTruncate parameter is not supported in Gemini API.");return l}function Uv(i,n){const l={},a=u(n,["fileName"]);a!=null&&f(l,["file_name"],a);const s=u(n,["inlinedRequests"]);return s!=null&&f(l,["requests"],Iv(i,s)),l}function kv(i){const n={};if(u(i,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const l=u(i,["fileUri"]);l!=null&&f(n,["fileUri"],l);const a=u(i,["mimeType"]);return a!=null&&f(n,["mimeType"],a),n}function zv(i){const n={},l=u(i,["id"]);l!=null&&f(n,["id"],l);const a=u(i,["args"]);a!=null&&f(n,["args"],a);const s=u(i,["name"]);if(s!=null&&f(n,["name"],s),u(i,["partialArgs"])!==void 0)throw new Error("partialArgs parameter is not supported in Gemini API.");if(u(i,["willContinue"])!==void 0)throw new Error("willContinue parameter is not supported in Gemini API.");return n}function Lv(i){const n={},l=u(i,["mode"]);l!=null&&f(n,["mode"],l);const a=u(i,["allowedFunctionNames"]);if(a!=null&&f(n,["allowedFunctionNames"],a),u(i,["streamFunctionCallArguments"])!==void 0)throw new Error("streamFunctionCallArguments parameter is not supported in Gemini API.");return n}function Bv(i,n,l){const a={},s=u(n,["systemInstruction"]);l!==void 0&&s!=null&&f(l,["systemInstruction"],Im(It(s)));const c=u(n,["temperature"]);c!=null&&f(a,["temperature"],c);const d=u(n,["topP"]);d!=null&&f(a,["topP"],d);const p=u(n,["topK"]);p!=null&&f(a,["topK"],p);const g=u(n,["candidateCount"]);g!=null&&f(a,["candidateCount"],g);const m=u(n,["maxOutputTokens"]);m!=null&&f(a,["maxOutputTokens"],m);const v=u(n,["stopSequences"]);v!=null&&f(a,["stopSequences"],v);const _=u(n,["responseLogprobs"]);_!=null&&f(a,["responseLogprobs"],_);const S=u(n,["logprobs"]);S!=null&&f(a,["logprobs"],S);const T=u(n,["presencePenalty"]);T!=null&&f(a,["presencePenalty"],T);const R=u(n,["frequencyPenalty"]);R!=null&&f(a,["frequencyPenalty"],R);const A=u(n,["seed"]);A!=null&&f(a,["seed"],A);const M=u(n,["responseMimeType"]);M!=null&&f(a,["responseMimeType"],M);const w=u(n,["responseSchema"]);w!=null&&f(a,["responseSchema"],Mu(w));const I=u(n,["responseJsonSchema"]);if(I!=null&&f(a,["responseJsonSchema"],I),u(n,["routingConfig"])!==void 0)throw new Error("routingConfig parameter is not supported in Gemini API.");if(u(n,["modelSelectionConfig"])!==void 0)throw new Error("modelSelectionConfig parameter is not supported in Gemini API.");const U=u(n,["safetySettings"]);if(l!==void 0&&U!=null){let L=U;Array.isArray(L)&&(L=L.map(le=>jv(le))),f(l,["safetySettings"],L)}const G=u(n,["tools"]);if(l!==void 0&&G!=null){let L=To(G);Array.isArray(L)&&(L=L.map(le=>t_(So(le)))),f(l,["tools"],L)}const B=u(n,["toolConfig"]);if(l!==void 0&&B!=null&&f(l,["toolConfig"],e_(B)),u(n,["labels"])!==void 0)throw new Error("labels parameter is not supported in Gemini API.");const K=u(n,["cachedContent"]);l!==void 0&&K!=null&&f(l,["cachedContent"],Ln(i,K));const H=u(n,["responseModalities"]);H!=null&&f(a,["responseModalities"],H);const j=u(n,["mediaResolution"]);j!=null&&f(a,["mediaResolution"],j);const Y=u(n,["speechConfig"]);if(Y!=null&&f(a,["speechConfig"],Nu(Y)),u(n,["audioTimestamp"])!==void 0)throw new Error("audioTimestamp parameter is not supported in Gemini API.");const oe=u(n,["thinkingConfig"]);oe!=null&&f(a,["thinkingConfig"],oe);const ye=u(n,["imageConfig"]);return ye!=null&&f(a,["imageConfig"],Fv(ye)),a}function Gv(i){const n={},l=u(i,["sdkHttpResponse"]);l!=null&&f(n,["sdkHttpResponse"],l);const a=u(i,["candidates"]);if(a!=null){let g=a;Array.isArray(g)&&(g=g.map(m=>Sv(m))),f(n,["candidates"],g)}const s=u(i,["modelVersion"]);s!=null&&f(n,["modelVersion"],s);const c=u(i,["promptFeedback"]);c!=null&&f(n,["promptFeedback"],c);const d=u(i,["responseId"]);d!=null&&f(n,["responseId"],d);const p=u(i,["usageMetadata"]);return p!=null&&f(n,["usageMetadata"],p),n}function qv(i,n){const l={},a=u(n,["name"]);return a!=null&&f(l,["_url","name"],Eo(i,a)),l}function Hv(i,n){const l={},a=u(n,["name"]);return a!=null&&f(l,["_url","name"],Eo(i,a)),l}function Pv(i){const n={};if(u(i,["authConfig"])!==void 0)throw new Error("authConfig parameter is not supported in Gemini API.");const l=u(i,["enableWidget"]);return l!=null&&f(n,["enableWidget"],l),n}function Vv(i){const n={};if(u(i,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");if(u(i,["blockingConfidence"])!==void 0)throw new Error("blockingConfidence parameter is not supported in Gemini API.");const l=u(i,["timeRangeFilter"]);return l!=null&&f(n,["timeRangeFilter"],l),n}function Fv(i){const n={},l=u(i,["aspectRatio"]);l!=null&&f(n,["aspectRatio"],l);const a=u(i,["imageSize"]);if(a!=null&&f(n,["imageSize"],a),u(i,["outputMimeType"])!==void 0)throw new Error("outputMimeType parameter is not supported in Gemini API.");if(u(i,["outputCompressionQuality"])!==void 0)throw new Error("outputCompressionQuality parameter is not supported in Gemini API.");return n}function Ov(i,n){const l={},a=u(n,["model"]);a!=null&&f(l,["request","model"],Qe(i,a));const s=u(n,["contents"]);if(s!=null){let p=ln(s);Array.isArray(p)&&(p=p.map(g=>Im(g))),f(l,["request","contents"],p)}const c=u(n,["metadata"]);c!=null&&f(l,["metadata"],c);const d=u(n,["config"]);return d!=null&&f(l,["request","generationConfig"],Bv(i,d,u(l,["request"],{}))),l}function Yv(i){const n={},l=u(i,["response"]);l!=null&&f(n,["response"],Gv(l));const a=u(i,["error"]);return a!=null&&f(n,["error"],a),n}function Jv(i,n){const l={},a=u(i,["pageSize"]);n!==void 0&&a!=null&&f(n,["_query","pageSize"],a);const s=u(i,["pageToken"]);if(n!==void 0&&s!=null&&f(n,["_query","pageToken"],s),u(i,["filter"])!==void 0)throw new Error("filter parameter is not supported in Gemini API.");return l}function Zv(i,n){const l={},a=u(i,["pageSize"]);n!==void 0&&a!=null&&f(n,["_query","pageSize"],a);const s=u(i,["pageToken"]);n!==void 0&&s!=null&&f(n,["_query","pageToken"],s);const c=u(i,["filter"]);return n!==void 0&&c!=null&&f(n,["_query","filter"],c),l}function Kv(i){const n={},l=u(i,["config"]);return l!=null&&Jv(l,n),n}function Xv(i){const n={},l=u(i,["config"]);return l!=null&&Zv(l,n),n}function Qv(i){const n={},l=u(i,["sdkHttpResponse"]);l!=null&&f(n,["sdkHttpResponse"],l);const a=u(i,["nextPageToken"]);a!=null&&f(n,["nextPageToken"],a);const s=u(i,["operations"]);if(s!=null){let c=s;Array.isArray(c)&&(c=c.map(d=>ka(d))),f(n,["batchJobs"],c)}return n}function Wv(i){const n={},l=u(i,["sdkHttpResponse"]);l!=null&&f(n,["sdkHttpResponse"],l);const a=u(i,["nextPageToken"]);a!=null&&f(n,["nextPageToken"],a);const s=u(i,["batchPredictionJobs"]);if(s!=null){let c=s;Array.isArray(c)&&(c=c.map(d=>yu(d))),f(n,["batchJobs"],c)}return n}function $v(i){const n={},l=u(i,["mediaResolution"]);l!=null&&f(n,["mediaResolution"],l);const a=u(i,["codeExecutionResult"]);a!=null&&f(n,["codeExecutionResult"],a);const s=u(i,["executableCode"]);s!=null&&f(n,["executableCode"],s);const c=u(i,["fileData"]);c!=null&&f(n,["fileData"],kv(c));const d=u(i,["functionCall"]);d!=null&&f(n,["functionCall"],zv(d));const p=u(i,["functionResponse"]);p!=null&&f(n,["functionResponse"],p);const g=u(i,["inlineData"]);g!=null&&f(n,["inlineData"],yv(g));const m=u(i,["text"]);m!=null&&f(n,["text"],m);const v=u(i,["thought"]);v!=null&&f(n,["thought"],v);const _=u(i,["thoughtSignature"]);_!=null&&f(n,["thoughtSignature"],_);const S=u(i,["videoMetadata"]);return S!=null&&f(n,["videoMetadata"],S),n}function jv(i){const n={},l=u(i,["category"]);if(l!=null&&f(n,["category"],l),u(i,["method"])!==void 0)throw new Error("method parameter is not supported in Gemini API.");const a=u(i,["threshold"]);return a!=null&&f(n,["threshold"],a),n}function e_(i){const n={},l=u(i,["functionCallingConfig"]);l!=null&&f(n,["functionCallingConfig"],Lv(l));const a=u(i,["retrievalConfig"]);return a!=null&&f(n,["retrievalConfig"],a),n}function t_(i){const n={},l=u(i,["functionDeclarations"]);if(l!=null){let v=l;Array.isArray(v)&&(v=v.map(_=>_)),f(n,["functionDeclarations"],v)}if(u(i,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const a=u(i,["googleSearchRetrieval"]);a!=null&&f(n,["googleSearchRetrieval"],a);const s=u(i,["computerUse"]);s!=null&&f(n,["computerUse"],s);const c=u(i,["fileSearch"]);c!=null&&f(n,["fileSearch"],c);const d=u(i,["codeExecution"]);if(d!=null&&f(n,["codeExecution"],d),u(i,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");const p=u(i,["googleMaps"]);p!=null&&f(n,["googleMaps"],Pv(p));const g=u(i,["googleSearch"]);g!=null&&f(n,["googleSearch"],Vv(g));const m=u(i,["urlContext"]);return m!=null&&f(n,["urlContext"],m),n}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */var kn;(function(i){i.PAGED_ITEM_BATCH_JOBS="batchJobs",i.PAGED_ITEM_MODELS="models",i.PAGED_ITEM_TUNING_JOBS="tuningJobs",i.PAGED_ITEM_FILES="files",i.PAGED_ITEM_CACHED_CONTENTS="cachedContents",i.PAGED_ITEM_FILE_SEARCH_STORES="fileSearchStores",i.PAGED_ITEM_DOCUMENTS="documents"})(kn||(kn={}));class bi{constructor(n,l,a,s){this.pageInternal=[],this.paramsInternal={},this.requestInternal=l,this.init(n,a,s)}init(n,l,a){var s,c;this.nameInternal=n,this.pageInternal=l[this.nameInternal]||[],this.sdkHttpResponseInternal=l==null?void 0:l.sdkHttpResponse,this.idxInternal=0;let d={config:{}};!a||Object.keys(a).length===0?d={config:{}}:typeof a=="object"?d=Object.assign({},a):d=a,d.config&&(d.config.pageToken=l.nextPageToken),this.paramsInternal=d,this.pageInternalSize=(c=(s=d.config)===null||s===void 0?void 0:s.pageSize)!==null&&c!==void 0?c:this.pageInternal.length}initNextPage(n){this.init(this.nameInternal,n,this.paramsInternal)}get page(){return this.pageInternal}get name(){return this.nameInternal}get pageSize(){return this.pageInternalSize}get sdkHttpResponse(){return this.sdkHttpResponseInternal}get params(){return this.paramsInternal}get pageLength(){return this.pageInternal.length}getItem(n){return this.pageInternal[n]}[Symbol.asyncIterator](){return{next:async()=>{if(this.idxInternal>=this.pageLength)if(this.hasNextPage())await this.nextPage();else return{value:void 0,done:!0};const n=this.getItem(this.idxInternal);return this.idxInternal+=1,{value:n,done:!1}},return:async()=>({value:void 0,done:!0})}}async nextPage(){if(!this.hasNextPage())throw new Error("No more pages to fetch.");const n=await this.requestInternal(this.params);return this.initNextPage(n),this.page}hasNextPage(){var n;return((n=this.params.config)===null||n===void 0?void 0:n.pageToken)!==void 0}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class n_ extends zn{constructor(n){super(),this.apiClient=n,this.create=async l=>(this.apiClient.isVertexAI()&&(l.config=this.formatDestination(l.src,l.config)),this.createInternal(l)),this.createEmbeddings=async l=>{if(console.warn("batches.createEmbeddings() is experimental and may change without notice."),this.apiClient.isVertexAI())throw new Error("Vertex AI does not support batches.createEmbeddings.");return this.createEmbeddingsInternal(l)},this.list=async(l={})=>new bi(kn.PAGED_ITEM_BATCH_JOBS,a=>this.listInternal(a),await this.listInternal(l),l)}createInlinedGenerateContentRequest(n){const l=Xp(this.apiClient,n),a=l._url,s=Ee("{model}:batchGenerateContent",a),p=l.batch.inputConfig.requests,g=p.requests,m=[];for(const v of g){const _=Object.assign({},v);if(_.systemInstruction){const S=_.systemInstruction;delete _.systemInstruction;const T=_.request;T.systemInstruction=S,_.request=T}m.push(_)}return p.requests=m,delete l.config,delete l._url,delete l._query,{path:s,body:l}}getGcsUri(n){if(typeof n=="string")return n.startsWith("gs://")?n:void 0;if(!Array.isArray(n)&&n.gcsUri&&n.gcsUri.length>0)return n.gcsUri[0]}getBigqueryUri(n){if(typeof n=="string")return n.startsWith("bq://")?n:void 0;if(!Array.isArray(n))return n.bigqueryUri}formatDestination(n,l){const a=l?Object.assign({},l):{},s=Date.now().toString();if(a.displayName||(a.displayName=`genaiBatchJob_${s}`),a.dest===void 0){const c=this.getGcsUri(n),d=this.getBigqueryUri(n);if(c)c.endsWith(".jsonl")?a.dest=`${c.slice(0,-6)}/dest`:a.dest=`${c}_dest_${s}`;else if(d)a.dest=`${d}_dest_${s}`;else throw new Error("Unsupported source for Vertex AI: No GCS or BigQuery URI found.")}return a}async createInternal(n){var l,a,s,c;let d,p="",g={};if(this.apiClient.isVertexAI()){const m=Av(this.apiClient,n);return p=Ee("batchPredictionJobs",m._url),g=m._query,delete m._url,delete m._query,d=this.apiClient.request({path:p,queryParams:g,body:JSON.stringify(m),httpMethod:"POST",httpOptions:(l=n.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(a=n.config)===null||a===void 0?void 0:a.abortSignal}).then(v=>v.json()),d.then(v=>yu(v))}else{const m=Xp(this.apiClient,n);return p=Ee("{model}:batchGenerateContent",m._url),g=m._query,delete m._url,delete m._query,d=this.apiClient.request({path:p,queryParams:g,body:JSON.stringify(m),httpMethod:"POST",httpOptions:(s=n.config)===null||s===void 0?void 0:s.httpOptions,abortSignal:(c=n.config)===null||c===void 0?void 0:c.abortSignal}).then(v=>v.json()),d.then(v=>ka(v))}}async createEmbeddingsInternal(n){var l,a;let s,c="",d={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const p=wv(this.apiClient,n);return c=Ee("{model}:asyncBatchEmbedContent",p._url),d=p._query,delete p._url,delete p._query,s=this.apiClient.request({path:c,queryParams:d,body:JSON.stringify(p),httpMethod:"POST",httpOptions:(l=n.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(a=n.config)===null||a===void 0?void 0:a.abortSignal}).then(g=>g.json()),s.then(g=>ka(g))}}async get(n){var l,a,s,c;let d,p="",g={};if(this.apiClient.isVertexAI()){const m=Hv(this.apiClient,n);return p=Ee("batchPredictionJobs/{name}",m._url),g=m._query,delete m._url,delete m._query,d=this.apiClient.request({path:p,queryParams:g,body:JSON.stringify(m),httpMethod:"GET",httpOptions:(l=n.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(a=n.config)===null||a===void 0?void 0:a.abortSignal}).then(v=>v.json()),d.then(v=>yu(v))}else{const m=qv(this.apiClient,n);return p=Ee("batches/{name}",m._url),g=m._query,delete m._url,delete m._query,d=this.apiClient.request({path:p,queryParams:g,body:JSON.stringify(m),httpMethod:"GET",httpOptions:(s=n.config)===null||s===void 0?void 0:s.httpOptions,abortSignal:(c=n.config)===null||c===void 0?void 0:c.abortSignal}).then(v=>v.json()),d.then(v=>ka(v))}}async cancel(n){var l,a,s,c;let d="",p={};if(this.apiClient.isVertexAI()){const g=_v(this.apiClient,n);d=Ee("batchPredictionJobs/{name}:cancel",g._url),p=g._query,delete g._url,delete g._query,await this.apiClient.request({path:d,queryParams:p,body:JSON.stringify(g),httpMethod:"POST",httpOptions:(l=n.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(a=n.config)===null||a===void 0?void 0:a.abortSignal})}else{const g=vv(this.apiClient,n);d=Ee("batches/{name}:cancel",g._url),p=g._query,delete g._url,delete g._query,await this.apiClient.request({path:d,queryParams:p,body:JSON.stringify(g),httpMethod:"POST",httpOptions:(s=n.config)===null||s===void 0?void 0:s.httpOptions,abortSignal:(c=n.config)===null||c===void 0?void 0:c.abortSignal})}}async listInternal(n){var l,a,s,c;let d,p="",g={};if(this.apiClient.isVertexAI()){const m=Xv(n);return p=Ee("batchPredictionJobs",m._url),g=m._query,delete m._url,delete m._query,d=this.apiClient.request({path:p,queryParams:g,body:JSON.stringify(m),httpMethod:"GET",httpOptions:(l=n.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(a=n.config)===null||a===void 0?void 0:a.abortSignal}).then(v=>v.json().then(_=>{const S=_;return S.sdkHttpResponse={headers:v.headers},S})),d.then(v=>{const _=Wv(v),S=new Yp;return Object.assign(S,_),S})}else{const m=Kv(n);return p=Ee("batches",m._url),g=m._query,delete m._url,delete m._query,d=this.apiClient.request({path:p,queryParams:g,body:JSON.stringify(m),httpMethod:"GET",httpOptions:(s=n.config)===null||s===void 0?void 0:s.httpOptions,abortSignal:(c=n.config)===null||c===void 0?void 0:c.abortSignal}).then(v=>v.json().then(_=>{const S=_;return S.sdkHttpResponse={headers:v.headers},S})),d.then(v=>{const _=Qv(v),S=new Yp;return Object.assign(S,_),S})}}async delete(n){var l,a,s,c;let d,p="",g={};if(this.apiClient.isVertexAI()){const m=bv(this.apiClient,n);return p=Ee("batchPredictionJobs/{name}",m._url),g=m._query,delete m._url,delete m._query,d=this.apiClient.request({path:p,queryParams:g,body:JSON.stringify(m),httpMethod:"DELETE",httpOptions:(l=n.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(a=n.config)===null||a===void 0?void 0:a.abortSignal}).then(v=>v.json().then(_=>{const S=_;return S.sdkHttpResponse={headers:v.headers},S})),d.then(v=>Nv(v))}else{const m=Rv(this.apiClient,n);return p=Ee("batches/{name}",m._url),g=m._query,delete m._url,delete m._query,d=this.apiClient.request({path:p,queryParams:g,body:JSON.stringify(m),httpMethod:"DELETE",httpOptions:(s=n.config)===null||s===void 0?void 0:s.httpOptions,abortSignal:(c=n.config)===null||c===void 0?void 0:c.abortSignal}).then(v=>v.json().then(_=>{const S=_;return S.sdkHttpResponse={headers:v.headers},S})),d.then(v=>Mv(v))}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function i_(i){const n={},l=u(i,["data"]);if(l!=null&&f(n,["data"],l),u(i,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const a=u(i,["mimeType"]);return a!=null&&f(n,["mimeType"],a),n}function Qp(i){const n={},l=u(i,["parts"]);if(l!=null){let s=l;Array.isArray(s)&&(s=s.map(c=>w_(c))),f(n,["parts"],s)}const a=u(i,["role"]);return a!=null&&f(n,["role"],a),n}function o_(i,n){const l={},a=u(i,["ttl"]);n!==void 0&&a!=null&&f(n,["ttl"],a);const s=u(i,["expireTime"]);n!==void 0&&s!=null&&f(n,["expireTime"],s);const c=u(i,["displayName"]);n!==void 0&&c!=null&&f(n,["displayName"],c);const d=u(i,["contents"]);if(n!==void 0&&d!=null){let v=ln(d);Array.isArray(v)&&(v=v.map(_=>Qp(_))),f(n,["contents"],v)}const p=u(i,["systemInstruction"]);n!==void 0&&p!=null&&f(n,["systemInstruction"],Qp(It(p)));const g=u(i,["tools"]);if(n!==void 0&&g!=null){let v=g;Array.isArray(v)&&(v=v.map(_=>b_(_))),f(n,["tools"],v)}const m=u(i,["toolConfig"]);if(n!==void 0&&m!=null&&f(n,["toolConfig"],R_(m)),u(i,["kmsKeyName"])!==void 0)throw new Error("kmsKeyName parameter is not supported in Gemini API.");return l}function l_(i,n){const l={},a=u(i,["ttl"]);n!==void 0&&a!=null&&f(n,["ttl"],a);const s=u(i,["expireTime"]);n!==void 0&&s!=null&&f(n,["expireTime"],s);const c=u(i,["displayName"]);n!==void 0&&c!=null&&f(n,["displayName"],c);const d=u(i,["contents"]);if(n!==void 0&&d!=null){let _=ln(d);Array.isArray(_)&&(_=_.map(S=>S)),f(n,["contents"],_)}const p=u(i,["systemInstruction"]);n!==void 0&&p!=null&&f(n,["systemInstruction"],It(p));const g=u(i,["tools"]);if(n!==void 0&&g!=null){let _=g;Array.isArray(_)&&(_=_.map(S=>M_(S))),f(n,["tools"],_)}const m=u(i,["toolConfig"]);n!==void 0&&m!=null&&f(n,["toolConfig"],m);const v=u(i,["kmsKeyName"]);return n!==void 0&&v!=null&&f(n,["encryption_spec","kmsKeyName"],v),l}function a_(i,n){const l={},a=u(n,["model"]);a!=null&&f(l,["model"],_m(i,a));const s=u(n,["config"]);return s!=null&&o_(s,l),l}function r_(i,n){const l={},a=u(n,["model"]);a!=null&&f(l,["model"],_m(i,a));const s=u(n,["config"]);return s!=null&&l_(s,l),l}function s_(i,n){const l={},a=u(n,["name"]);return a!=null&&f(l,["_url","name"],Ln(i,a)),l}function u_(i,n){const l={},a=u(n,["name"]);return a!=null&&f(l,["_url","name"],Ln(i,a)),l}function c_(i){const n={},l=u(i,["sdkHttpResponse"]);return l!=null&&f(n,["sdkHttpResponse"],l),n}function f_(i){const n={},l=u(i,["sdkHttpResponse"]);return l!=null&&f(n,["sdkHttpResponse"],l),n}function d_(i){const n={};if(u(i,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const l=u(i,["fileUri"]);l!=null&&f(n,["fileUri"],l);const a=u(i,["mimeType"]);return a!=null&&f(n,["mimeType"],a),n}function h_(i){const n={},l=u(i,["id"]);l!=null&&f(n,["id"],l);const a=u(i,["args"]);a!=null&&f(n,["args"],a);const s=u(i,["name"]);if(s!=null&&f(n,["name"],s),u(i,["partialArgs"])!==void 0)throw new Error("partialArgs parameter is not supported in Gemini API.");if(u(i,["willContinue"])!==void 0)throw new Error("willContinue parameter is not supported in Gemini API.");return n}function p_(i){const n={},l=u(i,["mode"]);l!=null&&f(n,["mode"],l);const a=u(i,["allowedFunctionNames"]);if(a!=null&&f(n,["allowedFunctionNames"],a),u(i,["streamFunctionCallArguments"])!==void 0)throw new Error("streamFunctionCallArguments parameter is not supported in Gemini API.");return n}function m_(i){const n={};if(u(i,["behavior"])!==void 0)throw new Error("behavior parameter is not supported in Vertex AI.");const l=u(i,["description"]);l!=null&&f(n,["description"],l);const a=u(i,["name"]);a!=null&&f(n,["name"],a);const s=u(i,["parameters"]);s!=null&&f(n,["parameters"],s);const c=u(i,["parametersJsonSchema"]);c!=null&&f(n,["parametersJsonSchema"],c);const d=u(i,["response"]);d!=null&&f(n,["response"],d);const p=u(i,["responseJsonSchema"]);return p!=null&&f(n,["responseJsonSchema"],p),n}function g_(i,n){const l={},a=u(n,["name"]);return a!=null&&f(l,["_url","name"],Ln(i,a)),l}function y_(i,n){const l={},a=u(n,["name"]);return a!=null&&f(l,["_url","name"],Ln(i,a)),l}function v_(i){const n={};if(u(i,["authConfig"])!==void 0)throw new Error("authConfig parameter is not supported in Gemini API.");const l=u(i,["enableWidget"]);return l!=null&&f(n,["enableWidget"],l),n}function __(i){const n={};if(u(i,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");if(u(i,["blockingConfidence"])!==void 0)throw new Error("blockingConfidence parameter is not supported in Gemini API.");const l=u(i,["timeRangeFilter"]);return l!=null&&f(n,["timeRangeFilter"],l),n}function S_(i,n){const l={},a=u(i,["pageSize"]);n!==void 0&&a!=null&&f(n,["_query","pageSize"],a);const s=u(i,["pageToken"]);return n!==void 0&&s!=null&&f(n,["_query","pageToken"],s),l}function T_(i,n){const l={},a=u(i,["pageSize"]);n!==void 0&&a!=null&&f(n,["_query","pageSize"],a);const s=u(i,["pageToken"]);return n!==void 0&&s!=null&&f(n,["_query","pageToken"],s),l}function E_(i){const n={},l=u(i,["config"]);return l!=null&&S_(l,n),n}function C_(i){const n={},l=u(i,["config"]);return l!=null&&T_(l,n),n}function A_(i){const n={},l=u(i,["sdkHttpResponse"]);l!=null&&f(n,["sdkHttpResponse"],l);const a=u(i,["nextPageToken"]);a!=null&&f(n,["nextPageToken"],a);const s=u(i,["cachedContents"]);if(s!=null){let c=s;Array.isArray(c)&&(c=c.map(d=>d)),f(n,["cachedContents"],c)}return n}function x_(i){const n={},l=u(i,["sdkHttpResponse"]);l!=null&&f(n,["sdkHttpResponse"],l);const a=u(i,["nextPageToken"]);a!=null&&f(n,["nextPageToken"],a);const s=u(i,["cachedContents"]);if(s!=null){let c=s;Array.isArray(c)&&(c=c.map(d=>d)),f(n,["cachedContents"],c)}return n}function w_(i){const n={},l=u(i,["mediaResolution"]);l!=null&&f(n,["mediaResolution"],l);const a=u(i,["codeExecutionResult"]);a!=null&&f(n,["codeExecutionResult"],a);const s=u(i,["executableCode"]);s!=null&&f(n,["executableCode"],s);const c=u(i,["fileData"]);c!=null&&f(n,["fileData"],d_(c));const d=u(i,["functionCall"]);d!=null&&f(n,["functionCall"],h_(d));const p=u(i,["functionResponse"]);p!=null&&f(n,["functionResponse"],p);const g=u(i,["inlineData"]);g!=null&&f(n,["inlineData"],i_(g));const m=u(i,["text"]);m!=null&&f(n,["text"],m);const v=u(i,["thought"]);v!=null&&f(n,["thought"],v);const _=u(i,["thoughtSignature"]);_!=null&&f(n,["thoughtSignature"],_);const S=u(i,["videoMetadata"]);return S!=null&&f(n,["videoMetadata"],S),n}function R_(i){const n={},l=u(i,["functionCallingConfig"]);l!=null&&f(n,["functionCallingConfig"],p_(l));const a=u(i,["retrievalConfig"]);return a!=null&&f(n,["retrievalConfig"],a),n}function b_(i){const n={},l=u(i,["functionDeclarations"]);if(l!=null){let v=l;Array.isArray(v)&&(v=v.map(_=>_)),f(n,["functionDeclarations"],v)}if(u(i,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const a=u(i,["googleSearchRetrieval"]);a!=null&&f(n,["googleSearchRetrieval"],a);const s=u(i,["computerUse"]);s!=null&&f(n,["computerUse"],s);const c=u(i,["fileSearch"]);c!=null&&f(n,["fileSearch"],c);const d=u(i,["codeExecution"]);if(d!=null&&f(n,["codeExecution"],d),u(i,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");const p=u(i,["googleMaps"]);p!=null&&f(n,["googleMaps"],v_(p));const g=u(i,["googleSearch"]);g!=null&&f(n,["googleSearch"],__(g));const m=u(i,["urlContext"]);return m!=null&&f(n,["urlContext"],m),n}function M_(i){const n={},l=u(i,["functionDeclarations"]);if(l!=null){let _=l;Array.isArray(_)&&(_=_.map(S=>m_(S))),f(n,["functionDeclarations"],_)}const a=u(i,["retrieval"]);a!=null&&f(n,["retrieval"],a);const s=u(i,["googleSearchRetrieval"]);s!=null&&f(n,["googleSearchRetrieval"],s);const c=u(i,["computerUse"]);if(c!=null&&f(n,["computerUse"],c),u(i,["fileSearch"])!==void 0)throw new Error("fileSearch parameter is not supported in Vertex AI.");const d=u(i,["codeExecution"]);d!=null&&f(n,["codeExecution"],d);const p=u(i,["enterpriseWebSearch"]);p!=null&&f(n,["enterpriseWebSearch"],p);const g=u(i,["googleMaps"]);g!=null&&f(n,["googleMaps"],g);const m=u(i,["googleSearch"]);m!=null&&f(n,["googleSearch"],m);const v=u(i,["urlContext"]);return v!=null&&f(n,["urlContext"],v),n}function N_(i,n){const l={},a=u(i,["ttl"]);n!==void 0&&a!=null&&f(n,["ttl"],a);const s=u(i,["expireTime"]);return n!==void 0&&s!=null&&f(n,["expireTime"],s),l}function I_(i,n){const l={},a=u(i,["ttl"]);n!==void 0&&a!=null&&f(n,["ttl"],a);const s=u(i,["expireTime"]);return n!==void 0&&s!=null&&f(n,["expireTime"],s),l}function D_(i,n){const l={},a=u(n,["name"]);a!=null&&f(l,["_url","name"],Ln(i,a));const s=u(n,["config"]);return s!=null&&N_(s,l),l}function U_(i,n){const l={},a=u(n,["name"]);a!=null&&f(l,["_url","name"],Ln(i,a));const s=u(n,["config"]);return s!=null&&I_(s,l),l}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class k_ extends zn{constructor(n){super(),this.apiClient=n,this.list=async(l={})=>new bi(kn.PAGED_ITEM_CACHED_CONTENTS,a=>this.listInternal(a),await this.listInternal(l),l)}async create(n){var l,a,s,c;let d,p="",g={};if(this.apiClient.isVertexAI()){const m=r_(this.apiClient,n);return p=Ee("cachedContents",m._url),g=m._query,delete m._url,delete m._query,d=this.apiClient.request({path:p,queryParams:g,body:JSON.stringify(m),httpMethod:"POST",httpOptions:(l=n.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(a=n.config)===null||a===void 0?void 0:a.abortSignal}).then(v=>v.json()),d.then(v=>v)}else{const m=a_(this.apiClient,n);return p=Ee("cachedContents",m._url),g=m._query,delete m._url,delete m._query,d=this.apiClient.request({path:p,queryParams:g,body:JSON.stringify(m),httpMethod:"POST",httpOptions:(s=n.config)===null||s===void 0?void 0:s.httpOptions,abortSignal:(c=n.config)===null||c===void 0?void 0:c.abortSignal}).then(v=>v.json()),d.then(v=>v)}}async get(n){var l,a,s,c;let d,p="",g={};if(this.apiClient.isVertexAI()){const m=y_(this.apiClient,n);return p=Ee("{name}",m._url),g=m._query,delete m._url,delete m._query,d=this.apiClient.request({path:p,queryParams:g,body:JSON.stringify(m),httpMethod:"GET",httpOptions:(l=n.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(a=n.config)===null||a===void 0?void 0:a.abortSignal}).then(v=>v.json()),d.then(v=>v)}else{const m=g_(this.apiClient,n);return p=Ee("{name}",m._url),g=m._query,delete m._url,delete m._query,d=this.apiClient.request({path:p,queryParams:g,body:JSON.stringify(m),httpMethod:"GET",httpOptions:(s=n.config)===null||s===void 0?void 0:s.httpOptions,abortSignal:(c=n.config)===null||c===void 0?void 0:c.abortSignal}).then(v=>v.json()),d.then(v=>v)}}async delete(n){var l,a,s,c;let d,p="",g={};if(this.apiClient.isVertexAI()){const m=u_(this.apiClient,n);return p=Ee("{name}",m._url),g=m._query,delete m._url,delete m._query,d=this.apiClient.request({path:p,queryParams:g,body:JSON.stringify(m),httpMethod:"DELETE",httpOptions:(l=n.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(a=n.config)===null||a===void 0?void 0:a.abortSignal}).then(v=>v.json().then(_=>{const S=_;return S.sdkHttpResponse={headers:v.headers},S})),d.then(v=>{const _=f_(v),S=new Fp;return Object.assign(S,_),S})}else{const m=s_(this.apiClient,n);return p=Ee("{name}",m._url),g=m._query,delete m._url,delete m._query,d=this.apiClient.request({path:p,queryParams:g,body:JSON.stringify(m),httpMethod:"DELETE",httpOptions:(s=n.config)===null||s===void 0?void 0:s.httpOptions,abortSignal:(c=n.config)===null||c===void 0?void 0:c.abortSignal}).then(v=>v.json().then(_=>{const S=_;return S.sdkHttpResponse={headers:v.headers},S})),d.then(v=>{const _=c_(v),S=new Fp;return Object.assign(S,_),S})}}async update(n){var l,a,s,c;let d,p="",g={};if(this.apiClient.isVertexAI()){const m=U_(this.apiClient,n);return p=Ee("{name}",m._url),g=m._query,delete m._url,delete m._query,d=this.apiClient.request({path:p,queryParams:g,body:JSON.stringify(m),httpMethod:"PATCH",httpOptions:(l=n.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(a=n.config)===null||a===void 0?void 0:a.abortSignal}).then(v=>v.json()),d.then(v=>v)}else{const m=D_(this.apiClient,n);return p=Ee("{name}",m._url),g=m._query,delete m._url,delete m._query,d=this.apiClient.request({path:p,queryParams:g,body:JSON.stringify(m),httpMethod:"PATCH",httpOptions:(s=n.config)===null||s===void 0?void 0:s.httpOptions,abortSignal:(c=n.config)===null||c===void 0?void 0:c.abortSignal}).then(v=>v.json()),d.then(v=>v)}}async listInternal(n){var l,a,s,c;let d,p="",g={};if(this.apiClient.isVertexAI()){const m=C_(n);return p=Ee("cachedContents",m._url),g=m._query,delete m._url,delete m._query,d=this.apiClient.request({path:p,queryParams:g,body:JSON.stringify(m),httpMethod:"GET",httpOptions:(l=n.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(a=n.config)===null||a===void 0?void 0:a.abortSignal}).then(v=>v.json().then(_=>{const S=_;return S.sdkHttpResponse={headers:v.headers},S})),d.then(v=>{const _=x_(v),S=new Op;return Object.assign(S,_),S})}else{const m=E_(n);return p=Ee("cachedContents",m._url),g=m._query,delete m._url,delete m._query,d=this.apiClient.request({path:p,queryParams:g,body:JSON.stringify(m),httpMethod:"GET",httpOptions:(s=n.config)===null||s===void 0?void 0:s.httpOptions,abortSignal:(c=n.config)===null||c===void 0?void 0:c.abortSignal}).then(v=>v.json().then(_=>{const S=_;return S.sdkHttpResponse={headers:v.headers},S})),d.then(v=>{const _=A_(v),S=new Op;return Object.assign(S,_),S})}}}function Wp(i){var n=typeof Symbol=="function"&&Symbol.iterator,l=n&&i[n],a=0;if(l)return l.call(i);if(i&&typeof i.length=="number")return{next:function(){return i&&a>=i.length&&(i=void 0),{value:i&&i[a++],done:!i}}};throw new TypeError(n?"Object is not iterable.":"Symbol.iterator is not defined.")}function st(i){return this instanceof st?(this.v=i,this):new st(i)}function yo(i,n,l){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var a=l.apply(i,n||[]),s,c=[];return s=Object.create((typeof AsyncIterator=="function"?AsyncIterator:Object).prototype),p("next"),p("throw"),p("return",d),s[Symbol.asyncIterator]=function(){return this},s;function d(T){return function(R){return Promise.resolve(R).then(T,_)}}function p(T,R){a[T]&&(s[T]=function(A){return new Promise(function(M,w){c.push([T,A,M,w])>1||g(T,A)})},R&&(s[T]=R(s[T])))}function g(T,R){try{m(a[T](R))}catch(A){S(c[0][3],A)}}function m(T){T.value instanceof st?Promise.resolve(T.value.v).then(v,_):S(c[0][2],T)}function v(T){g("next",T)}function _(T){g("throw",T)}function S(T,R){T(R),c.shift(),c.length&&g(c[0][0],c[0][1])}}function yl(i){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var n=i[Symbol.asyncIterator],l;return n?n.call(i):(i=typeof Wp=="function"?Wp(i):i[Symbol.iterator](),l={},a("next"),a("throw"),a("return"),l[Symbol.asyncIterator]=function(){return this},l);function a(c){l[c]=i[c]&&function(d){return new Promise(function(p,g){d=i[c](d),s(p,g,d.done,d.value)})}}function s(c,d,p,g){Promise.resolve(g).then(function(m){c({value:m,done:p})},d)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function z_(i){var n;if(i.candidates==null||i.candidates.length===0)return!1;const l=(n=i.candidates[0])===null||n===void 0?void 0:n.content;return l===void 0?!1:Dm(l)}function Dm(i){if(i.parts===void 0||i.parts.length===0)return!1;for(const n of i.parts)if(n===void 0||Object.keys(n).length===0)return!1;return!0}function L_(i){if(i.length!==0){for(const n of i)if(n.role!=="user"&&n.role!=="model")throw new Error(`Role must be user or model, but got ${n.role}.`)}}function $p(i){if(i===void 0||i.length===0)return[];const n=[],l=i.length;let a=0;for(;a<l;)if(i[a].role==="user")n.push(i[a]),a++;else{const s=[];let c=!0;for(;a<l&&i[a].role==="model";)s.push(i[a]),c&&!Dm(i[a])&&(c=!1),a++;c?n.push(...s):n.pop()}return n}class B_{constructor(n,l){this.modelsModule=n,this.apiClient=l}create(n){return new G_(this.apiClient,this.modelsModule,n.model,n.config,structuredClone(n.history))}}class G_{constructor(n,l,a,s={},c=[]){this.apiClient=n,this.modelsModule=l,this.model=a,this.config=s,this.history=c,this.sendPromise=Promise.resolve(),L_(c)}async sendMessage(n){var l;await this.sendPromise;const a=It(n.message),s=this.modelsModule.generateContent({model:this.model,contents:this.getHistory(!0).concat(a),config:(l=n.config)!==null&&l!==void 0?l:this.config});return this.sendPromise=(async()=>{var c,d,p;const g=await s,m=(d=(c=g.candidates)===null||c===void 0?void 0:c[0])===null||d===void 0?void 0:d.content,v=g.automaticFunctionCallingHistory,_=this.getHistory(!0).length;let S=[];v!=null&&(S=(p=v.slice(_))!==null&&p!==void 0?p:[]);const T=m?[m]:[];this.recordHistory(a,T,S)})(),await this.sendPromise.catch(()=>{this.sendPromise=Promise.resolve()}),s}async sendMessageStream(n){var l;await this.sendPromise;const a=It(n.message),s=this.modelsModule.generateContentStream({model:this.model,contents:this.getHistory(!0).concat(a),config:(l=n.config)!==null&&l!==void 0?l:this.config});this.sendPromise=s.then(()=>{}).catch(()=>{});const c=await s;return this.processStreamResponse(c,a)}getHistory(n=!1){const l=n?$p(this.history):this.history;return structuredClone(l)}processStreamResponse(n,l){var a,s;return yo(this,arguments,function*(){var d,p,g,m;const v=[];try{for(var _=!0,S=yl(n),T;T=yield st(S.next()),d=T.done,!d;_=!0){m=T.value,_=!1;const R=m;if(z_(R)){const A=(s=(a=R.candidates)===null||a===void 0?void 0:a[0])===null||s===void 0?void 0:s.content;A!==void 0&&v.push(A)}yield yield st(R)}}catch(R){p={error:R}}finally{try{!_&&!d&&(g=S.return)&&(yield st(g.call(S)))}finally{if(p)throw p.error}}this.recordHistory(l,v)})}recordHistory(n,l,a){let s=[];l.length>0&&l.every(c=>c.role!==void 0)?s=l:s.push({role:"model",parts:[]}),a&&a.length>0?this.history.push(...$p(a)):this.history.push(n),this.history.push(...s)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class qa extends Error{constructor(n){super(n.message),this.name="ApiError",this.status=n.status,Object.setPrototypeOf(this,qa.prototype)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function q_(i){const n={},l=u(i,["file"]);return l!=null&&f(n,["file"],l),n}function H_(i){const n={},l=u(i,["sdkHttpResponse"]);return l!=null&&f(n,["sdkHttpResponse"],l),n}function P_(i){const n={},l=u(i,["name"]);return l!=null&&f(n,["_url","file"],xm(l)),n}function V_(i){const n={},l=u(i,["sdkHttpResponse"]);return l!=null&&f(n,["sdkHttpResponse"],l),n}function F_(i){const n={},l=u(i,["name"]);return l!=null&&f(n,["_url","file"],xm(l)),n}function O_(i,n){const l={},a=u(i,["pageSize"]);n!==void 0&&a!=null&&f(n,["_query","pageSize"],a);const s=u(i,["pageToken"]);return n!==void 0&&s!=null&&f(n,["_query","pageToken"],s),l}function Y_(i){const n={},l=u(i,["config"]);return l!=null&&O_(l,n),n}function J_(i){const n={},l=u(i,["sdkHttpResponse"]);l!=null&&f(n,["sdkHttpResponse"],l);const a=u(i,["nextPageToken"]);a!=null&&f(n,["nextPageToken"],a);const s=u(i,["files"]);if(s!=null){let c=s;Array.isArray(c)&&(c=c.map(d=>d)),f(n,["files"],c)}return n}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class Z_ extends zn{constructor(n){super(),this.apiClient=n,this.list=async(l={})=>new bi(kn.PAGED_ITEM_FILES,a=>this.listInternal(a),await this.listInternal(l),l)}async upload(n){if(this.apiClient.isVertexAI())throw new Error("Vertex AI does not support uploading files. You can share files through a GCS bucket.");return this.apiClient.uploadFile(n.file,n.config).then(l=>l)}async download(n){await this.apiClient.downloadFile(n)}async listInternal(n){var l,a;let s,c="",d={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const p=Y_(n);return c=Ee("files",p._url),d=p._query,delete p._url,delete p._query,s=this.apiClient.request({path:c,queryParams:d,body:JSON.stringify(p),httpMethod:"GET",httpOptions:(l=n.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(a=n.config)===null||a===void 0?void 0:a.abortSignal}).then(g=>g.json().then(m=>{const v=m;return v.sdkHttpResponse={headers:g.headers},v})),s.then(g=>{const m=J_(g),v=new W0;return Object.assign(v,m),v})}}async createInternal(n){var l,a;let s,c="",d={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const p=q_(n);return c=Ee("upload/v1beta/files",p._url),d=p._query,delete p._url,delete p._query,s=this.apiClient.request({path:c,queryParams:d,body:JSON.stringify(p),httpMethod:"POST",httpOptions:(l=n.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(a=n.config)===null||a===void 0?void 0:a.abortSignal}).then(g=>g.json()),s.then(g=>{const m=H_(g),v=new $0;return Object.assign(v,m),v})}}async get(n){var l,a;let s,c="",d={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const p=F_(n);return c=Ee("files/{file}",p._url),d=p._query,delete p._url,delete p._query,s=this.apiClient.request({path:c,queryParams:d,body:JSON.stringify(p),httpMethod:"GET",httpOptions:(l=n.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(a=n.config)===null||a===void 0?void 0:a.abortSignal}).then(g=>g.json()),s.then(g=>g)}}async delete(n){var l,a;let s,c="",d={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const p=P_(n);return c=Ee("files/{file}",p._url),d=p._query,delete p._url,delete p._query,s=this.apiClient.request({path:c,queryParams:d,body:JSON.stringify(p),httpMethod:"DELETE",httpOptions:(l=n.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(a=n.config)===null||a===void 0?void 0:a.abortSignal}).then(g=>g.json().then(m=>{const v=m;return v.sdkHttpResponse={headers:g.headers},v})),s.then(g=>{const m=V_(g),v=new j0;return Object.assign(v,m),v})}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function za(i){const n={},l=u(i,["data"]);if(l!=null&&f(n,["data"],l),u(i,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const a=u(i,["mimeType"]);return a!=null&&f(n,["mimeType"],a),n}function K_(i){const n={},l=u(i,["parts"]);if(l!=null){let s=l;Array.isArray(s)&&(s=s.map(c=>cS(c))),f(n,["parts"],s)}const a=u(i,["role"]);return a!=null&&f(n,["role"],a),n}function X_(i){const n={};if(u(i,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const l=u(i,["fileUri"]);l!=null&&f(n,["fileUri"],l);const a=u(i,["mimeType"]);return a!=null&&f(n,["mimeType"],a),n}function Q_(i){const n={},l=u(i,["id"]);l!=null&&f(n,["id"],l);const a=u(i,["args"]);a!=null&&f(n,["args"],a);const s=u(i,["name"]);if(s!=null&&f(n,["name"],s),u(i,["partialArgs"])!==void 0)throw new Error("partialArgs parameter is not supported in Gemini API.");if(u(i,["willContinue"])!==void 0)throw new Error("willContinue parameter is not supported in Gemini API.");return n}function W_(i){const n={};if(u(i,["behavior"])!==void 0)throw new Error("behavior parameter is not supported in Vertex AI.");const l=u(i,["description"]);l!=null&&f(n,["description"],l);const a=u(i,["name"]);a!=null&&f(n,["name"],a);const s=u(i,["parameters"]);s!=null&&f(n,["parameters"],s);const c=u(i,["parametersJsonSchema"]);c!=null&&f(n,["parametersJsonSchema"],c);const d=u(i,["response"]);d!=null&&f(n,["response"],d);const p=u(i,["responseJsonSchema"]);return p!=null&&f(n,["responseJsonSchema"],p),n}function $_(i){const n={},l=u(i,["modelSelectionConfig"]);l!=null&&f(n,["modelConfig"],l);const a=u(i,["responseJsonSchema"]);a!=null&&f(n,["responseJsonSchema"],a);const s=u(i,["audioTimestamp"]);s!=null&&f(n,["audioTimestamp"],s);const c=u(i,["candidateCount"]);c!=null&&f(n,["candidateCount"],c);const d=u(i,["enableAffectiveDialog"]);d!=null&&f(n,["enableAffectiveDialog"],d);const p=u(i,["frequencyPenalty"]);p!=null&&f(n,["frequencyPenalty"],p);const g=u(i,["logprobs"]);g!=null&&f(n,["logprobs"],g);const m=u(i,["maxOutputTokens"]);m!=null&&f(n,["maxOutputTokens"],m);const v=u(i,["mediaResolution"]);v!=null&&f(n,["mediaResolution"],v);const _=u(i,["presencePenalty"]);_!=null&&f(n,["presencePenalty"],_);const S=u(i,["responseLogprobs"]);S!=null&&f(n,["responseLogprobs"],S);const T=u(i,["responseMimeType"]);T!=null&&f(n,["responseMimeType"],T);const R=u(i,["responseModalities"]);R!=null&&f(n,["responseModalities"],R);const A=u(i,["responseSchema"]);A!=null&&f(n,["responseSchema"],A);const M=u(i,["routingConfig"]);M!=null&&f(n,["routingConfig"],M);const w=u(i,["seed"]);w!=null&&f(n,["seed"],w);const I=u(i,["speechConfig"]);I!=null&&f(n,["speechConfig"],Um(I));const U=u(i,["stopSequences"]);U!=null&&f(n,["stopSequences"],U);const G=u(i,["temperature"]);G!=null&&f(n,["temperature"],G);const B=u(i,["thinkingConfig"]);B!=null&&f(n,["thinkingConfig"],B);const K=u(i,["topK"]);K!=null&&f(n,["topK"],K);const H=u(i,["topP"]);if(H!=null&&f(n,["topP"],H),u(i,["enableEnhancedCivicAnswers"])!==void 0)throw new Error("enableEnhancedCivicAnswers parameter is not supported in Vertex AI.");return n}function j_(i){const n={};if(u(i,["authConfig"])!==void 0)throw new Error("authConfig parameter is not supported in Gemini API.");const l=u(i,["enableWidget"]);return l!=null&&f(n,["enableWidget"],l),n}function eS(i){const n={};if(u(i,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");if(u(i,["blockingConfidence"])!==void 0)throw new Error("blockingConfidence parameter is not supported in Gemini API.");const l=u(i,["timeRangeFilter"]);return l!=null&&f(n,["timeRangeFilter"],l),n}function tS(i,n){const l={},a=u(i,["generationConfig"]);n!==void 0&&a!=null&&f(n,["setup","generationConfig"],a);const s=u(i,["responseModalities"]);n!==void 0&&s!=null&&f(n,["setup","generationConfig","responseModalities"],s);const c=u(i,["temperature"]);n!==void 0&&c!=null&&f(n,["setup","generationConfig","temperature"],c);const d=u(i,["topP"]);n!==void 0&&d!=null&&f(n,["setup","generationConfig","topP"],d);const p=u(i,["topK"]);n!==void 0&&p!=null&&f(n,["setup","generationConfig","topK"],p);const g=u(i,["maxOutputTokens"]);n!==void 0&&g!=null&&f(n,["setup","generationConfig","maxOutputTokens"],g);const m=u(i,["mediaResolution"]);n!==void 0&&m!=null&&f(n,["setup","generationConfig","mediaResolution"],m);const v=u(i,["seed"]);n!==void 0&&v!=null&&f(n,["setup","generationConfig","seed"],v);const _=u(i,["speechConfig"]);n!==void 0&&_!=null&&f(n,["setup","generationConfig","speechConfig"],Iu(_));const S=u(i,["thinkingConfig"]);n!==void 0&&S!=null&&f(n,["setup","generationConfig","thinkingConfig"],S);const T=u(i,["enableAffectiveDialog"]);n!==void 0&&T!=null&&f(n,["setup","generationConfig","enableAffectiveDialog"],T);const R=u(i,["systemInstruction"]);n!==void 0&&R!=null&&f(n,["setup","systemInstruction"],K_(It(R)));const A=u(i,["tools"]);if(n!==void 0&&A!=null){let K=To(A);Array.isArray(K)&&(K=K.map(H=>dS(So(H)))),f(n,["setup","tools"],K)}const M=u(i,["sessionResumption"]);n!==void 0&&M!=null&&f(n,["setup","sessionResumption"],fS(M));const w=u(i,["inputAudioTranscription"]);n!==void 0&&w!=null&&f(n,["setup","inputAudioTranscription"],w);const I=u(i,["outputAudioTranscription"]);n!==void 0&&I!=null&&f(n,["setup","outputAudioTranscription"],I);const U=u(i,["realtimeInputConfig"]);n!==void 0&&U!=null&&f(n,["setup","realtimeInputConfig"],U);const G=u(i,["contextWindowCompression"]);n!==void 0&&G!=null&&f(n,["setup","contextWindowCompression"],G);const B=u(i,["proactivity"]);return n!==void 0&&B!=null&&f(n,["setup","proactivity"],B),l}function nS(i,n){const l={},a=u(i,["generationConfig"]);n!==void 0&&a!=null&&f(n,["setup","generationConfig"],$_(a));const s=u(i,["responseModalities"]);n!==void 0&&s!=null&&f(n,["setup","generationConfig","responseModalities"],s);const c=u(i,["temperature"]);n!==void 0&&c!=null&&f(n,["setup","generationConfig","temperature"],c);const d=u(i,["topP"]);n!==void 0&&d!=null&&f(n,["setup","generationConfig","topP"],d);const p=u(i,["topK"]);n!==void 0&&p!=null&&f(n,["setup","generationConfig","topK"],p);const g=u(i,["maxOutputTokens"]);n!==void 0&&g!=null&&f(n,["setup","generationConfig","maxOutputTokens"],g);const m=u(i,["mediaResolution"]);n!==void 0&&m!=null&&f(n,["setup","generationConfig","mediaResolution"],m);const v=u(i,["seed"]);n!==void 0&&v!=null&&f(n,["setup","generationConfig","seed"],v);const _=u(i,["speechConfig"]);n!==void 0&&_!=null&&f(n,["setup","generationConfig","speechConfig"],Um(Iu(_)));const S=u(i,["thinkingConfig"]);n!==void 0&&S!=null&&f(n,["setup","generationConfig","thinkingConfig"],S);const T=u(i,["enableAffectiveDialog"]);n!==void 0&&T!=null&&f(n,["setup","generationConfig","enableAffectiveDialog"],T);const R=u(i,["systemInstruction"]);n!==void 0&&R!=null&&f(n,["setup","systemInstruction"],It(R));const A=u(i,["tools"]);if(n!==void 0&&A!=null){let K=To(A);Array.isArray(K)&&(K=K.map(H=>hS(So(H)))),f(n,["setup","tools"],K)}const M=u(i,["sessionResumption"]);n!==void 0&&M!=null&&f(n,["setup","sessionResumption"],M);const w=u(i,["inputAudioTranscription"]);n!==void 0&&w!=null&&f(n,["setup","inputAudioTranscription"],w);const I=u(i,["outputAudioTranscription"]);n!==void 0&&I!=null&&f(n,["setup","outputAudioTranscription"],I);const U=u(i,["realtimeInputConfig"]);n!==void 0&&U!=null&&f(n,["setup","realtimeInputConfig"],U);const G=u(i,["contextWindowCompression"]);n!==void 0&&G!=null&&f(n,["setup","contextWindowCompression"],G);const B=u(i,["proactivity"]);return n!==void 0&&B!=null&&f(n,["setup","proactivity"],B),l}function iS(i,n){const l={},a=u(n,["model"]);a!=null&&f(l,["setup","model"],Qe(i,a));const s=u(n,["config"]);return s!=null&&f(l,["config"],tS(s,l)),l}function oS(i,n){const l={},a=u(n,["model"]);a!=null&&f(l,["setup","model"],Qe(i,a));const s=u(n,["config"]);return s!=null&&f(l,["config"],nS(s,l)),l}function lS(i){const n={},l=u(i,["musicGenerationConfig"]);return l!=null&&f(n,["musicGenerationConfig"],l),n}function aS(i){const n={},l=u(i,["weightedPrompts"]);if(l!=null){let a=l;Array.isArray(a)&&(a=a.map(s=>s)),f(n,["weightedPrompts"],a)}return n}function rS(i){const n={},l=u(i,["media"]);if(l!=null){let m=Sm(l);Array.isArray(m)&&(m=m.map(v=>za(v))),f(n,["mediaChunks"],m)}const a=u(i,["audio"]);a!=null&&f(n,["audio"],za(Em(a)));const s=u(i,["audioStreamEnd"]);s!=null&&f(n,["audioStreamEnd"],s);const c=u(i,["video"]);c!=null&&f(n,["video"],za(Tm(c)));const d=u(i,["text"]);d!=null&&f(n,["text"],d);const p=u(i,["activityStart"]);p!=null&&f(n,["activityStart"],p);const g=u(i,["activityEnd"]);return g!=null&&f(n,["activityEnd"],g),n}function sS(i){const n={},l=u(i,["media"]);if(l!=null){let m=Sm(l);Array.isArray(m)&&(m=m.map(v=>v)),f(n,["mediaChunks"],m)}const a=u(i,["audio"]);a!=null&&f(n,["audio"],Em(a));const s=u(i,["audioStreamEnd"]);s!=null&&f(n,["audioStreamEnd"],s);const c=u(i,["video"]);c!=null&&f(n,["video"],Tm(c));const d=u(i,["text"]);d!=null&&f(n,["text"],d);const p=u(i,["activityStart"]);p!=null&&f(n,["activityStart"],p);const g=u(i,["activityEnd"]);return g!=null&&f(n,["activityEnd"],g),n}function uS(i){const n={},l=u(i,["setupComplete"]);l!=null&&f(n,["setupComplete"],l);const a=u(i,["serverContent"]);a!=null&&f(n,["serverContent"],a);const s=u(i,["toolCall"]);s!=null&&f(n,["toolCall"],s);const c=u(i,["toolCallCancellation"]);c!=null&&f(n,["toolCallCancellation"],c);const d=u(i,["usageMetadata"]);d!=null&&f(n,["usageMetadata"],pS(d));const p=u(i,["goAway"]);p!=null&&f(n,["goAway"],p);const g=u(i,["sessionResumptionUpdate"]);return g!=null&&f(n,["sessionResumptionUpdate"],g),n}function cS(i){const n={},l=u(i,["mediaResolution"]);l!=null&&f(n,["mediaResolution"],l);const a=u(i,["codeExecutionResult"]);a!=null&&f(n,["codeExecutionResult"],a);const s=u(i,["executableCode"]);s!=null&&f(n,["executableCode"],s);const c=u(i,["fileData"]);c!=null&&f(n,["fileData"],X_(c));const d=u(i,["functionCall"]);d!=null&&f(n,["functionCall"],Q_(d));const p=u(i,["functionResponse"]);p!=null&&f(n,["functionResponse"],p);const g=u(i,["inlineData"]);g!=null&&f(n,["inlineData"],za(g));const m=u(i,["text"]);m!=null&&f(n,["text"],m);const v=u(i,["thought"]);v!=null&&f(n,["thought"],v);const _=u(i,["thoughtSignature"]);_!=null&&f(n,["thoughtSignature"],_);const S=u(i,["videoMetadata"]);return S!=null&&f(n,["videoMetadata"],S),n}function fS(i){const n={},l=u(i,["handle"]);if(l!=null&&f(n,["handle"],l),u(i,["transparent"])!==void 0)throw new Error("transparent parameter is not supported in Gemini API.");return n}function Um(i){const n={},l=u(i,["languageCode"]);l!=null&&f(n,["languageCode"],l);const a=u(i,["voiceConfig"]);if(a!=null&&f(n,["voiceConfig"],a),u(i,["multiSpeakerVoiceConfig"])!==void 0)throw new Error("multiSpeakerVoiceConfig parameter is not supported in Vertex AI.");return n}function dS(i){const n={},l=u(i,["functionDeclarations"]);if(l!=null){let v=l;Array.isArray(v)&&(v=v.map(_=>_)),f(n,["functionDeclarations"],v)}if(u(i,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const a=u(i,["googleSearchRetrieval"]);a!=null&&f(n,["googleSearchRetrieval"],a);const s=u(i,["computerUse"]);s!=null&&f(n,["computerUse"],s);const c=u(i,["fileSearch"]);c!=null&&f(n,["fileSearch"],c);const d=u(i,["codeExecution"]);if(d!=null&&f(n,["codeExecution"],d),u(i,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");const p=u(i,["googleMaps"]);p!=null&&f(n,["googleMaps"],j_(p));const g=u(i,["googleSearch"]);g!=null&&f(n,["googleSearch"],eS(g));const m=u(i,["urlContext"]);return m!=null&&f(n,["urlContext"],m),n}function hS(i){const n={},l=u(i,["functionDeclarations"]);if(l!=null){let _=l;Array.isArray(_)&&(_=_.map(S=>W_(S))),f(n,["functionDeclarations"],_)}const a=u(i,["retrieval"]);a!=null&&f(n,["retrieval"],a);const s=u(i,["googleSearchRetrieval"]);s!=null&&f(n,["googleSearchRetrieval"],s);const c=u(i,["computerUse"]);if(c!=null&&f(n,["computerUse"],c),u(i,["fileSearch"])!==void 0)throw new Error("fileSearch parameter is not supported in Vertex AI.");const d=u(i,["codeExecution"]);d!=null&&f(n,["codeExecution"],d);const p=u(i,["enterpriseWebSearch"]);p!=null&&f(n,["enterpriseWebSearch"],p);const g=u(i,["googleMaps"]);g!=null&&f(n,["googleMaps"],g);const m=u(i,["googleSearch"]);m!=null&&f(n,["googleSearch"],m);const v=u(i,["urlContext"]);return v!=null&&f(n,["urlContext"],v),n}function pS(i){const n={},l=u(i,["promptTokenCount"]);l!=null&&f(n,["promptTokenCount"],l);const a=u(i,["cachedContentTokenCount"]);a!=null&&f(n,["cachedContentTokenCount"],a);const s=u(i,["candidatesTokenCount"]);s!=null&&f(n,["responseTokenCount"],s);const c=u(i,["toolUsePromptTokenCount"]);c!=null&&f(n,["toolUsePromptTokenCount"],c);const d=u(i,["thoughtsTokenCount"]);d!=null&&f(n,["thoughtsTokenCount"],d);const p=u(i,["totalTokenCount"]);p!=null&&f(n,["totalTokenCount"],p);const g=u(i,["promptTokensDetails"]);if(g!=null){let T=g;Array.isArray(T)&&(T=T.map(R=>R)),f(n,["promptTokensDetails"],T)}const m=u(i,["cacheTokensDetails"]);if(m!=null){let T=m;Array.isArray(T)&&(T=T.map(R=>R)),f(n,["cacheTokensDetails"],T)}const v=u(i,["candidatesTokensDetails"]);if(v!=null){let T=v;Array.isArray(T)&&(T=T.map(R=>R)),f(n,["responseTokensDetails"],T)}const _=u(i,["toolUsePromptTokensDetails"]);if(_!=null){let T=_;Array.isArray(T)&&(T=T.map(R=>R)),f(n,["toolUsePromptTokensDetails"],T)}const S=u(i,["trafficType"]);return S!=null&&f(n,["trafficType"],S),n}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function mS(i){const n={},l=u(i,["data"]);if(l!=null&&f(n,["data"],l),u(i,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const a=u(i,["mimeType"]);return a!=null&&f(n,["mimeType"],a),n}function gS(i){const n={},l=u(i,["content"]);l!=null&&f(n,["content"],l);const a=u(i,["citationMetadata"]);a!=null&&f(n,["citationMetadata"],yS(a));const s=u(i,["tokenCount"]);s!=null&&f(n,["tokenCount"],s);const c=u(i,["finishReason"]);c!=null&&f(n,["finishReason"],c);const d=u(i,["avgLogprobs"]);d!=null&&f(n,["avgLogprobs"],d);const p=u(i,["groundingMetadata"]);p!=null&&f(n,["groundingMetadata"],p);const g=u(i,["index"]);g!=null&&f(n,["index"],g);const m=u(i,["logprobsResult"]);m!=null&&f(n,["logprobsResult"],m);const v=u(i,["safetyRatings"]);if(v!=null){let S=v;Array.isArray(S)&&(S=S.map(T=>T)),f(n,["safetyRatings"],S)}const _=u(i,["urlContextMetadata"]);return _!=null&&f(n,["urlContextMetadata"],_),n}function yS(i){const n={},l=u(i,["citationSources"]);if(l!=null){let a=l;Array.isArray(a)&&(a=a.map(s=>s)),f(n,["citations"],a)}return n}function vS(i,n){const l={},a=u(n,["model"]);a!=null&&f(l,["_url","model"],Qe(i,a));const s=u(n,["contents"]);if(s!=null){let c=ln(s);Array.isArray(c)&&(c=c.map(d=>d)),f(l,["contents"],c)}return l}function _S(i){const n={},l=u(i,["sdkHttpResponse"]);l!=null&&f(n,["sdkHttpResponse"],l);const a=u(i,["tokensInfo"]);if(a!=null){let s=a;Array.isArray(s)&&(s=s.map(c=>c)),f(n,["tokensInfo"],s)}return n}function SS(i){const n={},l=u(i,["values"]);l!=null&&f(n,["values"],l);const a=u(i,["statistics"]);return a!=null&&f(n,["statistics"],TS(a)),n}function TS(i){const n={},l=u(i,["truncated"]);l!=null&&f(n,["truncated"],l);const a=u(i,["token_count"]);return a!=null&&f(n,["tokenCount"],a),n}function Ha(i){const n={},l=u(i,["parts"]);if(l!=null){let s=l;Array.isArray(s)&&(s=s.map(c=>NT(c))),f(n,["parts"],s)}const a=u(i,["role"]);return a!=null&&f(n,["role"],a),n}function ES(i){const n={},l=u(i,["controlType"]);l!=null&&f(n,["controlType"],l);const a=u(i,["enableControlImageComputation"]);return a!=null&&f(n,["computeControl"],a),n}function CS(i){const n={};if(u(i,["systemInstruction"])!==void 0)throw new Error("systemInstruction parameter is not supported in Gemini API.");if(u(i,["tools"])!==void 0)throw new Error("tools parameter is not supported in Gemini API.");if(u(i,["generationConfig"])!==void 0)throw new Error("generationConfig parameter is not supported in Gemini API.");return n}function AS(i,n){const l={},a=u(i,["systemInstruction"]);n!==void 0&&a!=null&&f(n,["systemInstruction"],It(a));const s=u(i,["tools"]);if(n!==void 0&&s!=null){let d=s;Array.isArray(d)&&(d=d.map(p=>Gm(p))),f(n,["tools"],d)}const c=u(i,["generationConfig"]);return n!==void 0&&c!=null&&f(n,["generationConfig"],mT(c)),l}function xS(i,n){const l={},a=u(n,["model"]);a!=null&&f(l,["_url","model"],Qe(i,a));const s=u(n,["contents"]);if(s!=null){let d=ln(s);Array.isArray(d)&&(d=d.map(p=>Ha(p))),f(l,["contents"],d)}const c=u(n,["config"]);return c!=null&&CS(c),l}function wS(i,n){const l={},a=u(n,["model"]);a!=null&&f(l,["_url","model"],Qe(i,a));const s=u(n,["contents"]);if(s!=null){let d=ln(s);Array.isArray(d)&&(d=d.map(p=>p)),f(l,["contents"],d)}const c=u(n,["config"]);return c!=null&&AS(c,l),l}function RS(i){const n={},l=u(i,["sdkHttpResponse"]);l!=null&&f(n,["sdkHttpResponse"],l);const a=u(i,["totalTokens"]);a!=null&&f(n,["totalTokens"],a);const s=u(i,["cachedContentTokenCount"]);return s!=null&&f(n,["cachedContentTokenCount"],s),n}function bS(i){const n={},l=u(i,["sdkHttpResponse"]);l!=null&&f(n,["sdkHttpResponse"],l);const a=u(i,["totalTokens"]);return a!=null&&f(n,["totalTokens"],a),n}function MS(i,n){const l={},a=u(n,["model"]);return a!=null&&f(l,["_url","name"],Qe(i,a)),l}function NS(i,n){const l={},a=u(n,["model"]);return a!=null&&f(l,["_url","name"],Qe(i,a)),l}function IS(i){const n={},l=u(i,["sdkHttpResponse"]);return l!=null&&f(n,["sdkHttpResponse"],l),n}function DS(i){const n={},l=u(i,["sdkHttpResponse"]);return l!=null&&f(n,["sdkHttpResponse"],l),n}function US(i,n){const l={},a=u(i,["outputGcsUri"]);n!==void 0&&a!=null&&f(n,["parameters","storageUri"],a);const s=u(i,["negativePrompt"]);n!==void 0&&s!=null&&f(n,["parameters","negativePrompt"],s);const c=u(i,["numberOfImages"]);n!==void 0&&c!=null&&f(n,["parameters","sampleCount"],c);const d=u(i,["aspectRatio"]);n!==void 0&&d!=null&&f(n,["parameters","aspectRatio"],d);const p=u(i,["guidanceScale"]);n!==void 0&&p!=null&&f(n,["parameters","guidanceScale"],p);const g=u(i,["seed"]);n!==void 0&&g!=null&&f(n,["parameters","seed"],g);const m=u(i,["safetyFilterLevel"]);n!==void 0&&m!=null&&f(n,["parameters","safetySetting"],m);const v=u(i,["personGeneration"]);n!==void 0&&v!=null&&f(n,["parameters","personGeneration"],v);const _=u(i,["includeSafetyAttributes"]);n!==void 0&&_!=null&&f(n,["parameters","includeSafetyAttributes"],_);const S=u(i,["includeRaiReason"]);n!==void 0&&S!=null&&f(n,["parameters","includeRaiReason"],S);const T=u(i,["language"]);n!==void 0&&T!=null&&f(n,["parameters","language"],T);const R=u(i,["outputMimeType"]);n!==void 0&&R!=null&&f(n,["parameters","outputOptions","mimeType"],R);const A=u(i,["outputCompressionQuality"]);n!==void 0&&A!=null&&f(n,["parameters","outputOptions","compressionQuality"],A);const M=u(i,["addWatermark"]);n!==void 0&&M!=null&&f(n,["parameters","addWatermark"],M);const w=u(i,["labels"]);n!==void 0&&w!=null&&f(n,["labels"],w);const I=u(i,["editMode"]);n!==void 0&&I!=null&&f(n,["parameters","editMode"],I);const U=u(i,["baseSteps"]);return n!==void 0&&U!=null&&f(n,["parameters","editConfig","baseSteps"],U),l}function kS(i,n){const l={},a=u(n,["model"]);a!=null&&f(l,["_url","model"],Qe(i,a));const s=u(n,["prompt"]);s!=null&&f(l,["instances[0]","prompt"],s);const c=u(n,["referenceImages"]);if(c!=null){let p=c;Array.isArray(p)&&(p=p.map(g=>LT(g))),f(l,["instances[0]","referenceImages"],p)}const d=u(n,["config"]);return d!=null&&US(d,l),l}function zS(i){const n={},l=u(i,["sdkHttpResponse"]);l!=null&&f(n,["sdkHttpResponse"],l);const a=u(i,["predictions"]);if(a!=null){let s=a;Array.isArray(s)&&(s=s.map(c=>Pa(c))),f(n,["generatedImages"],s)}return n}function LS(i,n){const l={},a=u(i,["taskType"]);n!==void 0&&a!=null&&f(n,["requests[]","taskType"],a);const s=u(i,["title"]);n!==void 0&&s!=null&&f(n,["requests[]","title"],s);const c=u(i,["outputDimensionality"]);if(n!==void 0&&c!=null&&f(n,["requests[]","outputDimensionality"],c),u(i,["mimeType"])!==void 0)throw new Error("mimeType parameter is not supported in Gemini API.");if(u(i,["autoTruncate"])!==void 0)throw new Error("autoTruncate parameter is not supported in Gemini API.");return l}function BS(i,n){const l={},a=u(i,["taskType"]);n!==void 0&&a!=null&&f(n,["instances[]","task_type"],a);const s=u(i,["title"]);n!==void 0&&s!=null&&f(n,["instances[]","title"],s);const c=u(i,["outputDimensionality"]);n!==void 0&&c!=null&&f(n,["parameters","outputDimensionality"],c);const d=u(i,["mimeType"]);n!==void 0&&d!=null&&f(n,["instances[]","mimeType"],d);const p=u(i,["autoTruncate"]);return n!==void 0&&p!=null&&f(n,["parameters","autoTruncate"],p),l}function GS(i,n){const l={},a=u(n,["model"]);a!=null&&f(l,["_url","model"],Qe(i,a));const s=u(n,["contents"]);if(s!=null){let p=bu(i,s);Array.isArray(p)&&(p=p.map(g=>g)),f(l,["requests[]","content"],p)}const c=u(n,["config"]);c!=null&&LS(c,l);const d=u(n,["model"]);return d!==void 0&&f(l,["requests[]","model"],Qe(i,d)),l}function qS(i,n){const l={},a=u(n,["model"]);a!=null&&f(l,["_url","model"],Qe(i,a));const s=u(n,["contents"]);if(s!=null){let d=bu(i,s);Array.isArray(d)&&(d=d.map(p=>p)),f(l,["instances[]","content"],d)}const c=u(n,["config"]);return c!=null&&BS(c,l),l}function HS(i){const n={},l=u(i,["sdkHttpResponse"]);l!=null&&f(n,["sdkHttpResponse"],l);const a=u(i,["embeddings"]);if(a!=null){let c=a;Array.isArray(c)&&(c=c.map(d=>d)),f(n,["embeddings"],c)}const s=u(i,["metadata"]);return s!=null&&f(n,["metadata"],s),n}function PS(i){const n={},l=u(i,["sdkHttpResponse"]);l!=null&&f(n,["sdkHttpResponse"],l);const a=u(i,["predictions[]","embeddings"]);if(a!=null){let c=a;Array.isArray(c)&&(c=c.map(d=>SS(d))),f(n,["embeddings"],c)}const s=u(i,["metadata"]);return s!=null&&f(n,["metadata"],s),n}function VS(i){const n={},l=u(i,["endpoint"]);l!=null&&f(n,["name"],l);const a=u(i,["deployedModelId"]);return a!=null&&f(n,["deployedModelId"],a),n}function FS(i){const n={};if(u(i,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const l=u(i,["fileUri"]);l!=null&&f(n,["fileUri"],l);const a=u(i,["mimeType"]);return a!=null&&f(n,["mimeType"],a),n}function OS(i){const n={},l=u(i,["id"]);l!=null&&f(n,["id"],l);const a=u(i,["args"]);a!=null&&f(n,["args"],a);const s=u(i,["name"]);if(s!=null&&f(n,["name"],s),u(i,["partialArgs"])!==void 0)throw new Error("partialArgs parameter is not supported in Gemini API.");if(u(i,["willContinue"])!==void 0)throw new Error("willContinue parameter is not supported in Gemini API.");return n}function YS(i){const n={},l=u(i,["mode"]);l!=null&&f(n,["mode"],l);const a=u(i,["allowedFunctionNames"]);if(a!=null&&f(n,["allowedFunctionNames"],a),u(i,["streamFunctionCallArguments"])!==void 0)throw new Error("streamFunctionCallArguments parameter is not supported in Gemini API.");return n}function JS(i){const n={};if(u(i,["behavior"])!==void 0)throw new Error("behavior parameter is not supported in Vertex AI.");const l=u(i,["description"]);l!=null&&f(n,["description"],l);const a=u(i,["name"]);a!=null&&f(n,["name"],a);const s=u(i,["parameters"]);s!=null&&f(n,["parameters"],s);const c=u(i,["parametersJsonSchema"]);c!=null&&f(n,["parametersJsonSchema"],c);const d=u(i,["response"]);d!=null&&f(n,["response"],d);const p=u(i,["responseJsonSchema"]);return p!=null&&f(n,["responseJsonSchema"],p),n}function ZS(i,n,l){const a={},s=u(n,["systemInstruction"]);l!==void 0&&s!=null&&f(l,["systemInstruction"],Ha(It(s)));const c=u(n,["temperature"]);c!=null&&f(a,["temperature"],c);const d=u(n,["topP"]);d!=null&&f(a,["topP"],d);const p=u(n,["topK"]);p!=null&&f(a,["topK"],p);const g=u(n,["candidateCount"]);g!=null&&f(a,["candidateCount"],g);const m=u(n,["maxOutputTokens"]);m!=null&&f(a,["maxOutputTokens"],m);const v=u(n,["stopSequences"]);v!=null&&f(a,["stopSequences"],v);const _=u(n,["responseLogprobs"]);_!=null&&f(a,["responseLogprobs"],_);const S=u(n,["logprobs"]);S!=null&&f(a,["logprobs"],S);const T=u(n,["presencePenalty"]);T!=null&&f(a,["presencePenalty"],T);const R=u(n,["frequencyPenalty"]);R!=null&&f(a,["frequencyPenalty"],R);const A=u(n,["seed"]);A!=null&&f(a,["seed"],A);const M=u(n,["responseMimeType"]);M!=null&&f(a,["responseMimeType"],M);const w=u(n,["responseSchema"]);w!=null&&f(a,["responseSchema"],Mu(w));const I=u(n,["responseJsonSchema"]);if(I!=null&&f(a,["responseJsonSchema"],I),u(n,["routingConfig"])!==void 0)throw new Error("routingConfig parameter is not supported in Gemini API.");if(u(n,["modelSelectionConfig"])!==void 0)throw new Error("modelSelectionConfig parameter is not supported in Gemini API.");const U=u(n,["safetySettings"]);if(l!==void 0&&U!=null){let L=U;Array.isArray(L)&&(L=L.map(le=>BT(le))),f(l,["safetySettings"],L)}const G=u(n,["tools"]);if(l!==void 0&&G!=null){let L=To(G);Array.isArray(L)&&(L=L.map(le=>OT(So(le)))),f(l,["tools"],L)}const B=u(n,["toolConfig"]);if(l!==void 0&&B!=null&&f(l,["toolConfig"],FT(B)),u(n,["labels"])!==void 0)throw new Error("labels parameter is not supported in Gemini API.");const K=u(n,["cachedContent"]);l!==void 0&&K!=null&&f(l,["cachedContent"],Ln(i,K));const H=u(n,["responseModalities"]);H!=null&&f(a,["responseModalities"],H);const j=u(n,["mediaResolution"]);j!=null&&f(a,["mediaResolution"],j);const Y=u(n,["speechConfig"]);if(Y!=null&&f(a,["speechConfig"],Nu(Y)),u(n,["audioTimestamp"])!==void 0)throw new Error("audioTimestamp parameter is not supported in Gemini API.");const oe=u(n,["thinkingConfig"]);oe!=null&&f(a,["thinkingConfig"],oe);const ye=u(n,["imageConfig"]);return ye!=null&&f(a,["imageConfig"],ST(ye)),a}function KS(i,n,l){const a={},s=u(n,["systemInstruction"]);l!==void 0&&s!=null&&f(l,["systemInstruction"],It(s));const c=u(n,["temperature"]);c!=null&&f(a,["temperature"],c);const d=u(n,["topP"]);d!=null&&f(a,["topP"],d);const p=u(n,["topK"]);p!=null&&f(a,["topK"],p);const g=u(n,["candidateCount"]);g!=null&&f(a,["candidateCount"],g);const m=u(n,["maxOutputTokens"]);m!=null&&f(a,["maxOutputTokens"],m);const v=u(n,["stopSequences"]);v!=null&&f(a,["stopSequences"],v);const _=u(n,["responseLogprobs"]);_!=null&&f(a,["responseLogprobs"],_);const S=u(n,["logprobs"]);S!=null&&f(a,["logprobs"],S);const T=u(n,["presencePenalty"]);T!=null&&f(a,["presencePenalty"],T);const R=u(n,["frequencyPenalty"]);R!=null&&f(a,["frequencyPenalty"],R);const A=u(n,["seed"]);A!=null&&f(a,["seed"],A);const M=u(n,["responseMimeType"]);M!=null&&f(a,["responseMimeType"],M);const w=u(n,["responseSchema"]);w!=null&&f(a,["responseSchema"],Mu(w));const I=u(n,["responseJsonSchema"]);I!=null&&f(a,["responseJsonSchema"],I);const U=u(n,["routingConfig"]);U!=null&&f(a,["routingConfig"],U);const G=u(n,["modelSelectionConfig"]);G!=null&&f(a,["modelConfig"],G);const B=u(n,["safetySettings"]);if(l!==void 0&&B!=null){let V=B;Array.isArray(V)&&(V=V.map(F=>F)),f(l,["safetySettings"],V)}const K=u(n,["tools"]);if(l!==void 0&&K!=null){let V=To(K);Array.isArray(V)&&(V=V.map(F=>Gm(So(F)))),f(l,["tools"],V)}const H=u(n,["toolConfig"]);l!==void 0&&H!=null&&f(l,["toolConfig"],H);const j=u(n,["labels"]);l!==void 0&&j!=null&&f(l,["labels"],j);const Y=u(n,["cachedContent"]);l!==void 0&&Y!=null&&f(l,["cachedContent"],Ln(i,Y));const oe=u(n,["responseModalities"]);oe!=null&&f(a,["responseModalities"],oe);const ye=u(n,["mediaResolution"]);ye!=null&&f(a,["mediaResolution"],ye);const L=u(n,["speechConfig"]);L!=null&&f(a,["speechConfig"],Bm(Nu(L)));const le=u(n,["audioTimestamp"]);le!=null&&f(a,["audioTimestamp"],le);const x=u(n,["thinkingConfig"]);x!=null&&f(a,["thinkingConfig"],x);const J=u(n,["imageConfig"]);return J!=null&&f(a,["imageConfig"],TT(J)),a}function jp(i,n){const l={},a=u(n,["model"]);a!=null&&f(l,["_url","model"],Qe(i,a));const s=u(n,["contents"]);if(s!=null){let d=ln(s);Array.isArray(d)&&(d=d.map(p=>Ha(p))),f(l,["contents"],d)}const c=u(n,["config"]);return c!=null&&f(l,["generationConfig"],ZS(i,c,l)),l}function em(i,n){const l={},a=u(n,["model"]);a!=null&&f(l,["_url","model"],Qe(i,a));const s=u(n,["contents"]);if(s!=null){let d=ln(s);Array.isArray(d)&&(d=d.map(p=>p)),f(l,["contents"],d)}const c=u(n,["config"]);return c!=null&&f(l,["generationConfig"],KS(i,c,l)),l}function tm(i){const n={},l=u(i,["sdkHttpResponse"]);l!=null&&f(n,["sdkHttpResponse"],l);const a=u(i,["candidates"]);if(a!=null){let g=a;Array.isArray(g)&&(g=g.map(m=>gS(m))),f(n,["candidates"],g)}const s=u(i,["modelVersion"]);s!=null&&f(n,["modelVersion"],s);const c=u(i,["promptFeedback"]);c!=null&&f(n,["promptFeedback"],c);const d=u(i,["responseId"]);d!=null&&f(n,["responseId"],d);const p=u(i,["usageMetadata"]);return p!=null&&f(n,["usageMetadata"],p),n}function nm(i){const n={},l=u(i,["sdkHttpResponse"]);l!=null&&f(n,["sdkHttpResponse"],l);const a=u(i,["candidates"]);if(a!=null){let m=a;Array.isArray(m)&&(m=m.map(v=>v)),f(n,["candidates"],m)}const s=u(i,["createTime"]);s!=null&&f(n,["createTime"],s);const c=u(i,["modelVersion"]);c!=null&&f(n,["modelVersion"],c);const d=u(i,["promptFeedback"]);d!=null&&f(n,["promptFeedback"],d);const p=u(i,["responseId"]);p!=null&&f(n,["responseId"],p);const g=u(i,["usageMetadata"]);return g!=null&&f(n,["usageMetadata"],g),n}function XS(i,n){const l={};if(u(i,["outputGcsUri"])!==void 0)throw new Error("outputGcsUri parameter is not supported in Gemini API.");if(u(i,["negativePrompt"])!==void 0)throw new Error("negativePrompt parameter is not supported in Gemini API.");const a=u(i,["numberOfImages"]);n!==void 0&&a!=null&&f(n,["parameters","sampleCount"],a);const s=u(i,["aspectRatio"]);n!==void 0&&s!=null&&f(n,["parameters","aspectRatio"],s);const c=u(i,["guidanceScale"]);if(n!==void 0&&c!=null&&f(n,["parameters","guidanceScale"],c),u(i,["seed"])!==void 0)throw new Error("seed parameter is not supported in Gemini API.");const d=u(i,["safetyFilterLevel"]);n!==void 0&&d!=null&&f(n,["parameters","safetySetting"],d);const p=u(i,["personGeneration"]);n!==void 0&&p!=null&&f(n,["parameters","personGeneration"],p);const g=u(i,["includeSafetyAttributes"]);n!==void 0&&g!=null&&f(n,["parameters","includeSafetyAttributes"],g);const m=u(i,["includeRaiReason"]);n!==void 0&&m!=null&&f(n,["parameters","includeRaiReason"],m);const v=u(i,["language"]);n!==void 0&&v!=null&&f(n,["parameters","language"],v);const _=u(i,["outputMimeType"]);n!==void 0&&_!=null&&f(n,["parameters","outputOptions","mimeType"],_);const S=u(i,["outputCompressionQuality"]);if(n!==void 0&&S!=null&&f(n,["parameters","outputOptions","compressionQuality"],S),u(i,["addWatermark"])!==void 0)throw new Error("addWatermark parameter is not supported in Gemini API.");if(u(i,["labels"])!==void 0)throw new Error("labels parameter is not supported in Gemini API.");const T=u(i,["imageSize"]);if(n!==void 0&&T!=null&&f(n,["parameters","sampleImageSize"],T),u(i,["enhancePrompt"])!==void 0)throw new Error("enhancePrompt parameter is not supported in Gemini API.");return l}function QS(i,n){const l={},a=u(i,["outputGcsUri"]);n!==void 0&&a!=null&&f(n,["parameters","storageUri"],a);const s=u(i,["negativePrompt"]);n!==void 0&&s!=null&&f(n,["parameters","negativePrompt"],s);const c=u(i,["numberOfImages"]);n!==void 0&&c!=null&&f(n,["parameters","sampleCount"],c);const d=u(i,["aspectRatio"]);n!==void 0&&d!=null&&f(n,["parameters","aspectRatio"],d);const p=u(i,["guidanceScale"]);n!==void 0&&p!=null&&f(n,["parameters","guidanceScale"],p);const g=u(i,["seed"]);n!==void 0&&g!=null&&f(n,["parameters","seed"],g);const m=u(i,["safetyFilterLevel"]);n!==void 0&&m!=null&&f(n,["parameters","safetySetting"],m);const v=u(i,["personGeneration"]);n!==void 0&&v!=null&&f(n,["parameters","personGeneration"],v);const _=u(i,["includeSafetyAttributes"]);n!==void 0&&_!=null&&f(n,["parameters","includeSafetyAttributes"],_);const S=u(i,["includeRaiReason"]);n!==void 0&&S!=null&&f(n,["parameters","includeRaiReason"],S);const T=u(i,["language"]);n!==void 0&&T!=null&&f(n,["parameters","language"],T);const R=u(i,["outputMimeType"]);n!==void 0&&R!=null&&f(n,["parameters","outputOptions","mimeType"],R);const A=u(i,["outputCompressionQuality"]);n!==void 0&&A!=null&&f(n,["parameters","outputOptions","compressionQuality"],A);const M=u(i,["addWatermark"]);n!==void 0&&M!=null&&f(n,["parameters","addWatermark"],M);const w=u(i,["labels"]);n!==void 0&&w!=null&&f(n,["labels"],w);const I=u(i,["imageSize"]);n!==void 0&&I!=null&&f(n,["parameters","sampleImageSize"],I);const U=u(i,["enhancePrompt"]);return n!==void 0&&U!=null&&f(n,["parameters","enhancePrompt"],U),l}function WS(i,n){const l={},a=u(n,["model"]);a!=null&&f(l,["_url","model"],Qe(i,a));const s=u(n,["prompt"]);s!=null&&f(l,["instances[0]","prompt"],s);const c=u(n,["config"]);return c!=null&&XS(c,l),l}function $S(i,n){const l={},a=u(n,["model"]);a!=null&&f(l,["_url","model"],Qe(i,a));const s=u(n,["prompt"]);s!=null&&f(l,["instances[0]","prompt"],s);const c=u(n,["config"]);return c!=null&&QS(c,l),l}function jS(i){const n={},l=u(i,["sdkHttpResponse"]);l!=null&&f(n,["sdkHttpResponse"],l);const a=u(i,["predictions"]);if(a!=null){let c=a;Array.isArray(c)&&(c=c.map(d=>fT(d))),f(n,["generatedImages"],c)}const s=u(i,["positivePromptSafetyAttributes"]);return s!=null&&f(n,["positivePromptSafetyAttributes"],zm(s)),n}function eT(i){const n={},l=u(i,["sdkHttpResponse"]);l!=null&&f(n,["sdkHttpResponse"],l);const a=u(i,["predictions"]);if(a!=null){let c=a;Array.isArray(c)&&(c=c.map(d=>Pa(d))),f(n,["generatedImages"],c)}const s=u(i,["positivePromptSafetyAttributes"]);return s!=null&&f(n,["positivePromptSafetyAttributes"],Lm(s)),n}function tT(i,n){const l={},a=u(i,["numberOfVideos"]);if(n!==void 0&&a!=null&&f(n,["parameters","sampleCount"],a),u(i,["outputGcsUri"])!==void 0)throw new Error("outputGcsUri parameter is not supported in Gemini API.");if(u(i,["fps"])!==void 0)throw new Error("fps parameter is not supported in Gemini API.");const s=u(i,["durationSeconds"]);if(n!==void 0&&s!=null&&f(n,["parameters","durationSeconds"],s),u(i,["seed"])!==void 0)throw new Error("seed parameter is not supported in Gemini API.");const c=u(i,["aspectRatio"]);n!==void 0&&c!=null&&f(n,["parameters","aspectRatio"],c);const d=u(i,["resolution"]);n!==void 0&&d!=null&&f(n,["parameters","resolution"],d);const p=u(i,["personGeneration"]);if(n!==void 0&&p!=null&&f(n,["parameters","personGeneration"],p),u(i,["pubsubTopic"])!==void 0)throw new Error("pubsubTopic parameter is not supported in Gemini API.");const g=u(i,["negativePrompt"]);n!==void 0&&g!=null&&f(n,["parameters","negativePrompt"],g);const m=u(i,["enhancePrompt"]);if(n!==void 0&&m!=null&&f(n,["parameters","enhancePrompt"],m),u(i,["generateAudio"])!==void 0)throw new Error("generateAudio parameter is not supported in Gemini API.");const v=u(i,["lastFrame"]);n!==void 0&&v!=null&&f(n,["instances[0]","lastFrame"],Va(v));const _=u(i,["referenceImages"]);if(n!==void 0&&_!=null){let S=_;Array.isArray(S)&&(S=S.map(T=>iE(T))),f(n,["instances[0]","referenceImages"],S)}if(u(i,["mask"])!==void 0)throw new Error("mask parameter is not supported in Gemini API.");if(u(i,["compressionQuality"])!==void 0)throw new Error("compressionQuality parameter is not supported in Gemini API.");return l}function nT(i,n){const l={},a=u(i,["numberOfVideos"]);n!==void 0&&a!=null&&f(n,["parameters","sampleCount"],a);const s=u(i,["outputGcsUri"]);n!==void 0&&s!=null&&f(n,["parameters","storageUri"],s);const c=u(i,["fps"]);n!==void 0&&c!=null&&f(n,["parameters","fps"],c);const d=u(i,["durationSeconds"]);n!==void 0&&d!=null&&f(n,["parameters","durationSeconds"],d);const p=u(i,["seed"]);n!==void 0&&p!=null&&f(n,["parameters","seed"],p);const g=u(i,["aspectRatio"]);n!==void 0&&g!=null&&f(n,["parameters","aspectRatio"],g);const m=u(i,["resolution"]);n!==void 0&&m!=null&&f(n,["parameters","resolution"],m);const v=u(i,["personGeneration"]);n!==void 0&&v!=null&&f(n,["parameters","personGeneration"],v);const _=u(i,["pubsubTopic"]);n!==void 0&&_!=null&&f(n,["parameters","pubsubTopic"],_);const S=u(i,["negativePrompt"]);n!==void 0&&S!=null&&f(n,["parameters","negativePrompt"],S);const T=u(i,["enhancePrompt"]);n!==void 0&&T!=null&&f(n,["parameters","enhancePrompt"],T);const R=u(i,["generateAudio"]);n!==void 0&&R!=null&&f(n,["parameters","generateAudio"],R);const A=u(i,["lastFrame"]);n!==void 0&&A!=null&&f(n,["instances[0]","lastFrame"],un(A));const M=u(i,["referenceImages"]);if(n!==void 0&&M!=null){let U=M;Array.isArray(U)&&(U=U.map(G=>oE(G))),f(n,["instances[0]","referenceImages"],U)}const w=u(i,["mask"]);n!==void 0&&w!=null&&f(n,["instances[0]","mask"],nE(w));const I=u(i,["compressionQuality"]);return n!==void 0&&I!=null&&f(n,["parameters","compressionQuality"],I),l}function iT(i){const n={},l=u(i,["name"]);l!=null&&f(n,["name"],l);const a=u(i,["metadata"]);a!=null&&f(n,["metadata"],a);const s=u(i,["done"]);s!=null&&f(n,["done"],s);const c=u(i,["error"]);c!=null&&f(n,["error"],c);const d=u(i,["response","generateVideoResponse"]);return d!=null&&f(n,["response"],rT(d)),n}function oT(i){const n={},l=u(i,["name"]);l!=null&&f(n,["name"],l);const a=u(i,["metadata"]);a!=null&&f(n,["metadata"],a);const s=u(i,["done"]);s!=null&&f(n,["done"],s);const c=u(i,["error"]);c!=null&&f(n,["error"],c);const d=u(i,["response"]);return d!=null&&f(n,["response"],sT(d)),n}function lT(i,n){const l={},a=u(n,["model"]);a!=null&&f(l,["_url","model"],Qe(i,a));const s=u(n,["prompt"]);s!=null&&f(l,["instances[0]","prompt"],s);const c=u(n,["image"]);c!=null&&f(l,["instances[0]","image"],Va(c));const d=u(n,["video"]);d!=null&&f(l,["instances[0]","video"],qm(d));const p=u(n,["source"]);p!=null&&uT(p,l);const g=u(n,["config"]);return g!=null&&tT(g,l),l}function aT(i,n){const l={},a=u(n,["model"]);a!=null&&f(l,["_url","model"],Qe(i,a));const s=u(n,["prompt"]);s!=null&&f(l,["instances[0]","prompt"],s);const c=u(n,["image"]);c!=null&&f(l,["instances[0]","image"],un(c));const d=u(n,["video"]);d!=null&&f(l,["instances[0]","video"],Hm(d));const p=u(n,["source"]);p!=null&&cT(p,l);const g=u(n,["config"]);return g!=null&&nT(g,l),l}function rT(i){const n={},l=u(i,["generatedSamples"]);if(l!=null){let c=l;Array.isArray(c)&&(c=c.map(d=>hT(d))),f(n,["generatedVideos"],c)}const a=u(i,["raiMediaFilteredCount"]);a!=null&&f(n,["raiMediaFilteredCount"],a);const s=u(i,["raiMediaFilteredReasons"]);return s!=null&&f(n,["raiMediaFilteredReasons"],s),n}function sT(i){const n={},l=u(i,["videos"]);if(l!=null){let c=l;Array.isArray(c)&&(c=c.map(d=>pT(d))),f(n,["generatedVideos"],c)}const a=u(i,["raiMediaFilteredCount"]);a!=null&&f(n,["raiMediaFilteredCount"],a);const s=u(i,["raiMediaFilteredReasons"]);return s!=null&&f(n,["raiMediaFilteredReasons"],s),n}function uT(i,n){const l={},a=u(i,["prompt"]);n!==void 0&&a!=null&&f(n,["instances[0]","prompt"],a);const s=u(i,["image"]);n!==void 0&&s!=null&&f(n,["instances[0]","image"],Va(s));const c=u(i,["video"]);return n!==void 0&&c!=null&&f(n,["instances[0]","video"],qm(c)),l}function cT(i,n){const l={},a=u(i,["prompt"]);n!==void 0&&a!=null&&f(n,["instances[0]","prompt"],a);const s=u(i,["image"]);n!==void 0&&s!=null&&f(n,["instances[0]","image"],un(s));const c=u(i,["video"]);return n!==void 0&&c!=null&&f(n,["instances[0]","video"],Hm(c)),l}function fT(i){const n={},l=u(i,["_self"]);l!=null&&f(n,["image"],ET(l));const a=u(i,["raiFilteredReason"]);a!=null&&f(n,["raiFilteredReason"],a);const s=u(i,["_self"]);return s!=null&&f(n,["safetyAttributes"],zm(s)),n}function Pa(i){const n={},l=u(i,["_self"]);l!=null&&f(n,["image"],km(l));const a=u(i,["raiFilteredReason"]);a!=null&&f(n,["raiFilteredReason"],a);const s=u(i,["_self"]);s!=null&&f(n,["safetyAttributes"],Lm(s));const c=u(i,["prompt"]);return c!=null&&f(n,["enhancedPrompt"],c),n}function dT(i){const n={},l=u(i,["_self"]);l!=null&&f(n,["mask"],km(l));const a=u(i,["labels"]);if(a!=null){let s=a;Array.isArray(s)&&(s=s.map(c=>c)),f(n,["labels"],s)}return n}function hT(i){const n={},l=u(i,["video"]);return l!=null&&f(n,["video"],eE(l)),n}function pT(i){const n={},l=u(i,["_self"]);return l!=null&&f(n,["video"],tE(l)),n}function mT(i){const n={},l=u(i,["modelSelectionConfig"]);l!=null&&f(n,["modelConfig"],l);const a=u(i,["responseJsonSchema"]);a!=null&&f(n,["responseJsonSchema"],a);const s=u(i,["audioTimestamp"]);s!=null&&f(n,["audioTimestamp"],s);const c=u(i,["candidateCount"]);c!=null&&f(n,["candidateCount"],c);const d=u(i,["enableAffectiveDialog"]);d!=null&&f(n,["enableAffectiveDialog"],d);const p=u(i,["frequencyPenalty"]);p!=null&&f(n,["frequencyPenalty"],p);const g=u(i,["logprobs"]);g!=null&&f(n,["logprobs"],g);const m=u(i,["maxOutputTokens"]);m!=null&&f(n,["maxOutputTokens"],m);const v=u(i,["mediaResolution"]);v!=null&&f(n,["mediaResolution"],v);const _=u(i,["presencePenalty"]);_!=null&&f(n,["presencePenalty"],_);const S=u(i,["responseLogprobs"]);S!=null&&f(n,["responseLogprobs"],S);const T=u(i,["responseMimeType"]);T!=null&&f(n,["responseMimeType"],T);const R=u(i,["responseModalities"]);R!=null&&f(n,["responseModalities"],R);const A=u(i,["responseSchema"]);A!=null&&f(n,["responseSchema"],A);const M=u(i,["routingConfig"]);M!=null&&f(n,["routingConfig"],M);const w=u(i,["seed"]);w!=null&&f(n,["seed"],w);const I=u(i,["speechConfig"]);I!=null&&f(n,["speechConfig"],Bm(I));const U=u(i,["stopSequences"]);U!=null&&f(n,["stopSequences"],U);const G=u(i,["temperature"]);G!=null&&f(n,["temperature"],G);const B=u(i,["thinkingConfig"]);B!=null&&f(n,["thinkingConfig"],B);const K=u(i,["topK"]);K!=null&&f(n,["topK"],K);const H=u(i,["topP"]);if(H!=null&&f(n,["topP"],H),u(i,["enableEnhancedCivicAnswers"])!==void 0)throw new Error("enableEnhancedCivicAnswers parameter is not supported in Vertex AI.");return n}function gT(i,n){const l={},a=u(n,["model"]);return a!=null&&f(l,["_url","name"],Qe(i,a)),l}function yT(i,n){const l={},a=u(n,["model"]);return a!=null&&f(l,["_url","name"],Qe(i,a)),l}function vT(i){const n={};if(u(i,["authConfig"])!==void 0)throw new Error("authConfig parameter is not supported in Gemini API.");const l=u(i,["enableWidget"]);return l!=null&&f(n,["enableWidget"],l),n}function _T(i){const n={};if(u(i,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");if(u(i,["blockingConfidence"])!==void 0)throw new Error("blockingConfidence parameter is not supported in Gemini API.");const l=u(i,["timeRangeFilter"]);return l!=null&&f(n,["timeRangeFilter"],l),n}function ST(i){const n={},l=u(i,["aspectRatio"]);l!=null&&f(n,["aspectRatio"],l);const a=u(i,["imageSize"]);if(a!=null&&f(n,["imageSize"],a),u(i,["outputMimeType"])!==void 0)throw new Error("outputMimeType parameter is not supported in Gemini API.");if(u(i,["outputCompressionQuality"])!==void 0)throw new Error("outputCompressionQuality parameter is not supported in Gemini API.");return n}function TT(i){const n={},l=u(i,["aspectRatio"]);l!=null&&f(n,["aspectRatio"],l);const a=u(i,["imageSize"]);a!=null&&f(n,["imageSize"],a);const s=u(i,["outputMimeType"]);s!=null&&f(n,["imageOutputOptions","mimeType"],s);const c=u(i,["outputCompressionQuality"]);return c!=null&&f(n,["imageOutputOptions","compressionQuality"],c),n}function ET(i){const n={},l=u(i,["bytesBase64Encoded"]);l!=null&&f(n,["imageBytes"],si(l));const a=u(i,["mimeType"]);return a!=null&&f(n,["mimeType"],a),n}function km(i){const n={},l=u(i,["gcsUri"]);l!=null&&f(n,["gcsUri"],l);const a=u(i,["bytesBase64Encoded"]);a!=null&&f(n,["imageBytes"],si(a));const s=u(i,["mimeType"]);return s!=null&&f(n,["mimeType"],s),n}function Va(i){const n={};if(u(i,["gcsUri"])!==void 0)throw new Error("gcsUri parameter is not supported in Gemini API.");const l=u(i,["imageBytes"]);l!=null&&f(n,["bytesBase64Encoded"],si(l));const a=u(i,["mimeType"]);return a!=null&&f(n,["mimeType"],a),n}function un(i){const n={},l=u(i,["gcsUri"]);l!=null&&f(n,["gcsUri"],l);const a=u(i,["imageBytes"]);a!=null&&f(n,["bytesBase64Encoded"],si(a));const s=u(i,["mimeType"]);return s!=null&&f(n,["mimeType"],s),n}function CT(i,n,l){const a={},s=u(n,["pageSize"]);l!==void 0&&s!=null&&f(l,["_query","pageSize"],s);const c=u(n,["pageToken"]);l!==void 0&&c!=null&&f(l,["_query","pageToken"],c);const d=u(n,["filter"]);l!==void 0&&d!=null&&f(l,["_query","filter"],d);const p=u(n,["queryBase"]);return l!==void 0&&p!=null&&f(l,["_url","models_url"],wm(i,p)),a}function AT(i,n,l){const a={},s=u(n,["pageSize"]);l!==void 0&&s!=null&&f(l,["_query","pageSize"],s);const c=u(n,["pageToken"]);l!==void 0&&c!=null&&f(l,["_query","pageToken"],c);const d=u(n,["filter"]);l!==void 0&&d!=null&&f(l,["_query","filter"],d);const p=u(n,["queryBase"]);return l!==void 0&&p!=null&&f(l,["_url","models_url"],wm(i,p)),a}function xT(i,n){const l={},a=u(n,["config"]);return a!=null&&CT(i,a,l),l}function wT(i,n){const l={},a=u(n,["config"]);return a!=null&&AT(i,a,l),l}function RT(i){const n={},l=u(i,["sdkHttpResponse"]);l!=null&&f(n,["sdkHttpResponse"],l);const a=u(i,["nextPageToken"]);a!=null&&f(n,["nextPageToken"],a);const s=u(i,["_self"]);if(s!=null){let c=Rm(s);Array.isArray(c)&&(c=c.map(d=>vu(d))),f(n,["models"],c)}return n}function bT(i){const n={},l=u(i,["sdkHttpResponse"]);l!=null&&f(n,["sdkHttpResponse"],l);const a=u(i,["nextPageToken"]);a!=null&&f(n,["nextPageToken"],a);const s=u(i,["_self"]);if(s!=null){let c=Rm(s);Array.isArray(c)&&(c=c.map(d=>_u(d))),f(n,["models"],c)}return n}function MT(i){const n={},l=u(i,["maskMode"]);l!=null&&f(n,["maskMode"],l);const a=u(i,["segmentationClasses"]);a!=null&&f(n,["maskClasses"],a);const s=u(i,["maskDilation"]);return s!=null&&f(n,["dilation"],s),n}function vu(i){const n={},l=u(i,["name"]);l!=null&&f(n,["name"],l);const a=u(i,["displayName"]);a!=null&&f(n,["displayName"],a);const s=u(i,["description"]);s!=null&&f(n,["description"],s);const c=u(i,["version"]);c!=null&&f(n,["version"],c);const d=u(i,["_self"]);d!=null&&f(n,["tunedModelInfo"],YT(d));const p=u(i,["inputTokenLimit"]);p!=null&&f(n,["inputTokenLimit"],p);const g=u(i,["outputTokenLimit"]);g!=null&&f(n,["outputTokenLimit"],g);const m=u(i,["supportedGenerationMethods"]);m!=null&&f(n,["supportedActions"],m);const v=u(i,["temperature"]);v!=null&&f(n,["temperature"],v);const _=u(i,["maxTemperature"]);_!=null&&f(n,["maxTemperature"],_);const S=u(i,["topP"]);S!=null&&f(n,["topP"],S);const T=u(i,["topK"]);T!=null&&f(n,["topK"],T);const R=u(i,["thinking"]);return R!=null&&f(n,["thinking"],R),n}function _u(i){const n={},l=u(i,["name"]);l!=null&&f(n,["name"],l);const a=u(i,["displayName"]);a!=null&&f(n,["displayName"],a);const s=u(i,["description"]);s!=null&&f(n,["description"],s);const c=u(i,["versionId"]);c!=null&&f(n,["version"],c);const d=u(i,["deployedModels"]);if(d!=null){let _=d;Array.isArray(_)&&(_=_.map(S=>VS(S))),f(n,["endpoints"],_)}const p=u(i,["labels"]);p!=null&&f(n,["labels"],p);const g=u(i,["_self"]);g!=null&&f(n,["tunedModelInfo"],JT(g));const m=u(i,["defaultCheckpointId"]);m!=null&&f(n,["defaultCheckpointId"],m);const v=u(i,["checkpoints"]);if(v!=null){let _=v;Array.isArray(_)&&(_=_.map(S=>S)),f(n,["checkpoints"],_)}return n}function NT(i){const n={},l=u(i,["mediaResolution"]);l!=null&&f(n,["mediaResolution"],l);const a=u(i,["codeExecutionResult"]);a!=null&&f(n,["codeExecutionResult"],a);const s=u(i,["executableCode"]);s!=null&&f(n,["executableCode"],s);const c=u(i,["fileData"]);c!=null&&f(n,["fileData"],FS(c));const d=u(i,["functionCall"]);d!=null&&f(n,["functionCall"],OS(d));const p=u(i,["functionResponse"]);p!=null&&f(n,["functionResponse"],p);const g=u(i,["inlineData"]);g!=null&&f(n,["inlineData"],mS(g));const m=u(i,["text"]);m!=null&&f(n,["text"],m);const v=u(i,["thought"]);v!=null&&f(n,["thought"],v);const _=u(i,["thoughtSignature"]);_!=null&&f(n,["thoughtSignature"],_);const S=u(i,["videoMetadata"]);return S!=null&&f(n,["videoMetadata"],S),n}function IT(i){const n={},l=u(i,["productImage"]);return l!=null&&f(n,["image"],un(l)),n}function DT(i,n){const l={},a=u(i,["numberOfImages"]);n!==void 0&&a!=null&&f(n,["parameters","sampleCount"],a);const s=u(i,["baseSteps"]);n!==void 0&&s!=null&&f(n,["parameters","baseSteps"],s);const c=u(i,["outputGcsUri"]);n!==void 0&&c!=null&&f(n,["parameters","storageUri"],c);const d=u(i,["seed"]);n!==void 0&&d!=null&&f(n,["parameters","seed"],d);const p=u(i,["safetyFilterLevel"]);n!==void 0&&p!=null&&f(n,["parameters","safetySetting"],p);const g=u(i,["personGeneration"]);n!==void 0&&g!=null&&f(n,["parameters","personGeneration"],g);const m=u(i,["addWatermark"]);n!==void 0&&m!=null&&f(n,["parameters","addWatermark"],m);const v=u(i,["outputMimeType"]);n!==void 0&&v!=null&&f(n,["parameters","outputOptions","mimeType"],v);const _=u(i,["outputCompressionQuality"]);n!==void 0&&_!=null&&f(n,["parameters","outputOptions","compressionQuality"],_);const S=u(i,["enhancePrompt"]);n!==void 0&&S!=null&&f(n,["parameters","enhancePrompt"],S);const T=u(i,["labels"]);return n!==void 0&&T!=null&&f(n,["labels"],T),l}function UT(i,n){const l={},a=u(n,["model"]);a!=null&&f(l,["_url","model"],Qe(i,a));const s=u(n,["source"]);s!=null&&zT(s,l);const c=u(n,["config"]);return c!=null&&DT(c,l),l}function kT(i){const n={},l=u(i,["predictions"]);if(l!=null){let a=l;Array.isArray(a)&&(a=a.map(s=>Pa(s))),f(n,["generatedImages"],a)}return n}function zT(i,n){const l={},a=u(i,["prompt"]);n!==void 0&&a!=null&&f(n,["instances[0]","prompt"],a);const s=u(i,["personImage"]);n!==void 0&&s!=null&&f(n,["instances[0]","personImage","image"],un(s));const c=u(i,["productImages"]);if(n!==void 0&&c!=null){let d=c;Array.isArray(d)&&(d=d.map(p=>IT(p))),f(n,["instances[0]","productImages"],d)}return l}function LT(i){const n={},l=u(i,["referenceImage"]);l!=null&&f(n,["referenceImage"],un(l));const a=u(i,["referenceId"]);a!=null&&f(n,["referenceId"],a);const s=u(i,["referenceType"]);s!=null&&f(n,["referenceType"],s);const c=u(i,["maskImageConfig"]);c!=null&&f(n,["maskImageConfig"],MT(c));const d=u(i,["controlImageConfig"]);d!=null&&f(n,["controlImageConfig"],ES(d));const p=u(i,["styleImageConfig"]);p!=null&&f(n,["styleImageConfig"],p);const g=u(i,["subjectImageConfig"]);return g!=null&&f(n,["subjectImageConfig"],g),n}function zm(i){const n={},l=u(i,["safetyAttributes","categories"]);l!=null&&f(n,["categories"],l);const a=u(i,["safetyAttributes","scores"]);a!=null&&f(n,["scores"],a);const s=u(i,["contentType"]);return s!=null&&f(n,["contentType"],s),n}function Lm(i){const n={},l=u(i,["safetyAttributes","categories"]);l!=null&&f(n,["categories"],l);const a=u(i,["safetyAttributes","scores"]);a!=null&&f(n,["scores"],a);const s=u(i,["contentType"]);return s!=null&&f(n,["contentType"],s),n}function BT(i){const n={},l=u(i,["category"]);if(l!=null&&f(n,["category"],l),u(i,["method"])!==void 0)throw new Error("method parameter is not supported in Gemini API.");const a=u(i,["threshold"]);return a!=null&&f(n,["threshold"],a),n}function GT(i){const n={},l=u(i,["image"]);return l!=null&&f(n,["image"],un(l)),n}function qT(i,n){const l={},a=u(i,["mode"]);n!==void 0&&a!=null&&f(n,["parameters","mode"],a);const s=u(i,["maxPredictions"]);n!==void 0&&s!=null&&f(n,["parameters","maxPredictions"],s);const c=u(i,["confidenceThreshold"]);n!==void 0&&c!=null&&f(n,["parameters","confidenceThreshold"],c);const d=u(i,["maskDilation"]);n!==void 0&&d!=null&&f(n,["parameters","maskDilation"],d);const p=u(i,["binaryColorThreshold"]);n!==void 0&&p!=null&&f(n,["parameters","binaryColorThreshold"],p);const g=u(i,["labels"]);return n!==void 0&&g!=null&&f(n,["labels"],g),l}function HT(i,n){const l={},a=u(n,["model"]);a!=null&&f(l,["_url","model"],Qe(i,a));const s=u(n,["source"]);s!=null&&VT(s,l);const c=u(n,["config"]);return c!=null&&qT(c,l),l}function PT(i){const n={},l=u(i,["predictions"]);if(l!=null){let a=l;Array.isArray(a)&&(a=a.map(s=>dT(s))),f(n,["generatedMasks"],a)}return n}function VT(i,n){const l={},a=u(i,["prompt"]);n!==void 0&&a!=null&&f(n,["instances[0]","prompt"],a);const s=u(i,["image"]);n!==void 0&&s!=null&&f(n,["instances[0]","image"],un(s));const c=u(i,["scribbleImage"]);return n!==void 0&&c!=null&&f(n,["instances[0]","scribble"],GT(c)),l}function Bm(i){const n={},l=u(i,["languageCode"]);l!=null&&f(n,["languageCode"],l);const a=u(i,["voiceConfig"]);if(a!=null&&f(n,["voiceConfig"],a),u(i,["multiSpeakerVoiceConfig"])!==void 0)throw new Error("multiSpeakerVoiceConfig parameter is not supported in Vertex AI.");return n}function FT(i){const n={},l=u(i,["functionCallingConfig"]);l!=null&&f(n,["functionCallingConfig"],YS(l));const a=u(i,["retrievalConfig"]);return a!=null&&f(n,["retrievalConfig"],a),n}function OT(i){const n={},l=u(i,["functionDeclarations"]);if(l!=null){let v=l;Array.isArray(v)&&(v=v.map(_=>_)),f(n,["functionDeclarations"],v)}if(u(i,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const a=u(i,["googleSearchRetrieval"]);a!=null&&f(n,["googleSearchRetrieval"],a);const s=u(i,["computerUse"]);s!=null&&f(n,["computerUse"],s);const c=u(i,["fileSearch"]);c!=null&&f(n,["fileSearch"],c);const d=u(i,["codeExecution"]);if(d!=null&&f(n,["codeExecution"],d),u(i,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");const p=u(i,["googleMaps"]);p!=null&&f(n,["googleMaps"],vT(p));const g=u(i,["googleSearch"]);g!=null&&f(n,["googleSearch"],_T(g));const m=u(i,["urlContext"]);return m!=null&&f(n,["urlContext"],m),n}function Gm(i){const n={},l=u(i,["functionDeclarations"]);if(l!=null){let _=l;Array.isArray(_)&&(_=_.map(S=>JS(S))),f(n,["functionDeclarations"],_)}const a=u(i,["retrieval"]);a!=null&&f(n,["retrieval"],a);const s=u(i,["googleSearchRetrieval"]);s!=null&&f(n,["googleSearchRetrieval"],s);const c=u(i,["computerUse"]);if(c!=null&&f(n,["computerUse"],c),u(i,["fileSearch"])!==void 0)throw new Error("fileSearch parameter is not supported in Vertex AI.");const d=u(i,["codeExecution"]);d!=null&&f(n,["codeExecution"],d);const p=u(i,["enterpriseWebSearch"]);p!=null&&f(n,["enterpriseWebSearch"],p);const g=u(i,["googleMaps"]);g!=null&&f(n,["googleMaps"],g);const m=u(i,["googleSearch"]);m!=null&&f(n,["googleSearch"],m);const v=u(i,["urlContext"]);return v!=null&&f(n,["urlContext"],v),n}function YT(i){const n={},l=u(i,["baseModel"]);l!=null&&f(n,["baseModel"],l);const a=u(i,["createTime"]);a!=null&&f(n,["createTime"],a);const s=u(i,["updateTime"]);return s!=null&&f(n,["updateTime"],s),n}function JT(i){const n={},l=u(i,["labels","google-vertex-llm-tuning-base-model-id"]);l!=null&&f(n,["baseModel"],l);const a=u(i,["createTime"]);a!=null&&f(n,["createTime"],a);const s=u(i,["updateTime"]);return s!=null&&f(n,["updateTime"],s),n}function ZT(i,n){const l={},a=u(i,["displayName"]);n!==void 0&&a!=null&&f(n,["displayName"],a);const s=u(i,["description"]);n!==void 0&&s!=null&&f(n,["description"],s);const c=u(i,["defaultCheckpointId"]);return n!==void 0&&c!=null&&f(n,["defaultCheckpointId"],c),l}function KT(i,n){const l={},a=u(i,["displayName"]);n!==void 0&&a!=null&&f(n,["displayName"],a);const s=u(i,["description"]);n!==void 0&&s!=null&&f(n,["description"],s);const c=u(i,["defaultCheckpointId"]);return n!==void 0&&c!=null&&f(n,["defaultCheckpointId"],c),l}function XT(i,n){const l={},a=u(n,["model"]);a!=null&&f(l,["_url","name"],Qe(i,a));const s=u(n,["config"]);return s!=null&&ZT(s,l),l}function QT(i,n){const l={},a=u(n,["model"]);a!=null&&f(l,["_url","model"],Qe(i,a));const s=u(n,["config"]);return s!=null&&KT(s,l),l}function WT(i,n){const l={},a=u(i,["outputGcsUri"]);n!==void 0&&a!=null&&f(n,["parameters","storageUri"],a);const s=u(i,["safetyFilterLevel"]);n!==void 0&&s!=null&&f(n,["parameters","safetySetting"],s);const c=u(i,["personGeneration"]);n!==void 0&&c!=null&&f(n,["parameters","personGeneration"],c);const d=u(i,["includeRaiReason"]);n!==void 0&&d!=null&&f(n,["parameters","includeRaiReason"],d);const p=u(i,["outputMimeType"]);n!==void 0&&p!=null&&f(n,["parameters","outputOptions","mimeType"],p);const g=u(i,["outputCompressionQuality"]);n!==void 0&&g!=null&&f(n,["parameters","outputOptions","compressionQuality"],g);const m=u(i,["enhanceInputImage"]);n!==void 0&&m!=null&&f(n,["parameters","upscaleConfig","enhanceInputImage"],m);const v=u(i,["imagePreservationFactor"]);n!==void 0&&v!=null&&f(n,["parameters","upscaleConfig","imagePreservationFactor"],v);const _=u(i,["labels"]);n!==void 0&&_!=null&&f(n,["labels"],_);const S=u(i,["numberOfImages"]);n!==void 0&&S!=null&&f(n,["parameters","sampleCount"],S);const T=u(i,["mode"]);return n!==void 0&&T!=null&&f(n,["parameters","mode"],T),l}function $T(i,n){const l={},a=u(n,["model"]);a!=null&&f(l,["_url","model"],Qe(i,a));const s=u(n,["image"]);s!=null&&f(l,["instances[0]","image"],un(s));const c=u(n,["upscaleFactor"]);c!=null&&f(l,["parameters","upscaleConfig","upscaleFactor"],c);const d=u(n,["config"]);return d!=null&&WT(d,l),l}function jT(i){const n={},l=u(i,["sdkHttpResponse"]);l!=null&&f(n,["sdkHttpResponse"],l);const a=u(i,["predictions"]);if(a!=null){let s=a;Array.isArray(s)&&(s=s.map(c=>Pa(c))),f(n,["generatedImages"],s)}return n}function eE(i){const n={},l=u(i,["uri"]);l!=null&&f(n,["uri"],l);const a=u(i,["encodedVideo"]);a!=null&&f(n,["videoBytes"],si(a));const s=u(i,["encoding"]);return s!=null&&f(n,["mimeType"],s),n}function tE(i){const n={},l=u(i,["gcsUri"]);l!=null&&f(n,["uri"],l);const a=u(i,["bytesBase64Encoded"]);a!=null&&f(n,["videoBytes"],si(a));const s=u(i,["mimeType"]);return s!=null&&f(n,["mimeType"],s),n}function nE(i){const n={},l=u(i,["image"]);l!=null&&f(n,["_self"],un(l));const a=u(i,["maskMode"]);return a!=null&&f(n,["maskMode"],a),n}function iE(i){const n={},l=u(i,["image"]);l!=null&&f(n,["image"],Va(l));const a=u(i,["referenceType"]);return a!=null&&f(n,["referenceType"],a),n}function oE(i){const n={},l=u(i,["image"]);l!=null&&f(n,["image"],un(l));const a=u(i,["referenceType"]);return a!=null&&f(n,["referenceType"],a),n}function qm(i){const n={},l=u(i,["uri"]);l!=null&&f(n,["uri"],l);const a=u(i,["videoBytes"]);a!=null&&f(n,["encodedVideo"],si(a));const s=u(i,["mimeType"]);return s!=null&&f(n,["encoding"],s),n}function Hm(i){const n={},l=u(i,["uri"]);l!=null&&f(n,["gcsUri"],l);const a=u(i,["videoBytes"]);a!=null&&f(n,["bytesBase64Encoded"],si(a));const s=u(i,["mimeType"]);return s!=null&&f(n,["mimeType"],s),n}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const lE="Content-Type",aE="X-Server-Timeout",rE="User-Agent",Su="x-goog-api-client",sE="1.30.0",uE=`google-genai-sdk/${sE}`,cE="v1beta1",fE="v1beta",im=/^\s*data: (.*)(?:\n\n|\r\r|\r\n\r\n)/;class dE{constructor(n){var l,a;this.clientOptions=Object.assign(Object.assign({},n),{project:n.project,location:n.location,apiKey:n.apiKey,vertexai:n.vertexai});const s={};this.clientOptions.vertexai?(s.apiVersion=(l=this.clientOptions.apiVersion)!==null&&l!==void 0?l:cE,s.baseUrl=this.baseUrlFromProjectLocation(),this.normalizeAuthParameters()):(s.apiVersion=(a=this.clientOptions.apiVersion)!==null&&a!==void 0?a:fE,s.baseUrl="https://generativelanguage.googleapis.com/"),s.headers=this.getDefaultHeaders(),this.clientOptions.httpOptions=s,n.httpOptions&&(this.clientOptions.httpOptions=this.patchHttpOptions(s,n.httpOptions))}baseUrlFromProjectLocation(){return this.clientOptions.project&&this.clientOptions.location&&this.clientOptions.location!=="global"?`https://${this.clientOptions.location}-aiplatform.googleapis.com/`:"https://aiplatform.googleapis.com/"}normalizeAuthParameters(){if(this.clientOptions.project&&this.clientOptions.location){this.clientOptions.apiKey=void 0;return}this.clientOptions.project=void 0,this.clientOptions.location=void 0}isVertexAI(){var n;return(n=this.clientOptions.vertexai)!==null&&n!==void 0?n:!1}getProject(){return this.clientOptions.project}getLocation(){return this.clientOptions.location}getApiVersion(){if(this.clientOptions.httpOptions&&this.clientOptions.httpOptions.apiVersion!==void 0)return this.clientOptions.httpOptions.apiVersion;throw new Error("API version is not set.")}getBaseUrl(){if(this.clientOptions.httpOptions&&this.clientOptions.httpOptions.baseUrl!==void 0)return this.clientOptions.httpOptions.baseUrl;throw new Error("Base URL is not set.")}getRequestUrl(){return this.getRequestUrlInternal(this.clientOptions.httpOptions)}getHeaders(){if(this.clientOptions.httpOptions&&this.clientOptions.httpOptions.headers!==void 0)return this.clientOptions.httpOptions.headers;throw new Error("Headers are not set.")}getRequestUrlInternal(n){if(!n||n.baseUrl===void 0||n.apiVersion===void 0)throw new Error("HTTP options are not correctly set.");const a=[n.baseUrl.endsWith("/")?n.baseUrl.slice(0,-1):n.baseUrl];return n.apiVersion&&n.apiVersion!==""&&a.push(n.apiVersion),a.join("/")}getBaseResourcePath(){return`projects/${this.clientOptions.project}/locations/${this.clientOptions.location}`}getApiKey(){return this.clientOptions.apiKey}getWebsocketBaseUrl(){const n=this.getBaseUrl(),l=new URL(n);return l.protocol=l.protocol=="http:"?"ws":"wss",l.toString()}setBaseUrl(n){if(this.clientOptions.httpOptions)this.clientOptions.httpOptions.baseUrl=n;else throw new Error("HTTP options are not correctly set.")}constructUrl(n,l,a){const s=[this.getRequestUrlInternal(l)];return a&&s.push(this.getBaseResourcePath()),n!==""&&s.push(n),new URL(`${s.join("/")}`)}shouldPrependVertexProjectPath(n){return!(this.clientOptions.apiKey||!this.clientOptions.vertexai||n.path.startsWith("projects/")||n.httpMethod==="GET"&&n.path.startsWith("publishers/google/models"))}async request(n){let l=this.clientOptions.httpOptions;n.httpOptions&&(l=this.patchHttpOptions(this.clientOptions.httpOptions,n.httpOptions));const a=this.shouldPrependVertexProjectPath(n),s=this.constructUrl(n.path,l,a);if(n.queryParams)for(const[d,p]of Object.entries(n.queryParams))s.searchParams.append(d,String(p));let c={};if(n.httpMethod==="GET"){if(n.body&&n.body!=="{}")throw new Error("Request body should be empty for GET request, but got non empty request body")}else c.body=n.body;return c=await this.includeExtraHttpOptionsToRequestInit(c,l,s.toString(),n.abortSignal),this.unaryApiCall(s,c,n.httpMethod)}patchHttpOptions(n,l){const a=JSON.parse(JSON.stringify(n));for(const[s,c]of Object.entries(l))typeof c=="object"?a[s]=Object.assign(Object.assign({},a[s]),c):c!==void 0&&(a[s]=c);return a}async requestStream(n){let l=this.clientOptions.httpOptions;n.httpOptions&&(l=this.patchHttpOptions(this.clientOptions.httpOptions,n.httpOptions));const a=this.shouldPrependVertexProjectPath(n),s=this.constructUrl(n.path,l,a);(!s.searchParams.has("alt")||s.searchParams.get("alt")!=="sse")&&s.searchParams.set("alt","sse");let c={};return c.body=n.body,c=await this.includeExtraHttpOptionsToRequestInit(c,l,s.toString(),n.abortSignal),this.streamApiCall(s,c,n.httpMethod)}async includeExtraHttpOptionsToRequestInit(n,l,a,s){if(l&&l.timeout||s){const c=new AbortController,d=c.signal;if(l.timeout&&(l==null?void 0:l.timeout)>0){const p=setTimeout(()=>c.abort(),l.timeout);p&&typeof p.unref=="function"&&p.unref()}s&&s.addEventListener("abort",()=>{c.abort()}),n.signal=d}return l&&l.extraBody!==null&&hE(n,l.extraBody),n.headers=await this.getHeadersInternal(l,a),n}async unaryApiCall(n,l,a){return this.apiCall(n.toString(),Object.assign(Object.assign({},l),{method:a})).then(async s=>(await om(s),new mu(s))).catch(s=>{throw s instanceof Error?s:new Error(JSON.stringify(s))})}async streamApiCall(n,l,a){return this.apiCall(n.toString(),Object.assign(Object.assign({},l),{method:a})).then(async s=>(await om(s),this.processStreamResponse(s))).catch(s=>{throw s instanceof Error?s:new Error(JSON.stringify(s))})}processStreamResponse(n){var l;return yo(this,arguments,function*(){const s=(l=n==null?void 0:n.body)===null||l===void 0?void 0:l.getReader(),c=new TextDecoder("utf-8");if(!s)throw new Error("Response body is empty");try{let d="";for(;;){const{done:p,value:g}=yield st(s.read());if(p){if(d.trim().length>0)throw new Error("Incomplete JSON segment at the end");break}const m=c.decode(g,{stream:!0});try{const _=JSON.parse(m);if("error"in _){const S=JSON.parse(JSON.stringify(_.error)),T=S.status,R=S.code,A=`got status: ${T}. ${JSON.stringify(_)}`;if(R>=400&&R<600)throw new qa({message:A,status:R})}}catch(_){if(_.name==="ApiError")throw _}d+=m;let v=d.match(im);for(;v;){const _=v[1];try{const S=new Response(_,{headers:n==null?void 0:n.headers,status:n==null?void 0:n.status,statusText:n==null?void 0:n.statusText});yield yield st(new mu(S)),d=d.slice(v[0].length),v=d.match(im)}catch(S){throw new Error(`exception parsing stream chunk ${_}. ${S}`)}}}}finally{s.releaseLock()}})}async apiCall(n,l){return fetch(n,l).catch(a=>{throw new Error(`exception ${a} sending request`)})}getDefaultHeaders(){const n={},l=uE+" "+this.clientOptions.userAgentExtra;return n[rE]=l,n[Su]=l,n[lE]="application/json",n}async getHeadersInternal(n,l){const a=new Headers;if(n&&n.headers){for(const[s,c]of Object.entries(n.headers))a.append(s,c);n.timeout&&n.timeout>0&&a.append(aE,String(Math.ceil(n.timeout/1e3)))}return await this.clientOptions.auth.addAuthHeaders(a,l),a}getFileName(n){var l;let a="";return typeof n=="string"&&(a=n.replace(/[/\\]+$/,""),a=(l=a.split(/[/\\]/).pop())!==null&&l!==void 0?l:""),a}async uploadFile(n,l){var a;const s={};l!=null&&(s.mimeType=l.mimeType,s.name=l.name,s.displayName=l.displayName),s.name&&!s.name.startsWith("files/")&&(s.name=`files/${s.name}`);const c=this.clientOptions.uploader,d=await c.stat(n);s.sizeBytes=String(d.size);const p=(a=l==null?void 0:l.mimeType)!==null&&a!==void 0?a:d.type;if(p===void 0||p==="")throw new Error("Can not determine mimeType. Please provide mimeType in the config.");s.mimeType=p;const g={file:s},m=this.getFileName(n),v=Ee("upload/v1beta/files",g._url),_=await this.fetchUploadUrl(v,s.sizeBytes,s.mimeType,m,g,l==null?void 0:l.httpOptions);return c.upload(n,_,this)}async uploadFileToFileSearchStore(n,l,a){var s;const c=this.clientOptions.uploader,d=await c.stat(l),p=String(d.size),g=(s=a==null?void 0:a.mimeType)!==null&&s!==void 0?s:d.type;if(g===void 0||g==="")throw new Error("Can not determine mimeType. Please provide mimeType in the config.");const m=`upload/v1beta/${n}:uploadToFileSearchStore`,v=this.getFileName(l),_={};a!=null&&a.customMetadata&&(_.customMetadata=a.customMetadata),a!=null&&a.chunkingConfig&&(_.chunkingConfig=a.chunkingConfig);const S=await this.fetchUploadUrl(m,p,g,v,_,a==null?void 0:a.httpOptions);return c.uploadToFileSearchStore(l,S,this)}async downloadFile(n){await this.clientOptions.downloader.download(n,this)}async fetchUploadUrl(n,l,a,s,c,d){var p;let g={};d?g=d:g={apiVersion:"",headers:Object.assign({"Content-Type":"application/json","X-Goog-Upload-Protocol":"resumable","X-Goog-Upload-Command":"start","X-Goog-Upload-Header-Content-Length":`${l}`,"X-Goog-Upload-Header-Content-Type":`${a}`},s?{"X-Goog-Upload-File-Name":s}:{})};const m=await this.request({path:n,body:JSON.stringify(c),httpMethod:"POST",httpOptions:g});if(!m||!(m!=null&&m.headers))throw new Error("Server did not return an HttpResponse or the returned HttpResponse did not have headers.");const v=(p=m==null?void 0:m.headers)===null||p===void 0?void 0:p["x-goog-upload-url"];if(v===void 0)throw new Error("Failed to get upload url. Server did not return the x-google-upload-url in the headers");return v}}async function om(i){var n;if(i===void 0)throw new Error("response is undefined");if(!i.ok){const l=i.status;let a;!((n=i.headers.get("content-type"))===null||n===void 0)&&n.includes("application/json")?a=await i.json():a={error:{message:await i.text(),code:i.status,status:i.statusText}};const s=JSON.stringify(a);throw l>=400&&l<600?new qa({message:s,status:l}):new Error(s)}}function hE(i,n){if(!n||Object.keys(n).length===0)return;if(i.body instanceof Blob){console.warn("includeExtraBodyToRequestInit: extraBody provided but current request body is a Blob. extraBody will be ignored as merging is not supported for Blob bodies.");return}let l={};if(typeof i.body=="string"&&i.body.length>0)try{const c=JSON.parse(i.body);if(typeof c=="object"&&c!==null&&!Array.isArray(c))l=c;else{console.warn("includeExtraBodyToRequestInit: Original request body is valid JSON but not a non-array object. Skip applying extraBody to the request body.");return}}catch{console.warn("includeExtraBodyToRequestInit: Original request body is not valid JSON. Skip applying extraBody to the request body.");return}function a(c,d){const p=Object.assign({},c);for(const g in d)if(Object.prototype.hasOwnProperty.call(d,g)){const m=d[g],v=p[g];m&&typeof m=="object"&&!Array.isArray(m)&&v&&typeof v=="object"&&!Array.isArray(v)?p[g]=a(v,m):(v&&m&&typeof v!=typeof m&&console.warn(`includeExtraBodyToRequestInit:deepMerge: Type mismatch for key "${g}". Original type: ${typeof v}, New type: ${typeof m}. Overwriting.`),p[g]=m)}return p}const s=a(l,n);i.body=JSON.stringify(s)}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const pE="mcp_used/unknown";let mE=!1;function Pm(i){for(const n of i)if(gE(n)||typeof n=="object"&&"inputSchema"in n)return!0;return mE}function Vm(i){var n;const l=(n=i[Su])!==null&&n!==void 0?n:"";i[Su]=(l+` ${pE}`).trimStart()}function gE(i){return i!==null&&typeof i=="object"&&i instanceof Du}function yE(i,n=100){return yo(this,arguments,function*(){let a,s=0;for(;s<n;){const c=yield st(i.listTools({cursor:a}));for(const d of c.tools)yield yield st(d),s++;if(!c.nextCursor)break;a=c.nextCursor}})}class Du{constructor(n=[],l){this.mcpTools=[],this.functionNameToMcpClient={},this.mcpClients=n,this.config=l}static create(n,l){return new Du(n,l)}async initialize(){var n,l,a,s;if(this.mcpTools.length>0)return;const c={},d=[];for(const v of this.mcpClients)try{for(var p=!0,g=(l=void 0,yl(yE(v))),m;m=await g.next(),n=m.done,!n;p=!0){s=m.value,p=!1;const _=s;d.push(_);const S=_.name;if(c[S])throw new Error(`Duplicate function name ${S} found in MCP tools. Please ensure function names are unique.`);c[S]=v}}catch(_){l={error:_}}finally{try{!p&&!n&&(a=g.return)&&await a.call(g)}finally{if(l)throw l.error}}this.mcpTools=d,this.functionNameToMcpClient=c}async tool(){return await this.initialize(),uv(this.mcpTools,this.config)}async callTool(n){await this.initialize();const l=[];for(const a of n)if(a.name in this.functionNameToMcpClient){const s=this.functionNameToMcpClient[a.name];let c;this.config.timeout&&(c={timeout:this.config.timeout});const d=await s.callTool({name:a.name,arguments:a.args},void 0,c);l.push({functionResponse:{name:a.name,response:d.isError?{error:d}:d}})}return l}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */async function vE(i,n,l){const a=new tv;let s;l.data instanceof Blob?s=JSON.parse(await l.data.text()):s=JSON.parse(l.data),Object.assign(a,s),n(a)}class _E{constructor(n,l,a){this.apiClient=n,this.auth=l,this.webSocketFactory=a}async connect(n){var l,a;if(this.apiClient.isVertexAI())throw new Error("Live music is not supported for Vertex AI.");console.warn("Live music generation is experimental and may change in future versions.");const s=this.apiClient.getWebsocketBaseUrl(),c=this.apiClient.getApiVersion(),d=EE(this.apiClient.getDefaultHeaders()),p=this.apiClient.getApiKey(),g=`${s}/ws/google.ai.generativelanguage.${c}.GenerativeService.BidiGenerateMusic?key=${p}`;let m=()=>{};const v=new Promise(U=>{m=U}),_=n.callbacks,S=function(){m({})},T=this.apiClient,R={onopen:S,onmessage:U=>{vE(T,_.onmessage,U)},onerror:(l=_==null?void 0:_.onerror)!==null&&l!==void 0?l:function(U){},onclose:(a=_==null?void 0:_.onclose)!==null&&a!==void 0?a:function(U){}},A=this.webSocketFactory.create(g,TE(d),R);A.connect(),await v;const I={setup:{model:Qe(this.apiClient,n.model)}};return A.send(JSON.stringify(I)),new SE(A,this.apiClient)}}class SE{constructor(n,l){this.conn=n,this.apiClient=l}async setWeightedPrompts(n){if(!n.weightedPrompts||Object.keys(n.weightedPrompts).length===0)throw new Error("Weighted prompts must be set and contain at least one entry.");const l=aS(n);this.conn.send(JSON.stringify({clientContent:l}))}async setMusicGenerationConfig(n){n.musicGenerationConfig||(n.musicGenerationConfig={});const l=lS(n);this.conn.send(JSON.stringify(l))}sendPlaybackControl(n){const l={playbackControl:n};this.conn.send(JSON.stringify(l))}play(){this.sendPlaybackControl(mo.PLAY)}pause(){this.sendPlaybackControl(mo.PAUSE)}stop(){this.sendPlaybackControl(mo.STOP)}resetContext(){this.sendPlaybackControl(mo.RESET_CONTEXT)}close(){this.conn.close()}}function TE(i){const n={};return i.forEach((l,a)=>{n[a]=l}),n}function EE(i){const n=new Headers;for(const[l,a]of Object.entries(i))n.append(l,a);return n}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const CE="FunctionResponse request must have an `id` field from the response of a ToolCall.FunctionalCalls in Google AI.";async function AE(i,n,l){const a=new ev;let s;l.data instanceof Blob?s=await l.data.text():l.data instanceof ArrayBuffer?s=new TextDecoder().decode(l.data):s=l.data;const c=JSON.parse(s);if(i.isVertexAI()){const d=uS(c);Object.assign(a,d)}else Object.assign(a,c);n(a)}class xE{constructor(n,l,a){this.apiClient=n,this.auth=l,this.webSocketFactory=a,this.music=new _E(this.apiClient,this.auth,this.webSocketFactory)}async connect(n){var l,a,s,c,d,p;if(n.config&&n.config.httpOptions)throw new Error("The Live module does not support httpOptions at request-level in LiveConnectConfig yet. Please use the client-level httpOptions configuration instead.");const g=this.apiClient.getWebsocketBaseUrl(),m=this.apiClient.getApiVersion();let v;const _=this.apiClient.getHeaders();n.config&&n.config.tools&&Pm(n.config.tools)&&Vm(_);const S=ME(_);if(this.apiClient.isVertexAI())v=`${g}/ws/google.cloud.aiplatform.${m}.LlmBidiService/BidiGenerateContent`,await this.auth.addAuthHeaders(S,v);else{const Y=this.apiClient.getApiKey();let oe="BidiGenerateContent",ye="key";Y!=null&&Y.startsWith("auth_tokens/")&&(console.warn("Warning: Ephemeral token support is experimental and may change in future versions."),m!=="v1alpha"&&console.warn("Warning: The SDK's ephemeral token support is in v1alpha only. Please use const ai = new GoogleGenAI({apiKey: token.name, httpOptions: { apiVersion: 'v1alpha' }}); before session connection."),oe="BidiGenerateContentConstrained",ye="access_token"),v=`${g}/ws/google.ai.generativelanguage.${m}.GenerativeService.${oe}?${ye}=${Y}`}let T=()=>{};const R=new Promise(Y=>{T=Y}),A=n.callbacks,M=function(){var Y;(Y=A==null?void 0:A.onopen)===null||Y===void 0||Y.call(A),T({})},w=this.apiClient,I={onopen:M,onmessage:Y=>{AE(w,A.onmessage,Y)},onerror:(l=A==null?void 0:A.onerror)!==null&&l!==void 0?l:function(Y){},onclose:(a=A==null?void 0:A.onclose)!==null&&a!==void 0?a:function(Y){}},U=this.webSocketFactory.create(v,bE(S),I);U.connect(),await R;let G=Qe(this.apiClient,n.model);if(this.apiClient.isVertexAI()&&G.startsWith("publishers/")){const Y=this.apiClient.getProject(),oe=this.apiClient.getLocation();G=`projects/${Y}/locations/${oe}/`+G}let B={};this.apiClient.isVertexAI()&&((s=n.config)===null||s===void 0?void 0:s.responseModalities)===void 0&&(n.config===void 0?n.config={responseModalities:[_o.AUDIO]}:n.config.responseModalities=[_o.AUDIO]),!((c=n.config)===null||c===void 0)&&c.generationConfig&&console.warn("Setting `LiveConnectConfig.generation_config` is deprecated, please set the fields on `LiveConnectConfig` directly. This will become an error in a future version (not before Q3 2025).");const K=(p=(d=n.config)===null||d===void 0?void 0:d.tools)!==null&&p!==void 0?p:[],H=[];for(const Y of K)if(this.isCallableTool(Y)){const oe=Y;H.push(await oe.tool())}else H.push(Y);H.length>0&&(n.config.tools=H);const j={model:G,config:n.config,callbacks:n.callbacks};return this.apiClient.isVertexAI()?B=oS(this.apiClient,j):B=iS(this.apiClient,j),delete B.config,U.send(JSON.stringify(B)),new RE(U,this.apiClient)}isCallableTool(n){return"callTool"in n&&typeof n.callTool=="function"}}const wE={turnComplete:!0};class RE{constructor(n,l){this.conn=n,this.apiClient=l}tLiveClientContent(n,l){if(l.turns!==null&&l.turns!==void 0){let a=[];try{a=ln(l.turns),n.isVertexAI()||(a=a.map(s=>Ha(s)))}catch{throw new Error(`Failed to parse client content "turns", type: '${typeof l.turns}'`)}return{clientContent:{turns:a,turnComplete:l.turnComplete}}}return{clientContent:{turnComplete:l.turnComplete}}}tLiveClienttToolResponse(n,l){let a=[];if(l.functionResponses==null)throw new Error("functionResponses is required.");if(Array.isArray(l.functionResponses)?a=l.functionResponses:a=[l.functionResponses],a.length===0)throw new Error("functionResponses is required.");for(const c of a){if(typeof c!="object"||c===null||!("name"in c)||!("response"in c))throw new Error(`Could not parse function response, type '${typeof c}'.`);if(!n.isVertexAI()&&!("id"in c))throw new Error(CE)}return{toolResponse:{functionResponses:a}}}sendClientContent(n){n=Object.assign(Object.assign({},wE),n);const l=this.tLiveClientContent(this.apiClient,n);this.conn.send(JSON.stringify(l))}sendRealtimeInput(n){let l={};this.apiClient.isVertexAI()?l={realtimeInput:sS(n)}:l={realtimeInput:rS(n)},this.conn.send(JSON.stringify(l))}sendToolResponse(n){if(n.functionResponses==null)throw new Error("Tool response parameters are required.");const l=this.tLiveClienttToolResponse(this.apiClient,n);this.conn.send(JSON.stringify(l))}close(){this.conn.close()}}function bE(i){const n={};return i.forEach((l,a)=>{n[a]=l}),n}function ME(i){const n=new Headers;for(const[l,a]of Object.entries(i))n.append(l,a);return n}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const lm=10;function am(i){var n,l,a;if(!((n=i==null?void 0:i.automaticFunctionCalling)===null||n===void 0)&&n.disable)return!0;let s=!1;for(const d of(l=i==null?void 0:i.tools)!==null&&l!==void 0?l:[])if(vo(d)){s=!0;break}if(!s)return!0;const c=(a=i==null?void 0:i.automaticFunctionCalling)===null||a===void 0?void 0:a.maximumRemoteCalls;return c&&(c<0||!Number.isInteger(c))||c==0?(console.warn("Invalid maximumRemoteCalls value provided for automatic function calling. Disabled automatic function calling. Please provide a valid integer value greater than 0. maximumRemoteCalls provided:",c),!0):!1}function vo(i){return"callTool"in i&&typeof i.callTool=="function"}function NE(i){var n,l,a;return(a=(l=(n=i.config)===null||n===void 0?void 0:n.tools)===null||l===void 0?void 0:l.some(s=>vo(s)))!==null&&a!==void 0?a:!1}function rm(i){var n;const l=[];return!((n=i==null?void 0:i.config)===null||n===void 0)&&n.tools&&i.config.tools.forEach((a,s)=>{if(vo(a))return;const c=a;c.functionDeclarations&&c.functionDeclarations.length>0&&l.push(s)}),l}function sm(i){var n;return!(!((n=i==null?void 0:i.automaticFunctionCalling)===null||n===void 0)&&n.ignoreCallHistory)}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class IE extends zn{constructor(n){super(),this.apiClient=n,this.generateContent=async l=>{var a,s,c,d,p;const g=await this.processParamsMaybeAddMcpUsage(l);if(this.maybeMoveToResponseJsonSchem(l),!NE(l)||am(l.config))return await this.generateContentInternal(g);const m=rm(l);if(m.length>0){const A=m.map(M=>`tools[${M}]`).join(", ");throw new Error(`Automatic function calling with CallableTools (or MCP objects) and basic FunctionDeclarations is not yet supported. Incompatible tools found at ${A}.`)}let v,_;const S=ln(g.contents),T=(c=(s=(a=g.config)===null||a===void 0?void 0:a.automaticFunctionCalling)===null||s===void 0?void 0:s.maximumRemoteCalls)!==null&&c!==void 0?c:lm;let R=0;for(;R<T&&(v=await this.generateContentInternal(g),!(!v.functionCalls||v.functionCalls.length===0));){const A=v.candidates[0].content,M=[];for(const w of(p=(d=l.config)===null||d===void 0?void 0:d.tools)!==null&&p!==void 0?p:[])if(vo(w)){const U=await w.callTool(v.functionCalls);M.push(...U)}R++,_={role:"user",parts:M},g.contents=ln(g.contents),g.contents.push(A),g.contents.push(_),sm(g.config)&&(S.push(A),S.push(_))}return sm(g.config)&&(v.automaticFunctionCallingHistory=S),v},this.generateContentStream=async l=>{var a,s,c,d,p;if(this.maybeMoveToResponseJsonSchem(l),am(l.config)){const _=await this.processParamsMaybeAddMcpUsage(l);return await this.generateContentStreamInternal(_)}const g=rm(l);if(g.length>0){const _=g.map(S=>`tools[${S}]`).join(", ");throw new Error(`Incompatible tools found at ${_}. Automatic function calling with CallableTools (or MCP objects) and basic FunctionDeclarations" is not yet supported.`)}const m=(c=(s=(a=l==null?void 0:l.config)===null||a===void 0?void 0:a.toolConfig)===null||s===void 0?void 0:s.functionCallingConfig)===null||c===void 0?void 0:c.streamFunctionCallArguments,v=(p=(d=l==null?void 0:l.config)===null||d===void 0?void 0:d.automaticFunctionCalling)===null||p===void 0?void 0:p.disable;if(m&&!v)throw new Error("Running in streaming mode with 'streamFunctionCallArguments' enabled, this feature is not compatible with automatic function calling (AFC). Please set 'config.automaticFunctionCalling.disable' to true to disable AFC or leave 'config.toolConfig.functionCallingConfig.streamFunctionCallArguments' to be undefined or set to false to disable streaming function call arguments feature.");return await this.processAfcStream(l)},this.generateImages=async l=>await this.generateImagesInternal(l).then(a=>{var s;let c;const d=[];if(a!=null&&a.generatedImages)for(const g of a.generatedImages)g&&(g!=null&&g.safetyAttributes)&&((s=g==null?void 0:g.safetyAttributes)===null||s===void 0?void 0:s.contentType)==="Positive Prompt"?c=g==null?void 0:g.safetyAttributes:d.push(g);let p;return c?p={generatedImages:d,positivePromptSafetyAttributes:c,sdkHttpResponse:a.sdkHttpResponse}:p={generatedImages:d,sdkHttpResponse:a.sdkHttpResponse},p}),this.list=async l=>{var a;const d={config:Object.assign(Object.assign({},{queryBase:!0}),l==null?void 0:l.config)};if(this.apiClient.isVertexAI()&&!d.config.queryBase){if(!((a=d.config)===null||a===void 0)&&a.filter)throw new Error("Filtering tuned models list for Vertex AI is not currently supported");d.config.filter="labels.tune-type:*"}return new bi(kn.PAGED_ITEM_MODELS,p=>this.listInternal(p),await this.listInternal(d),d)},this.editImage=async l=>{const a={model:l.model,prompt:l.prompt,referenceImages:[],config:l.config};return l.referenceImages&&l.referenceImages&&(a.referenceImages=l.referenceImages.map(s=>s.toReferenceImageAPI())),await this.editImageInternal(a)},this.upscaleImage=async l=>{let a={numberOfImages:1,mode:"upscale"};l.config&&(a=Object.assign(Object.assign({},a),l.config));const s={model:l.model,image:l.image,upscaleFactor:l.upscaleFactor,config:a};return await this.upscaleImageInternal(s)},this.generateVideos=async l=>{var a,s,c,d,p,g;if((l.prompt||l.image||l.video)&&l.source)throw new Error("Source and prompt/image/video are mutually exclusive. Please only use source.");return this.apiClient.isVertexAI()||(!((a=l.video)===null||a===void 0)&&a.uri&&(!((s=l.video)===null||s===void 0)&&s.videoBytes)?l.video={uri:l.video.uri,mimeType:l.video.mimeType}:!((d=(c=l.source)===null||c===void 0?void 0:c.video)===null||d===void 0)&&d.uri&&(!((g=(p=l.source)===null||p===void 0?void 0:p.video)===null||g===void 0)&&g.videoBytes)&&(l.source.video={uri:l.source.video.uri,mimeType:l.source.video.mimeType})),await this.generateVideosInternal(l)}}maybeMoveToResponseJsonSchem(n){n.config&&n.config.responseSchema&&(n.config.responseJsonSchema||Object.keys(n.config.responseSchema).includes("$schema")&&(n.config.responseJsonSchema=n.config.responseSchema,delete n.config.responseSchema))}async processParamsMaybeAddMcpUsage(n){var l,a,s;const c=(l=n.config)===null||l===void 0?void 0:l.tools;if(!c)return n;const d=await Promise.all(c.map(async g=>vo(g)?await g.tool():g)),p={model:n.model,contents:n.contents,config:Object.assign(Object.assign({},n.config),{tools:d})};if(p.config.tools=d,n.config&&n.config.tools&&Pm(n.config.tools)){const g=(s=(a=n.config.httpOptions)===null||a===void 0?void 0:a.headers)!==null&&s!==void 0?s:{};let m=Object.assign({},g);Object.keys(m).length===0&&(m=this.apiClient.getDefaultHeaders()),Vm(m),p.config.httpOptions=Object.assign(Object.assign({},n.config.httpOptions),{headers:m})}return p}async initAfcToolsMap(n){var l,a,s;const c=new Map;for(const d of(a=(l=n.config)===null||l===void 0?void 0:l.tools)!==null&&a!==void 0?a:[])if(vo(d)){const p=d,g=await p.tool();for(const m of(s=g.functionDeclarations)!==null&&s!==void 0?s:[]){if(!m.name)throw new Error("Function declaration name is required.");if(c.has(m.name))throw new Error(`Duplicate tool declaration name: ${m.name}`);c.set(m.name,p)}}return c}async processAfcStream(n){var l,a,s;const c=(s=(a=(l=n.config)===null||l===void 0?void 0:l.automaticFunctionCalling)===null||a===void 0?void 0:a.maximumRemoteCalls)!==null&&s!==void 0?s:lm;let d=!1,p=0;const g=await this.initAfcToolsMap(n);return(function(m,v,_){var S,T;return yo(this,arguments,function*(){for(var R,A,M,w;p<c;){d&&(p++,d=!1);const B=yield st(m.processParamsMaybeAddMcpUsage(_)),K=yield st(m.generateContentStreamInternal(B)),H=[],j=[];try{for(var I=!0,U=(A=void 0,yl(K)),G;G=yield st(U.next()),R=G.done,!R;I=!0){w=G.value,I=!1;const Y=w;if(yield yield st(Y),Y.candidates&&(!((S=Y.candidates[0])===null||S===void 0)&&S.content)){j.push(Y.candidates[0].content);for(const oe of(T=Y.candidates[0].content.parts)!==null&&T!==void 0?T:[])if(p<c&&oe.functionCall){if(!oe.functionCall.name)throw new Error("Function call name was not returned by the model.");if(v.has(oe.functionCall.name)){const ye=yield st(v.get(oe.functionCall.name).callTool([oe.functionCall]));H.push(...ye)}else throw new Error(`Automatic function calling was requested, but not all the tools the model used implement the CallableTool interface. Available tools: ${v.keys()}, mising tool: ${oe.functionCall.name}`)}}}}catch(Y){A={error:Y}}finally{try{!I&&!R&&(M=U.return)&&(yield st(M.call(U)))}finally{if(A)throw A.error}}if(H.length>0){d=!0;const Y=new gl;Y.candidates=[{content:{role:"user",parts:H}}],yield yield st(Y);const oe=[];oe.push(...j),oe.push({role:"user",parts:H});const ye=ln(_.contents).concat(oe);_.contents=ye}else break}})})(this,g,n)}async generateContentInternal(n){var l,a,s,c;let d,p="",g={};if(this.apiClient.isVertexAI()){const m=em(this.apiClient,n);return p=Ee("{model}:generateContent",m._url),g=m._query,delete m._url,delete m._query,d=this.apiClient.request({path:p,queryParams:g,body:JSON.stringify(m),httpMethod:"POST",httpOptions:(l=n.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(a=n.config)===null||a===void 0?void 0:a.abortSignal}).then(v=>v.json().then(_=>{const S=_;return S.sdkHttpResponse={headers:v.headers},S})),d.then(v=>{const _=nm(v),S=new gl;return Object.assign(S,_),S})}else{const m=jp(this.apiClient,n);return p=Ee("{model}:generateContent",m._url),g=m._query,delete m._url,delete m._query,d=this.apiClient.request({path:p,queryParams:g,body:JSON.stringify(m),httpMethod:"POST",httpOptions:(s=n.config)===null||s===void 0?void 0:s.httpOptions,abortSignal:(c=n.config)===null||c===void 0?void 0:c.abortSignal}).then(v=>v.json().then(_=>{const S=_;return S.sdkHttpResponse={headers:v.headers},S})),d.then(v=>{const _=tm(v),S=new gl;return Object.assign(S,_),S})}}async generateContentStreamInternal(n){var l,a,s,c;let d,p="",g={};if(this.apiClient.isVertexAI()){const m=em(this.apiClient,n);return p=Ee("{model}:streamGenerateContent?alt=sse",m._url),g=m._query,delete m._url,delete m._query,d=this.apiClient.requestStream({path:p,queryParams:g,body:JSON.stringify(m),httpMethod:"POST",httpOptions:(l=n.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(a=n.config)===null||a===void 0?void 0:a.abortSignal}),d.then(function(_){return yo(this,arguments,function*(){var S,T,R,A;try{for(var M=!0,w=yl(_),I;I=yield st(w.next()),S=I.done,!S;M=!0){A=I.value,M=!1;const U=A,G=nm(yield st(U.json()));G.sdkHttpResponse={headers:U.headers};const B=new gl;Object.assign(B,G),yield yield st(B)}}catch(U){T={error:U}}finally{try{!M&&!S&&(R=w.return)&&(yield st(R.call(w)))}finally{if(T)throw T.error}}})})}else{const m=jp(this.apiClient,n);return p=Ee("{model}:streamGenerateContent?alt=sse",m._url),g=m._query,delete m._url,delete m._query,d=this.apiClient.requestStream({path:p,queryParams:g,body:JSON.stringify(m),httpMethod:"POST",httpOptions:(s=n.config)===null||s===void 0?void 0:s.httpOptions,abortSignal:(c=n.config)===null||c===void 0?void 0:c.abortSignal}),d.then(function(_){return yo(this,arguments,function*(){var S,T,R,A;try{for(var M=!0,w=yl(_),I;I=yield st(w.next()),S=I.done,!S;M=!0){A=I.value,M=!1;const U=A,G=tm(yield st(U.json()));G.sdkHttpResponse={headers:U.headers};const B=new gl;Object.assign(B,G),yield yield st(B)}}catch(U){T={error:U}}finally{try{!M&&!S&&(R=w.return)&&(yield st(R.call(w)))}finally{if(T)throw T.error}}})})}}async embedContent(n){var l,a,s,c;let d,p="",g={};if(this.apiClient.isVertexAI()){const m=qS(this.apiClient,n);return p=Ee("{model}:predict",m._url),g=m._query,delete m._url,delete m._query,d=this.apiClient.request({path:p,queryParams:g,body:JSON.stringify(m),httpMethod:"POST",httpOptions:(l=n.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(a=n.config)===null||a===void 0?void 0:a.abortSignal}).then(v=>v.json().then(_=>{const S=_;return S.sdkHttpResponse={headers:v.headers},S})),d.then(v=>{const _=PS(v),S=new Bp;return Object.assign(S,_),S})}else{const m=GS(this.apiClient,n);return p=Ee("{model}:batchEmbedContents",m._url),g=m._query,delete m._url,delete m._query,d=this.apiClient.request({path:p,queryParams:g,body:JSON.stringify(m),httpMethod:"POST",httpOptions:(s=n.config)===null||s===void 0?void 0:s.httpOptions,abortSignal:(c=n.config)===null||c===void 0?void 0:c.abortSignal}).then(v=>v.json().then(_=>{const S=_;return S.sdkHttpResponse={headers:v.headers},S})),d.then(v=>{const _=HS(v),S=new Bp;return Object.assign(S,_),S})}}async generateImagesInternal(n){var l,a,s,c;let d,p="",g={};if(this.apiClient.isVertexAI()){const m=$S(this.apiClient,n);return p=Ee("{model}:predict",m._url),g=m._query,delete m._url,delete m._query,d=this.apiClient.request({path:p,queryParams:g,body:JSON.stringify(m),httpMethod:"POST",httpOptions:(l=n.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(a=n.config)===null||a===void 0?void 0:a.abortSignal}).then(v=>v.json().then(_=>{const S=_;return S.sdkHttpResponse={headers:v.headers},S})),d.then(v=>{const _=eT(v),S=new Gp;return Object.assign(S,_),S})}else{const m=WS(this.apiClient,n);return p=Ee("{model}:predict",m._url),g=m._query,delete m._url,delete m._query,d=this.apiClient.request({path:p,queryParams:g,body:JSON.stringify(m),httpMethod:"POST",httpOptions:(s=n.config)===null||s===void 0?void 0:s.httpOptions,abortSignal:(c=n.config)===null||c===void 0?void 0:c.abortSignal}).then(v=>v.json().then(_=>{const S=_;return S.sdkHttpResponse={headers:v.headers},S})),d.then(v=>{const _=jS(v),S=new Gp;return Object.assign(S,_),S})}}async editImageInternal(n){var l,a;let s,c="",d={};if(this.apiClient.isVertexAI()){const p=kS(this.apiClient,n);return c=Ee("{model}:predict",p._url),d=p._query,delete p._url,delete p._query,s=this.apiClient.request({path:c,queryParams:d,body:JSON.stringify(p),httpMethod:"POST",httpOptions:(l=n.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(a=n.config)===null||a===void 0?void 0:a.abortSignal}).then(g=>g.json().then(m=>{const v=m;return v.sdkHttpResponse={headers:g.headers},v})),s.then(g=>{const m=zS(g),v=new F0;return Object.assign(v,m),v})}else throw new Error("This method is only supported by the Vertex AI.")}async upscaleImageInternal(n){var l,a;let s,c="",d={};if(this.apiClient.isVertexAI()){const p=$T(this.apiClient,n);return c=Ee("{model}:predict",p._url),d=p._query,delete p._url,delete p._query,s=this.apiClient.request({path:c,queryParams:d,body:JSON.stringify(p),httpMethod:"POST",httpOptions:(l=n.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(a=n.config)===null||a===void 0?void 0:a.abortSignal}).then(g=>g.json().then(m=>{const v=m;return v.sdkHttpResponse={headers:g.headers},v})),s.then(g=>{const m=jT(g),v=new O0;return Object.assign(v,m),v})}else throw new Error("This method is only supported by the Vertex AI.")}async recontextImage(n){var l,a;let s,c="",d={};if(this.apiClient.isVertexAI()){const p=UT(this.apiClient,n);return c=Ee("{model}:predict",p._url),d=p._query,delete p._url,delete p._query,s=this.apiClient.request({path:c,queryParams:d,body:JSON.stringify(p),httpMethod:"POST",httpOptions:(l=n.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(a=n.config)===null||a===void 0?void 0:a.abortSignal}).then(g=>g.json()),s.then(g=>{const m=kT(g),v=new Y0;return Object.assign(v,m),v})}else throw new Error("This method is only supported by the Vertex AI.")}async segmentImage(n){var l,a;let s,c="",d={};if(this.apiClient.isVertexAI()){const p=HT(this.apiClient,n);return c=Ee("{model}:predict",p._url),d=p._query,delete p._url,delete p._query,s=this.apiClient.request({path:c,queryParams:d,body:JSON.stringify(p),httpMethod:"POST",httpOptions:(l=n.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(a=n.config)===null||a===void 0?void 0:a.abortSignal}).then(g=>g.json()),s.then(g=>{const m=PT(g),v=new J0;return Object.assign(v,m),v})}else throw new Error("This method is only supported by the Vertex AI.")}async get(n){var l,a,s,c;let d,p="",g={};if(this.apiClient.isVertexAI()){const m=yT(this.apiClient,n);return p=Ee("{name}",m._url),g=m._query,delete m._url,delete m._query,d=this.apiClient.request({path:p,queryParams:g,body:JSON.stringify(m),httpMethod:"GET",httpOptions:(l=n.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(a=n.config)===null||a===void 0?void 0:a.abortSignal}).then(v=>v.json()),d.then(v=>_u(v))}else{const m=gT(this.apiClient,n);return p=Ee("{name}",m._url),g=m._query,delete m._url,delete m._query,d=this.apiClient.request({path:p,queryParams:g,body:JSON.stringify(m),httpMethod:"GET",httpOptions:(s=n.config)===null||s===void 0?void 0:s.httpOptions,abortSignal:(c=n.config)===null||c===void 0?void 0:c.abortSignal}).then(v=>v.json()),d.then(v=>vu(v))}}async listInternal(n){var l,a,s,c;let d,p="",g={};if(this.apiClient.isVertexAI()){const m=wT(this.apiClient,n);return p=Ee("{models_url}",m._url),g=m._query,delete m._url,delete m._query,d=this.apiClient.request({path:p,queryParams:g,body:JSON.stringify(m),httpMethod:"GET",httpOptions:(l=n.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(a=n.config)===null||a===void 0?void 0:a.abortSignal}).then(v=>v.json().then(_=>{const S=_;return S.sdkHttpResponse={headers:v.headers},S})),d.then(v=>{const _=bT(v),S=new qp;return Object.assign(S,_),S})}else{const m=xT(this.apiClient,n);return p=Ee("{models_url}",m._url),g=m._query,delete m._url,delete m._query,d=this.apiClient.request({path:p,queryParams:g,body:JSON.stringify(m),httpMethod:"GET",httpOptions:(s=n.config)===null||s===void 0?void 0:s.httpOptions,abortSignal:(c=n.config)===null||c===void 0?void 0:c.abortSignal}).then(v=>v.json().then(_=>{const S=_;return S.sdkHttpResponse={headers:v.headers},S})),d.then(v=>{const _=RT(v),S=new qp;return Object.assign(S,_),S})}}async update(n){var l,a,s,c;let d,p="",g={};if(this.apiClient.isVertexAI()){const m=QT(this.apiClient,n);return p=Ee("{model}",m._url),g=m._query,delete m._url,delete m._query,d=this.apiClient.request({path:p,queryParams:g,body:JSON.stringify(m),httpMethod:"PATCH",httpOptions:(l=n.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(a=n.config)===null||a===void 0?void 0:a.abortSignal}).then(v=>v.json()),d.then(v=>_u(v))}else{const m=XT(this.apiClient,n);return p=Ee("{name}",m._url),g=m._query,delete m._url,delete m._query,d=this.apiClient.request({path:p,queryParams:g,body:JSON.stringify(m),httpMethod:"PATCH",httpOptions:(s=n.config)===null||s===void 0?void 0:s.httpOptions,abortSignal:(c=n.config)===null||c===void 0?void 0:c.abortSignal}).then(v=>v.json()),d.then(v=>vu(v))}}async delete(n){var l,a,s,c;let d,p="",g={};if(this.apiClient.isVertexAI()){const m=NS(this.apiClient,n);return p=Ee("{name}",m._url),g=m._query,delete m._url,delete m._query,d=this.apiClient.request({path:p,queryParams:g,body:JSON.stringify(m),httpMethod:"DELETE",httpOptions:(l=n.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(a=n.config)===null||a===void 0?void 0:a.abortSignal}).then(v=>v.json().then(_=>{const S=_;return S.sdkHttpResponse={headers:v.headers},S})),d.then(v=>{const _=DS(v),S=new Hp;return Object.assign(S,_),S})}else{const m=MS(this.apiClient,n);return p=Ee("{name}",m._url),g=m._query,delete m._url,delete m._query,d=this.apiClient.request({path:p,queryParams:g,body:JSON.stringify(m),httpMethod:"DELETE",httpOptions:(s=n.config)===null||s===void 0?void 0:s.httpOptions,abortSignal:(c=n.config)===null||c===void 0?void 0:c.abortSignal}).then(v=>v.json().then(_=>{const S=_;return S.sdkHttpResponse={headers:v.headers},S})),d.then(v=>{const _=IS(v),S=new Hp;return Object.assign(S,_),S})}}async countTokens(n){var l,a,s,c;let d,p="",g={};if(this.apiClient.isVertexAI()){const m=wS(this.apiClient,n);return p=Ee("{model}:countTokens",m._url),g=m._query,delete m._url,delete m._query,d=this.apiClient.request({path:p,queryParams:g,body:JSON.stringify(m),httpMethod:"POST",httpOptions:(l=n.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(a=n.config)===null||a===void 0?void 0:a.abortSignal}).then(v=>v.json().then(_=>{const S=_;return S.sdkHttpResponse={headers:v.headers},S})),d.then(v=>{const _=bS(v),S=new Pp;return Object.assign(S,_),S})}else{const m=xS(this.apiClient,n);return p=Ee("{model}:countTokens",m._url),g=m._query,delete m._url,delete m._query,d=this.apiClient.request({path:p,queryParams:g,body:JSON.stringify(m),httpMethod:"POST",httpOptions:(s=n.config)===null||s===void 0?void 0:s.httpOptions,abortSignal:(c=n.config)===null||c===void 0?void 0:c.abortSignal}).then(v=>v.json().then(_=>{const S=_;return S.sdkHttpResponse={headers:v.headers},S})),d.then(v=>{const _=RS(v),S=new Pp;return Object.assign(S,_),S})}}async computeTokens(n){var l,a;let s,c="",d={};if(this.apiClient.isVertexAI()){const p=vS(this.apiClient,n);return c=Ee("{model}:computeTokens",p._url),d=p._query,delete p._url,delete p._query,s=this.apiClient.request({path:c,queryParams:d,body:JSON.stringify(p),httpMethod:"POST",httpOptions:(l=n.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(a=n.config)===null||a===void 0?void 0:a.abortSignal}).then(g=>g.json().then(m=>{const v=m;return v.sdkHttpResponse={headers:g.headers},v})),s.then(g=>{const m=_S(g),v=new Z0;return Object.assign(v,m),v})}else throw new Error("This method is only supported by the Vertex AI.")}async generateVideosInternal(n){var l,a,s,c;let d,p="",g={};if(this.apiClient.isVertexAI()){const m=aT(this.apiClient,n);return p=Ee("{model}:predictLongRunning",m._url),g=m._query,delete m._url,delete m._query,d=this.apiClient.request({path:p,queryParams:g,body:JSON.stringify(m),httpMethod:"POST",httpOptions:(l=n.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(a=n.config)===null||a===void 0?void 0:a.abortSignal}).then(v=>v.json()),d.then(v=>{const _=oT(v),S=new La;return Object.assign(S,_),S})}else{const m=lT(this.apiClient,n);return p=Ee("{model}:predictLongRunning",m._url),g=m._query,delete m._url,delete m._query,d=this.apiClient.request({path:p,queryParams:g,body:JSON.stringify(m),httpMethod:"POST",httpOptions:(s=n.config)===null||s===void 0?void 0:s.httpOptions,abortSignal:(c=n.config)===null||c===void 0?void 0:c.abortSignal}).then(v=>v.json()),d.then(v=>{const _=iT(v),S=new La;return Object.assign(S,_),S})}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class DE extends zn{constructor(n){super(),this.apiClient=n}async getVideosOperation(n){const l=n.operation,a=n.config;if(l.name===void 0||l.name==="")throw new Error("Operation name is required.");if(this.apiClient.isVertexAI()){const s=l.name.split("/operations/")[0];let c;a&&"httpOptions"in a&&(c=a.httpOptions);const d=await this.fetchPredictVideosOperationInternal({operationName:l.name,resourceName:s,config:{httpOptions:c}});return l._fromAPIResponse({apiResponse:d,_isVertexAI:!0})}else{const s=await this.getVideosOperationInternal({operationName:l.name,config:a});return l._fromAPIResponse({apiResponse:s,_isVertexAI:!1})}}async get(n){const l=n.operation,a=n.config;if(l.name===void 0||l.name==="")throw new Error("Operation name is required.");if(this.apiClient.isVertexAI()){const s=l.name.split("/operations/")[0];let c;a&&"httpOptions"in a&&(c=a.httpOptions);const d=await this.fetchPredictVideosOperationInternal({operationName:l.name,resourceName:s,config:{httpOptions:c}});return l._fromAPIResponse({apiResponse:d,_isVertexAI:!0})}else{const s=await this.getVideosOperationInternal({operationName:l.name,config:a});return l._fromAPIResponse({apiResponse:s,_isVertexAI:!1})}}async getVideosOperationInternal(n){var l,a,s,c;let d,p="",g={};if(this.apiClient.isVertexAI()){const m=B0(n);return p=Ee("{operationName}",m._url),g=m._query,delete m._url,delete m._query,d=this.apiClient.request({path:p,queryParams:g,body:JSON.stringify(m),httpMethod:"GET",httpOptions:(l=n.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(a=n.config)===null||a===void 0?void 0:a.abortSignal}).then(v=>v.json()),d}else{const m=L0(n);return p=Ee("{operationName}",m._url),g=m._query,delete m._url,delete m._query,d=this.apiClient.request({path:p,queryParams:g,body:JSON.stringify(m),httpMethod:"GET",httpOptions:(s=n.config)===null||s===void 0?void 0:s.httpOptions,abortSignal:(c=n.config)===null||c===void 0?void 0:c.abortSignal}).then(v=>v.json()),d}}async fetchPredictVideosOperationInternal(n){var l,a;let s,c="",d={};if(this.apiClient.isVertexAI()){const p=M0(n);return c=Ee("{resourceName}:fetchPredictOperation",p._url),d=p._query,delete p._url,delete p._query,s=this.apiClient.request({path:c,queryParams:d,body:JSON.stringify(p),httpMethod:"POST",httpOptions:(l=n.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(a=n.config)===null||a===void 0?void 0:a.abortSignal}).then(g=>g.json()),s}else throw new Error("This method is only supported by the Vertex AI.")}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function UE(i){const n={},l=u(i,["data"]);if(l!=null&&f(n,["data"],l),u(i,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const a=u(i,["mimeType"]);return a!=null&&f(n,["mimeType"],a),n}function kE(i){const n={},l=u(i,["parts"]);if(l!=null){let s=l;Array.isArray(s)&&(s=s.map(c=>FE(c))),f(n,["parts"],s)}const a=u(i,["role"]);return a!=null&&f(n,["role"],a),n}function zE(i,n,l){const a={},s=u(n,["expireTime"]);l!==void 0&&s!=null&&f(l,["expireTime"],s);const c=u(n,["newSessionExpireTime"]);l!==void 0&&c!=null&&f(l,["newSessionExpireTime"],c);const d=u(n,["uses"]);l!==void 0&&d!=null&&f(l,["uses"],d);const p=u(n,["liveConnectConstraints"]);l!==void 0&&p!=null&&f(l,["bidiGenerateContentSetup"],VE(i,p));const g=u(n,["lockAdditionalFields"]);return l!==void 0&&g!=null&&f(l,["fieldMask"],g),a}function LE(i,n){const l={},a=u(n,["config"]);return a!=null&&f(l,["config"],zE(i,a,l)),l}function BE(i){const n={};if(u(i,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const l=u(i,["fileUri"]);l!=null&&f(n,["fileUri"],l);const a=u(i,["mimeType"]);return a!=null&&f(n,["mimeType"],a),n}function GE(i){const n={},l=u(i,["id"]);l!=null&&f(n,["id"],l);const a=u(i,["args"]);a!=null&&f(n,["args"],a);const s=u(i,["name"]);if(s!=null&&f(n,["name"],s),u(i,["partialArgs"])!==void 0)throw new Error("partialArgs parameter is not supported in Gemini API.");if(u(i,["willContinue"])!==void 0)throw new Error("willContinue parameter is not supported in Gemini API.");return n}function qE(i){const n={};if(u(i,["authConfig"])!==void 0)throw new Error("authConfig parameter is not supported in Gemini API.");const l=u(i,["enableWidget"]);return l!=null&&f(n,["enableWidget"],l),n}function HE(i){const n={};if(u(i,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");if(u(i,["blockingConfidence"])!==void 0)throw new Error("blockingConfidence parameter is not supported in Gemini API.");const l=u(i,["timeRangeFilter"]);return l!=null&&f(n,["timeRangeFilter"],l),n}function PE(i,n){const l={},a=u(i,["generationConfig"]);n!==void 0&&a!=null&&f(n,["setup","generationConfig"],a);const s=u(i,["responseModalities"]);n!==void 0&&s!=null&&f(n,["setup","generationConfig","responseModalities"],s);const c=u(i,["temperature"]);n!==void 0&&c!=null&&f(n,["setup","generationConfig","temperature"],c);const d=u(i,["topP"]);n!==void 0&&d!=null&&f(n,["setup","generationConfig","topP"],d);const p=u(i,["topK"]);n!==void 0&&p!=null&&f(n,["setup","generationConfig","topK"],p);const g=u(i,["maxOutputTokens"]);n!==void 0&&g!=null&&f(n,["setup","generationConfig","maxOutputTokens"],g);const m=u(i,["mediaResolution"]);n!==void 0&&m!=null&&f(n,["setup","generationConfig","mediaResolution"],m);const v=u(i,["seed"]);n!==void 0&&v!=null&&f(n,["setup","generationConfig","seed"],v);const _=u(i,["speechConfig"]);n!==void 0&&_!=null&&f(n,["setup","generationConfig","speechConfig"],Iu(_));const S=u(i,["thinkingConfig"]);n!==void 0&&S!=null&&f(n,["setup","generationConfig","thinkingConfig"],S);const T=u(i,["enableAffectiveDialog"]);n!==void 0&&T!=null&&f(n,["setup","generationConfig","enableAffectiveDialog"],T);const R=u(i,["systemInstruction"]);n!==void 0&&R!=null&&f(n,["setup","systemInstruction"],kE(It(R)));const A=u(i,["tools"]);if(n!==void 0&&A!=null){let K=To(A);Array.isArray(K)&&(K=K.map(H=>YE(So(H)))),f(n,["setup","tools"],K)}const M=u(i,["sessionResumption"]);n!==void 0&&M!=null&&f(n,["setup","sessionResumption"],OE(M));const w=u(i,["inputAudioTranscription"]);n!==void 0&&w!=null&&f(n,["setup","inputAudioTranscription"],w);const I=u(i,["outputAudioTranscription"]);n!==void 0&&I!=null&&f(n,["setup","outputAudioTranscription"],I);const U=u(i,["realtimeInputConfig"]);n!==void 0&&U!=null&&f(n,["setup","realtimeInputConfig"],U);const G=u(i,["contextWindowCompression"]);n!==void 0&&G!=null&&f(n,["setup","contextWindowCompression"],G);const B=u(i,["proactivity"]);return n!==void 0&&B!=null&&f(n,["setup","proactivity"],B),l}function VE(i,n){const l={},a=u(n,["model"]);a!=null&&f(l,["setup","model"],Qe(i,a));const s=u(n,["config"]);return s!=null&&f(l,["config"],PE(s,l)),l}function FE(i){const n={},l=u(i,["mediaResolution"]);l!=null&&f(n,["mediaResolution"],l);const a=u(i,["codeExecutionResult"]);a!=null&&f(n,["codeExecutionResult"],a);const s=u(i,["executableCode"]);s!=null&&f(n,["executableCode"],s);const c=u(i,["fileData"]);c!=null&&f(n,["fileData"],BE(c));const d=u(i,["functionCall"]);d!=null&&f(n,["functionCall"],GE(d));const p=u(i,["functionResponse"]);p!=null&&f(n,["functionResponse"],p);const g=u(i,["inlineData"]);g!=null&&f(n,["inlineData"],UE(g));const m=u(i,["text"]);m!=null&&f(n,["text"],m);const v=u(i,["thought"]);v!=null&&f(n,["thought"],v);const _=u(i,["thoughtSignature"]);_!=null&&f(n,["thoughtSignature"],_);const S=u(i,["videoMetadata"]);return S!=null&&f(n,["videoMetadata"],S),n}function OE(i){const n={},l=u(i,["handle"]);if(l!=null&&f(n,["handle"],l),u(i,["transparent"])!==void 0)throw new Error("transparent parameter is not supported in Gemini API.");return n}function YE(i){const n={},l=u(i,["functionDeclarations"]);if(l!=null){let v=l;Array.isArray(v)&&(v=v.map(_=>_)),f(n,["functionDeclarations"],v)}if(u(i,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const a=u(i,["googleSearchRetrieval"]);a!=null&&f(n,["googleSearchRetrieval"],a);const s=u(i,["computerUse"]);s!=null&&f(n,["computerUse"],s);const c=u(i,["fileSearch"]);c!=null&&f(n,["fileSearch"],c);const d=u(i,["codeExecution"]);if(d!=null&&f(n,["codeExecution"],d),u(i,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");const p=u(i,["googleMaps"]);p!=null&&f(n,["googleMaps"],qE(p));const g=u(i,["googleSearch"]);g!=null&&f(n,["googleSearch"],HE(g));const m=u(i,["urlContext"]);return m!=null&&f(n,["urlContext"],m),n}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function JE(i){const n=[];for(const l in i)if(Object.prototype.hasOwnProperty.call(i,l)){const a=i[l];if(typeof a=="object"&&a!=null&&Object.keys(a).length>0){const s=Object.keys(a).map(c=>`${l}.${c}`);n.push(...s)}else n.push(l)}return n.join(",")}function ZE(i,n){let l=null;const a=i.bidiGenerateContentSetup;if(typeof a=="object"&&a!==null&&"setup"in a){const c=a.setup;typeof c=="object"&&c!==null?(i.bidiGenerateContentSetup=c,l=c):delete i.bidiGenerateContentSetup}else a!==void 0&&delete i.bidiGenerateContentSetup;const s=i.fieldMask;if(l){const c=JE(l);if(Array.isArray(n==null?void 0:n.lockAdditionalFields)&&(n==null?void 0:n.lockAdditionalFields.length)===0)c?i.fieldMask=c:delete i.fieldMask;else if(n!=null&&n.lockAdditionalFields&&n.lockAdditionalFields.length>0&&s!==null&&Array.isArray(s)&&s.length>0){const d=["temperature","topK","topP","maxOutputTokens","responseModalities","seed","speechConfig"];let p=[];s.length>0&&(p=s.map(m=>d.includes(m)?`generationConfig.${m}`:m));const g=[];c&&g.push(c),p.length>0&&g.push(...p),g.length>0?i.fieldMask=g.join(","):delete i.fieldMask}else delete i.fieldMask}else s!==null&&Array.isArray(s)&&s.length>0?i.fieldMask=s.join(","):delete i.fieldMask;return i}class KE extends zn{constructor(n){super(),this.apiClient=n}async create(n){var l,a;let s,c="",d={};if(this.apiClient.isVertexAI())throw new Error("The client.tokens.create method is only supported by the Gemini Developer API.");{const p=LE(this.apiClient,n);c=Ee("auth_tokens",p._url),d=p._query,delete p.config,delete p._url,delete p._query;const g=ZE(p,n.config);return s=this.apiClient.request({path:c,queryParams:d,body:JSON.stringify(g),httpMethod:"POST",httpOptions:(l=n.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(a=n.config)===null||a===void 0?void 0:a.abortSignal}).then(m=>m.json()),s.then(m=>m)}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function XE(i,n){const l={},a=u(i,["displayName"]);return n!==void 0&&a!=null&&f(n,["displayName"],a),l}function QE(i){const n={},l=u(i,["config"]);return l!=null&&XE(l,n),n}function WE(i,n){const l={},a=u(i,["force"]);return n!==void 0&&a!=null&&f(n,["_query","force"],a),l}function $E(i){const n={},l=u(i,["name"]);l!=null&&f(n,["_url","name"],l);const a=u(i,["config"]);return a!=null&&WE(a,n),n}function jE(i){const n={},l=u(i,["name"]);return l!=null&&f(n,["_url","name"],l),n}function eC(i,n){const l={},a=u(i,["customMetadata"]);if(n!==void 0&&a!=null){let c=a;Array.isArray(c)&&(c=c.map(d=>d)),f(n,["customMetadata"],c)}const s=u(i,["chunkingConfig"]);return n!==void 0&&s!=null&&f(n,["chunkingConfig"],s),l}function tC(i){const n={},l=u(i,["name"]);l!=null&&f(n,["name"],l);const a=u(i,["metadata"]);a!=null&&f(n,["metadata"],a);const s=u(i,["done"]);s!=null&&f(n,["done"],s);const c=u(i,["error"]);c!=null&&f(n,["error"],c);const d=u(i,["response"]);return d!=null&&f(n,["response"],iC(d)),n}function nC(i){const n={},l=u(i,["fileSearchStoreName"]);l!=null&&f(n,["_url","file_search_store_name"],l);const a=u(i,["fileName"]);a!=null&&f(n,["fileName"],a);const s=u(i,["config"]);return s!=null&&eC(s,n),n}function iC(i){const n={},l=u(i,["sdkHttpResponse"]);l!=null&&f(n,["sdkHttpResponse"],l);const a=u(i,["parent"]);a!=null&&f(n,["parent"],a);const s=u(i,["documentName"]);return s!=null&&f(n,["documentName"],s),n}function oC(i,n){const l={},a=u(i,["pageSize"]);n!==void 0&&a!=null&&f(n,["_query","pageSize"],a);const s=u(i,["pageToken"]);return n!==void 0&&s!=null&&f(n,["_query","pageToken"],s),l}function lC(i){const n={},l=u(i,["config"]);return l!=null&&oC(l,n),n}function aC(i){const n={},l=u(i,["sdkHttpResponse"]);l!=null&&f(n,["sdkHttpResponse"],l);const a=u(i,["nextPageToken"]);a!=null&&f(n,["nextPageToken"],a);const s=u(i,["fileSearchStores"]);if(s!=null){let c=s;Array.isArray(c)&&(c=c.map(d=>d)),f(n,["fileSearchStores"],c)}return n}function rC(i,n){const l={},a=u(i,["mimeType"]);n!==void 0&&a!=null&&f(n,["mimeType"],a);const s=u(i,["displayName"]);n!==void 0&&s!=null&&f(n,["displayName"],s);const c=u(i,["customMetadata"]);if(n!==void 0&&c!=null){let p=c;Array.isArray(p)&&(p=p.map(g=>g)),f(n,["customMetadata"],p)}const d=u(i,["chunkingConfig"]);return n!==void 0&&d!=null&&f(n,["chunkingConfig"],d),l}function sC(i){const n={},l=u(i,["fileSearchStoreName"]);l!=null&&f(n,["_url","file_search_store_name"],l);const a=u(i,["config"]);return a!=null&&rC(a,n),n}function uC(i){const n={},l=u(i,["sdkHttpResponse"]);return l!=null&&f(n,["sdkHttpResponse"],l),n}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function cC(i,n){const l={},a=u(i,["force"]);return n!==void 0&&a!=null&&f(n,["_query","force"],a),l}function fC(i){const n={},l=u(i,["name"]);l!=null&&f(n,["_url","name"],l);const a=u(i,["config"]);return a!=null&&cC(a,n),n}function dC(i){const n={},l=u(i,["name"]);return l!=null&&f(n,["_url","name"],l),n}function hC(i,n){const l={},a=u(i,["pageSize"]);n!==void 0&&a!=null&&f(n,["_query","pageSize"],a);const s=u(i,["pageToken"]);return n!==void 0&&s!=null&&f(n,["_query","pageToken"],s),l}function pC(i){const n={},l=u(i,["parent"]);l!=null&&f(n,["_url","parent"],l);const a=u(i,["config"]);return a!=null&&hC(a,n),n}function mC(i){const n={},l=u(i,["sdkHttpResponse"]);l!=null&&f(n,["sdkHttpResponse"],l);const a=u(i,["nextPageToken"]);a!=null&&f(n,["nextPageToken"],a);const s=u(i,["documents"]);if(s!=null){let c=s;Array.isArray(c)&&(c=c.map(d=>d)),f(n,["documents"],c)}return n}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class gC extends zn{constructor(n){super(),this.apiClient=n,this.list=async l=>new bi(kn.PAGED_ITEM_DOCUMENTS,a=>this.listInternal({parent:l.parent,config:a.config}),await this.listInternal(l),l)}async get(n){var l,a;let s,c="",d={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const p=dC(n);return c=Ee("{name}",p._url),d=p._query,delete p._url,delete p._query,s=this.apiClient.request({path:c,queryParams:d,body:JSON.stringify(p),httpMethod:"GET",httpOptions:(l=n.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(a=n.config)===null||a===void 0?void 0:a.abortSignal}).then(g=>g.json()),s.then(g=>g)}}async delete(n){var l,a;let s="",c={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const d=fC(n);s=Ee("{name}",d._url),c=d._query,delete d._url,delete d._query,await this.apiClient.request({path:s,queryParams:c,body:JSON.stringify(d),httpMethod:"DELETE",httpOptions:(l=n.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(a=n.config)===null||a===void 0?void 0:a.abortSignal})}}async listInternal(n){var l,a;let s,c="",d={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const p=pC(n);return c=Ee("{parent}/documents",p._url),d=p._query,delete p._url,delete p._query,s=this.apiClient.request({path:c,queryParams:d,body:JSON.stringify(p),httpMethod:"GET",httpOptions:(l=n.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(a=n.config)===null||a===void 0?void 0:a.abortSignal}).then(g=>g.json()),s.then(g=>{const m=mC(g),v=new K0;return Object.assign(v,m),v})}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class yC extends zn{constructor(n,l=new gC(n)){super(),this.apiClient=n,this.documents=l,this.list=async(a={})=>new bi(kn.PAGED_ITEM_FILE_SEARCH_STORES,s=>this.listInternal(s),await this.listInternal(a),a)}async uploadToFileSearchStore(n){if(this.apiClient.isVertexAI())throw new Error("Vertex AI does not support uploading files to a file search store.");return this.apiClient.uploadFileToFileSearchStore(n.fileSearchStoreName,n.file,n.config)}async create(n){var l,a;let s,c="",d={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const p=QE(n);return c=Ee("fileSearchStores",p._url),d=p._query,delete p._url,delete p._query,s=this.apiClient.request({path:c,queryParams:d,body:JSON.stringify(p),httpMethod:"POST",httpOptions:(l=n.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(a=n.config)===null||a===void 0?void 0:a.abortSignal}).then(g=>g.json()),s.then(g=>g)}}async get(n){var l,a;let s,c="",d={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const p=jE(n);return c=Ee("{name}",p._url),d=p._query,delete p._url,delete p._query,s=this.apiClient.request({path:c,queryParams:d,body:JSON.stringify(p),httpMethod:"GET",httpOptions:(l=n.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(a=n.config)===null||a===void 0?void 0:a.abortSignal}).then(g=>g.json()),s.then(g=>g)}}async delete(n){var l,a;let s="",c={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const d=$E(n);s=Ee("{name}",d._url),c=d._query,delete d._url,delete d._query,await this.apiClient.request({path:s,queryParams:c,body:JSON.stringify(d),httpMethod:"DELETE",httpOptions:(l=n.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(a=n.config)===null||a===void 0?void 0:a.abortSignal})}}async listInternal(n){var l,a;let s,c="",d={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const p=lC(n);return c=Ee("fileSearchStores",p._url),d=p._query,delete p._url,delete p._query,s=this.apiClient.request({path:c,queryParams:d,body:JSON.stringify(p),httpMethod:"GET",httpOptions:(l=n.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(a=n.config)===null||a===void 0?void 0:a.abortSignal}).then(g=>g.json()),s.then(g=>{const m=aC(g),v=new X0;return Object.assign(v,m),v})}}async uploadToFileSearchStoreInternal(n){var l,a;let s,c="",d={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const p=sC(n);return c=Ee("upload/v1beta/{file_search_store_name}:uploadToFileSearchStore",p._url),d=p._query,delete p._url,delete p._query,s=this.apiClient.request({path:c,queryParams:d,body:JSON.stringify(p),httpMethod:"POST",httpOptions:(l=n.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(a=n.config)===null||a===void 0?void 0:a.abortSignal}).then(g=>g.json()),s.then(g=>{const m=uC(g),v=new Q0;return Object.assign(v,m),v})}}async importFile(n){var l,a;let s,c="",d={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const p=nC(n);return c=Ee("{file_search_store_name}:importFile",p._url),d=p._query,delete p._url,delete p._query,s=this.apiClient.request({path:c,queryParams:d,body:JSON.stringify(p),httpMethod:"POST",httpOptions:(l=n.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(a=n.config)===null||a===void 0?void 0:a.abortSignal}).then(g=>g.json()),s.then(g=>{const m=tC(g),v=new wu;return Object.assign(v,m),v})}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function vC(i,n){const l={},a=u(i,["name"]);return a!=null&&f(l,["_url","name"],a),l}function _C(i,n){const l={},a=u(i,["name"]);return a!=null&&f(l,["_url","name"],a),l}function SC(i,n,l){const a={};if(u(i,["validationDataset"])!==void 0)throw new Error("validationDataset parameter is not supported in Gemini API.");const s=u(i,["tunedModelDisplayName"]);if(n!==void 0&&s!=null&&f(n,["displayName"],s),u(i,["description"])!==void 0)throw new Error("description parameter is not supported in Gemini API.");const c=u(i,["epochCount"]);n!==void 0&&c!=null&&f(n,["tuningTask","hyperparameters","epochCount"],c);const d=u(i,["learningRateMultiplier"]);if(d!=null&&f(a,["tuningTask","hyperparameters","learningRateMultiplier"],d),u(i,["exportLastCheckpointOnly"])!==void 0)throw new Error("exportLastCheckpointOnly parameter is not supported in Gemini API.");if(u(i,["preTunedModelCheckpointId"])!==void 0)throw new Error("preTunedModelCheckpointId parameter is not supported in Gemini API.");if(u(i,["adapterSize"])!==void 0)throw new Error("adapterSize parameter is not supported in Gemini API.");const p=u(i,["batchSize"]);n!==void 0&&p!=null&&f(n,["tuningTask","hyperparameters","batchSize"],p);const g=u(i,["learningRate"]);if(n!==void 0&&g!=null&&f(n,["tuningTask","hyperparameters","learningRate"],g),u(i,["labels"])!==void 0)throw new Error("labels parameter is not supported in Gemini API.");if(u(i,["beta"])!==void 0)throw new Error("beta parameter is not supported in Gemini API.");return a}function TC(i,n,l){const a={};let s=u(l,["config","method"]);if(s===void 0&&(s="SUPERVISED_FINE_TUNING"),s==="SUPERVISED_FINE_TUNING"){const T=u(i,["validationDataset"]);n!==void 0&&T!=null&&f(n,["supervisedTuningSpec"],um(T))}else if(s==="PREFERENCE_TUNING"){const T=u(i,["validationDataset"]);n!==void 0&&T!=null&&f(n,["preferenceOptimizationSpec"],um(T))}const c=u(i,["tunedModelDisplayName"]);n!==void 0&&c!=null&&f(n,["tunedModelDisplayName"],c);const d=u(i,["description"]);n!==void 0&&d!=null&&f(n,["description"],d);let p=u(l,["config","method"]);if(p===void 0&&(p="SUPERVISED_FINE_TUNING"),p==="SUPERVISED_FINE_TUNING"){const T=u(i,["epochCount"]);n!==void 0&&T!=null&&f(n,["supervisedTuningSpec","hyperParameters","epochCount"],T)}else if(p==="PREFERENCE_TUNING"){const T=u(i,["epochCount"]);n!==void 0&&T!=null&&f(n,["preferenceOptimizationSpec","hyperParameters","epochCount"],T)}let g=u(l,["config","method"]);if(g===void 0&&(g="SUPERVISED_FINE_TUNING"),g==="SUPERVISED_FINE_TUNING"){const T=u(i,["learningRateMultiplier"]);n!==void 0&&T!=null&&f(n,["supervisedTuningSpec","hyperParameters","learningRateMultiplier"],T)}else if(g==="PREFERENCE_TUNING"){const T=u(i,["learningRateMultiplier"]);n!==void 0&&T!=null&&f(n,["preferenceOptimizationSpec","hyperParameters","learningRateMultiplier"],T)}let m=u(l,["config","method"]);if(m===void 0&&(m="SUPERVISED_FINE_TUNING"),m==="SUPERVISED_FINE_TUNING"){const T=u(i,["exportLastCheckpointOnly"]);n!==void 0&&T!=null&&f(n,["supervisedTuningSpec","exportLastCheckpointOnly"],T)}else if(m==="PREFERENCE_TUNING"){const T=u(i,["exportLastCheckpointOnly"]);n!==void 0&&T!=null&&f(n,["preferenceOptimizationSpec","exportLastCheckpointOnly"],T)}let v=u(l,["config","method"]);if(v===void 0&&(v="SUPERVISED_FINE_TUNING"),v==="SUPERVISED_FINE_TUNING"){const T=u(i,["adapterSize"]);n!==void 0&&T!=null&&f(n,["supervisedTuningSpec","hyperParameters","adapterSize"],T)}else if(v==="PREFERENCE_TUNING"){const T=u(i,["adapterSize"]);n!==void 0&&T!=null&&f(n,["preferenceOptimizationSpec","hyperParameters","adapterSize"],T)}if(u(i,["batchSize"])!==void 0)throw new Error("batchSize parameter is not supported in Vertex AI.");if(u(i,["learningRate"])!==void 0)throw new Error("learningRate parameter is not supported in Vertex AI.");const _=u(i,["labels"]);n!==void 0&&_!=null&&f(n,["labels"],_);const S=u(i,["beta"]);return n!==void 0&&S!=null&&f(n,["preferenceOptimizationSpec","hyperParameters","beta"],S),a}function EC(i,n){const l={},a=u(i,["baseModel"]);a!=null&&f(l,["baseModel"],a);const s=u(i,["preTunedModel"]);s!=null&&f(l,["preTunedModel"],s);const c=u(i,["trainingDataset"]);c!=null&&UC(c);const d=u(i,["config"]);return d!=null&&SC(d,l),l}function CC(i,n){const l={},a=u(i,["baseModel"]);a!=null&&f(l,["baseModel"],a);const s=u(i,["preTunedModel"]);s!=null&&f(l,["preTunedModel"],s);const c=u(i,["trainingDataset"]);c!=null&&kC(c,l,n);const d=u(i,["config"]);return d!=null&&TC(d,l,n),l}function AC(i,n){const l={},a=u(i,["name"]);return a!=null&&f(l,["_url","name"],a),l}function xC(i,n){const l={},a=u(i,["name"]);return a!=null&&f(l,["_url","name"],a),l}function wC(i,n,l){const a={},s=u(i,["pageSize"]);n!==void 0&&s!=null&&f(n,["_query","pageSize"],s);const c=u(i,["pageToken"]);n!==void 0&&c!=null&&f(n,["_query","pageToken"],c);const d=u(i,["filter"]);return n!==void 0&&d!=null&&f(n,["_query","filter"],d),a}function RC(i,n,l){const a={},s=u(i,["pageSize"]);n!==void 0&&s!=null&&f(n,["_query","pageSize"],s);const c=u(i,["pageToken"]);n!==void 0&&c!=null&&f(n,["_query","pageToken"],c);const d=u(i,["filter"]);return n!==void 0&&d!=null&&f(n,["_query","filter"],d),a}function bC(i,n){const l={},a=u(i,["config"]);return a!=null&&wC(a,l),l}function MC(i,n){const l={},a=u(i,["config"]);return a!=null&&RC(a,l),l}function NC(i,n){const l={},a=u(i,["sdkHttpResponse"]);a!=null&&f(l,["sdkHttpResponse"],a);const s=u(i,["nextPageToken"]);s!=null&&f(l,["nextPageToken"],s);const c=u(i,["tunedModels"]);if(c!=null){let d=c;Array.isArray(d)&&(d=d.map(p=>Fm(p))),f(l,["tuningJobs"],d)}return l}function IC(i,n){const l={},a=u(i,["sdkHttpResponse"]);a!=null&&f(l,["sdkHttpResponse"],a);const s=u(i,["nextPageToken"]);s!=null&&f(l,["nextPageToken"],s);const c=u(i,["tuningJobs"]);if(c!=null){let d=c;Array.isArray(d)&&(d=d.map(p=>Tu(p))),f(l,["tuningJobs"],d)}return l}function DC(i,n){const l={},a=u(i,["name"]);a!=null&&f(l,["model"],a);const s=u(i,["name"]);return s!=null&&f(l,["endpoint"],s),l}function UC(i,n){const l={};if(u(i,["gcsUri"])!==void 0)throw new Error("gcsUri parameter is not supported in Gemini API.");if(u(i,["vertexDatasetResource"])!==void 0)throw new Error("vertexDatasetResource parameter is not supported in Gemini API.");const a=u(i,["examples"]);if(a!=null){let s=a;Array.isArray(s)&&(s=s.map(c=>c)),f(l,["examples","examples"],s)}return l}function kC(i,n,l){const a={};let s=u(l,["config","method"]);if(s===void 0&&(s="SUPERVISED_FINE_TUNING"),s==="SUPERVISED_FINE_TUNING"){const d=u(i,["gcsUri"]);n!==void 0&&d!=null&&f(n,["supervisedTuningSpec","trainingDatasetUri"],d)}else if(s==="PREFERENCE_TUNING"){const d=u(i,["gcsUri"]);n!==void 0&&d!=null&&f(n,["preferenceOptimizationSpec","trainingDatasetUri"],d)}let c=u(l,["config","method"]);if(c===void 0&&(c="SUPERVISED_FINE_TUNING"),c==="SUPERVISED_FINE_TUNING"){const d=u(i,["vertexDatasetResource"]);n!==void 0&&d!=null&&f(n,["supervisedTuningSpec","trainingDatasetUri"],d)}else if(c==="PREFERENCE_TUNING"){const d=u(i,["vertexDatasetResource"]);n!==void 0&&d!=null&&f(n,["preferenceOptimizationSpec","trainingDatasetUri"],d)}if(u(i,["examples"])!==void 0)throw new Error("examples parameter is not supported in Vertex AI.");return a}function Fm(i,n){const l={},a=u(i,["sdkHttpResponse"]);a!=null&&f(l,["sdkHttpResponse"],a);const s=u(i,["name"]);s!=null&&f(l,["name"],s);const c=u(i,["state"]);c!=null&&f(l,["state"],Am(c));const d=u(i,["createTime"]);d!=null&&f(l,["createTime"],d);const p=u(i,["tuningTask","startTime"]);p!=null&&f(l,["startTime"],p);const g=u(i,["tuningTask","completeTime"]);g!=null&&f(l,["endTime"],g);const m=u(i,["updateTime"]);m!=null&&f(l,["updateTime"],m);const v=u(i,["description"]);v!=null&&f(l,["description"],v);const _=u(i,["baseModel"]);_!=null&&f(l,["baseModel"],_);const S=u(i,["_self"]);return S!=null&&f(l,["tunedModel"],DC(S)),l}function Tu(i,n){const l={},a=u(i,["sdkHttpResponse"]);a!=null&&f(l,["sdkHttpResponse"],a);const s=u(i,["name"]);s!=null&&f(l,["name"],s);const c=u(i,["state"]);c!=null&&f(l,["state"],Am(c));const d=u(i,["createTime"]);d!=null&&f(l,["createTime"],d);const p=u(i,["startTime"]);p!=null&&f(l,["startTime"],p);const g=u(i,["endTime"]);g!=null&&f(l,["endTime"],g);const m=u(i,["updateTime"]);m!=null&&f(l,["updateTime"],m);const v=u(i,["error"]);v!=null&&f(l,["error"],v);const _=u(i,["description"]);_!=null&&f(l,["description"],_);const S=u(i,["baseModel"]);S!=null&&f(l,["baseModel"],S);const T=u(i,["tunedModel"]);T!=null&&f(l,["tunedModel"],T);const R=u(i,["preTunedModel"]);R!=null&&f(l,["preTunedModel"],R);const A=u(i,["supervisedTuningSpec"]);A!=null&&f(l,["supervisedTuningSpec"],A);const M=u(i,["preferenceOptimizationSpec"]);M!=null&&f(l,["preferenceOptimizationSpec"],M);const w=u(i,["tuningDataStats"]);w!=null&&f(l,["tuningDataStats"],w);const I=u(i,["encryptionSpec"]);I!=null&&f(l,["encryptionSpec"],I);const U=u(i,["partnerModelTuningSpec"]);U!=null&&f(l,["partnerModelTuningSpec"],U);const G=u(i,["customBaseModel"]);G!=null&&f(l,["customBaseModel"],G);const B=u(i,["experiment"]);B!=null&&f(l,["experiment"],B);const K=u(i,["labels"]);K!=null&&f(l,["labels"],K);const H=u(i,["outputUri"]);H!=null&&f(l,["outputUri"],H);const j=u(i,["pipelineJob"]);j!=null&&f(l,["pipelineJob"],j);const Y=u(i,["serviceAccount"]);Y!=null&&f(l,["serviceAccount"],Y);const oe=u(i,["tunedModelDisplayName"]);oe!=null&&f(l,["tunedModelDisplayName"],oe);const ye=u(i,["veoTuningSpec"]);return ye!=null&&f(l,["veoTuningSpec"],ye),l}function zC(i,n){const l={},a=u(i,["sdkHttpResponse"]);a!=null&&f(l,["sdkHttpResponse"],a);const s=u(i,["name"]);s!=null&&f(l,["name"],s);const c=u(i,["metadata"]);c!=null&&f(l,["metadata"],c);const d=u(i,["done"]);d!=null&&f(l,["done"],d);const p=u(i,["error"]);return p!=null&&f(l,["error"],p),l}function um(i,n){const l={},a=u(i,["gcsUri"]);a!=null&&f(l,["validationDatasetUri"],a);const s=u(i,["vertexDatasetResource"]);return s!=null&&f(l,["validationDatasetUri"],s),l}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class LC extends zn{constructor(n){super(),this.apiClient=n,this.get=async l=>await this.getInternal(l),this.list=async(l={})=>new bi(kn.PAGED_ITEM_TUNING_JOBS,a=>this.listInternal(a),await this.listInternal(l),l),this.tune=async l=>{var a;if(this.apiClient.isVertexAI())if(l.baseModel.startsWith("projects/")){const s={tunedModelName:l.baseModel};!((a=l.config)===null||a===void 0)&&a.preTunedModelCheckpointId&&(s.checkpointId=l.config.preTunedModelCheckpointId);const c=Object.assign(Object.assign({},l),{preTunedModel:s});return c.baseModel=void 0,await this.tuneInternal(c)}else{const s=Object.assign({},l);return await this.tuneInternal(s)}else{const s=Object.assign({},l),c=await this.tuneMldevInternal(s);let d="";return c.metadata!==void 0&&c.metadata.tunedModel!==void 0?d=c.metadata.tunedModel:c.name!==void 0&&c.name.includes("/operations/")&&(d=c.name.split("/operations/")[0]),{name:d,state:pu.JOB_STATE_QUEUED}}}}async getInternal(n){var l,a,s,c;let d,p="",g={};if(this.apiClient.isVertexAI()){const m=xC(n);return p=Ee("{name}",m._url),g=m._query,delete m._url,delete m._query,d=this.apiClient.request({path:p,queryParams:g,body:JSON.stringify(m),httpMethod:"GET",httpOptions:(l=n.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(a=n.config)===null||a===void 0?void 0:a.abortSignal}).then(v=>v.json().then(_=>{const S=_;return S.sdkHttpResponse={headers:v.headers},S})),d.then(v=>Tu(v))}else{const m=AC(n);return p=Ee("{name}",m._url),g=m._query,delete m._url,delete m._query,d=this.apiClient.request({path:p,queryParams:g,body:JSON.stringify(m),httpMethod:"GET",httpOptions:(s=n.config)===null||s===void 0?void 0:s.httpOptions,abortSignal:(c=n.config)===null||c===void 0?void 0:c.abortSignal}).then(v=>v.json().then(_=>{const S=_;return S.sdkHttpResponse={headers:v.headers},S})),d.then(v=>Fm(v))}}async listInternal(n){var l,a,s,c;let d,p="",g={};if(this.apiClient.isVertexAI()){const m=MC(n);return p=Ee("tuningJobs",m._url),g=m._query,delete m._url,delete m._query,d=this.apiClient.request({path:p,queryParams:g,body:JSON.stringify(m),httpMethod:"GET",httpOptions:(l=n.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(a=n.config)===null||a===void 0?void 0:a.abortSignal}).then(v=>v.json().then(_=>{const S=_;return S.sdkHttpResponse={headers:v.headers},S})),d.then(v=>{const _=IC(v),S=new Vp;return Object.assign(S,_),S})}else{const m=bC(n);return p=Ee("tunedModels",m._url),g=m._query,delete m._url,delete m._query,d=this.apiClient.request({path:p,queryParams:g,body:JSON.stringify(m),httpMethod:"GET",httpOptions:(s=n.config)===null||s===void 0?void 0:s.httpOptions,abortSignal:(c=n.config)===null||c===void 0?void 0:c.abortSignal}).then(v=>v.json().then(_=>{const S=_;return S.sdkHttpResponse={headers:v.headers},S})),d.then(v=>{const _=NC(v),S=new Vp;return Object.assign(S,_),S})}}async cancel(n){var l,a,s,c;let d="",p={};if(this.apiClient.isVertexAI()){const g=_C(n);d=Ee("{name}:cancel",g._url),p=g._query,delete g._url,delete g._query,await this.apiClient.request({path:d,queryParams:p,body:JSON.stringify(g),httpMethod:"POST",httpOptions:(l=n.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(a=n.config)===null||a===void 0?void 0:a.abortSignal})}else{const g=vC(n);d=Ee("{name}:cancel",g._url),p=g._query,delete g._url,delete g._query,await this.apiClient.request({path:d,queryParams:p,body:JSON.stringify(g),httpMethod:"POST",httpOptions:(s=n.config)===null||s===void 0?void 0:s.httpOptions,abortSignal:(c=n.config)===null||c===void 0?void 0:c.abortSignal})}}async tuneInternal(n){var l,a;let s,c="",d={};if(this.apiClient.isVertexAI()){const p=CC(n,n);return c=Ee("tuningJobs",p._url),d=p._query,delete p._url,delete p._query,s=this.apiClient.request({path:c,queryParams:d,body:JSON.stringify(p),httpMethod:"POST",httpOptions:(l=n.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(a=n.config)===null||a===void 0?void 0:a.abortSignal}).then(g=>g.json().then(m=>{const v=m;return v.sdkHttpResponse={headers:g.headers},v})),s.then(g=>Tu(g))}else throw new Error("This method is only supported by the Vertex AI.")}async tuneMldevInternal(n){var l,a;let s,c="",d={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const p=EC(n);return c=Ee("tunedModels",p._url),d=p._query,delete p._url,delete p._query,s=this.apiClient.request({path:c,queryParams:d,body:JSON.stringify(p),httpMethod:"POST",httpOptions:(l=n.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(a=n.config)===null||a===void 0?void 0:a.abortSignal}).then(g=>g.json().then(m=>{const v=m;return v.sdkHttpResponse={headers:g.headers},v})),s.then(g=>zC(g))}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class BC{async download(n,l){throw new Error("Download to file is not supported in the browser, please use a browser compliant download like an <a> tag.")}}const GC=1024*1024*8,qC=3,HC=1e3,PC=2,Ga="x-goog-upload-status";async function VC(i,n,l){var a;const s=await Om(i,n,l),c=await(s==null?void 0:s.json());if(((a=s==null?void 0:s.headers)===null||a===void 0?void 0:a[Ga])!=="final")throw new Error("Failed to upload file: Upload status is not finalized.");return c.file}async function FC(i,n,l){var a;const s=await Om(i,n,l),c=await(s==null?void 0:s.json());if(((a=s==null?void 0:s.headers)===null||a===void 0?void 0:a[Ga])!=="final")throw new Error("Failed to upload file: Upload status is not finalized.");const d=vm(c),p=new Ru;return Object.assign(p,d),p}async function Om(i,n,l){var a,s;let c=0,d=0,p=new mu(new Response),g="upload";for(c=i.size;d<c;){const m=Math.min(GC,c-d),v=i.slice(d,d+m);d+m>=c&&(g+=", finalize");let _=0,S=HC;for(;_<qC&&(p=await l.request({path:"",body:v,httpMethod:"POST",httpOptions:{apiVersion:"",baseUrl:n,headers:{"X-Goog-Upload-Command":g,"X-Goog-Upload-Offset":String(d),"Content-Length":String(m)}}}),!(!((a=p==null?void 0:p.headers)===null||a===void 0)&&a[Ga]));)_++,await YC(S),S=S*PC;if(d+=m,((s=p==null?void 0:p.headers)===null||s===void 0?void 0:s[Ga])!=="active")break;if(c<=d)throw new Error("All content has been uploaded, but the upload status is not finalized.")}return p}async function OC(i){return{size:i.size,type:i.type}}function YC(i){return new Promise(n=>setTimeout(n,i))}class JC{async upload(n,l,a){if(typeof n=="string")throw new Error("File path is not supported in browser uploader.");return await VC(n,l,a)}async uploadToFileSearchStore(n,l,a){if(typeof n=="string")throw new Error("File path is not supported in browser uploader.");return await FC(n,l,a)}async stat(n){if(typeof n=="string")throw new Error("File path is not supported in browser uploader.");return await OC(n)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class ZC{create(n,l,a){return new KC(n,l,a)}}class KC{constructor(n,l,a){this.url=n,this.headers=l,this.callbacks=a}connect(){this.ws=new WebSocket(this.url),this.ws.onopen=this.callbacks.onopen,this.ws.onerror=this.callbacks.onerror,this.ws.onclose=this.callbacks.onclose,this.ws.onmessage=this.callbacks.onmessage}send(n){if(this.ws===void 0)throw new Error("WebSocket is not connected");this.ws.send(n)}close(){if(this.ws===void 0)throw new Error("WebSocket is not connected");this.ws.close()}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const cm="x-goog-api-key";class XC{constructor(n){this.apiKey=n}async addAuthHeaders(n,l){if(n.get(cm)===null){if(this.apiKey.startsWith("auth_tokens/"))throw new Error("Ephemeral tokens are only supported by the live API.");if(!this.apiKey)throw new Error("API key is missing. Please provide a valid API key.");n.append(cm,this.apiKey)}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const QC="gl-node/";class WC{constructor(n){var l;if(n.apiKey==null)throw new Error("An API Key must be set when running in a browser");if(n.project||n.location)throw new Error("Vertex AI project based authentication is not supported on browser runtimes. Please do not provide a project or location.");this.vertexai=(l=n.vertexai)!==null&&l!==void 0?l:!1,this.apiKey=n.apiKey;const a=R0(n.httpOptions,n.vertexai,void 0,void 0);a&&(n.httpOptions?n.httpOptions.baseUrl=a:n.httpOptions={baseUrl:a}),this.apiVersion=n.apiVersion;const s=new XC(this.apiKey);this.apiClient=new dE({auth:s,apiVersion:this.apiVersion,apiKey:this.apiKey,vertexai:this.vertexai,httpOptions:n.httpOptions,userAgentExtra:QC+"web",uploader:new JC,downloader:new BC}),this.models=new IE(this.apiClient),this.live=new xE(this.apiClient,s,new ZC),this.batches=new n_(this.apiClient),this.chats=new B_(this.models,this.apiClient),this.caches=new k_(this.apiClient),this.files=new Z_(this.apiClient),this.operations=new DE(this.apiClient),this.authTokens=new KE(this.apiClient),this.tunings=new LC(this.apiClient),this.fileSearchStores=new yC(this.apiClient)}}const vl=new WC({apiKey:"AIzaSyAURfMxHjSbVw-YsinQdn0PtKmdb4u3ns0"}),$C=(i,n)=>({inlineData:{data:i.split(",")[1],mimeType:n}}),jC=async i=>{try{return(await vl.models.generateContent({model:"gemini-2.5-flash",contents:`Enhance this user's prompt for an AI image generator to be more descriptive, vivid, and detailed. Return only the enhanced prompt. Original prompt: "${i}"`,config:{thinkingConfig:{thinkingBudget:0}}})).text.trim()}catch(n){return console.error("Error enhancing prompt:",n),i}},e1=async(i,n,l)=>{try{if(l){const a=$C(l.base64,l.mimeType),s={text:`Generate an image inspired by the reference image, matching this prompt. The final image should have an aspect ratio of ${n}. Prompt: ${i}`},c=await vl.models.generateContent({model:"gemini-2.5-flash-image-preview",contents:{parts:[s,a]},config:{responseModalities:[_o.IMAGE,_o.TEXT]}});for(const d of c.candidates[0].content.parts)if(d.inlineData){const p=d.inlineData.data;return`data:${d.inlineData.mimeType};base64,${p}`}throw new Error("Image generation with reference failed: No image part in response.")}else{const a=await vl.models.generateImages({model:"imagen-4.0-generate-001",prompt:i,config:{numberOfImages:1,outputMimeType:"image/png",aspectRatio:n}});if(a.generatedImages&&a.generatedImages.length>0)return`data:image/png;base64,${a.generatedImages[0].image.imageBytes}`;throw new Error("No image generated.")}}catch(a){throw console.error("Error generating image:",a),a}},t1=async(i,n,l,a)=>{var s,c,d;try{const p=n.base64.split(",")[1];if(!p)throw new Error("Invalid base64 image data");a("Starting video generation...");let g=await vl.models.generateVideos({model:l,prompt:i,image:{imageBytes:p,mimeType:n.mimeType},config:{numberOfVideos:1}});a("Video processing started. This may take a few minutes...");let m=0;const v=["Analyzing image and prompt...","Composing video scenes...","Rendering frames...","Adding final touches...","Almost there..."];for(;!g.done;)await new Promise(M=>setTimeout(M,1e4)),a(v[m%v.length]),m++,g=await vl.operations.getVideosOperation({operation:g});if(g.error){const M=g.error.message||JSON.stringify(g.error);throw console.error("Video generation operation failed with an error:",g.error),new Error(`Video generation failed: ${M}`)}a("Finalizing video...");const _=(s=g.response)==null?void 0:s.generatedVideos;if(!_||_.length===0){const M=JSON.stringify(g.response??g,null,2);throw console.error("Video generation completed, but the response did not contain any videos:",M),new Error(`Video generation failed: The API returned an empty or invalid response. Full response: ${M}`)}const S=(d=(c=_[0])==null?void 0:c.video)==null?void 0:d.uri;if(!S){const M=JSON.stringify(_[0],null,2);throw console.error("A video object was returned, but it did not contain a download link:",M),new Error(`Video generation failed: No download link was provided for the generated video. Video data: ${M}`)}a("Downloading video...");const T=await fetch(`${S}&key=AIzaSyAURfMxHjSbVw-YsinQdn0PtKmdb4u3ns0`);if(!T.ok)throw new Error(`Failed to download video: ${T.statusText}`);const R=await T.blob();return URL.createObjectURL(R)}catch(p){throw console.error("Error generating video:",p),p}},n1=i=>{const n=/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i.exec(i);return n?{r:parseInt(n[1],16),g:parseInt(n[2],16),b:parseInt(n[3],16)}:null},i1=()=>{const i=d=>new Promise((p,g)=>{const m=new Image;m.onload=()=>p(m),m.onerror=v=>g(v),m.crossOrigin="anonymous",m.src=d}),n=Te.useCallback(async(d,p,g,m,v,_,S)=>{const T=document.createElement("canvas");T.width=m,T.height=v;const R=T.getContext("2d");if(!R)throw new Error("Could not get canvas context");R.fillStyle=S,R.fillRect(0,0,m,v);const A=_*(p+1),M=_*(g+1),w=m-A,I=v-M;if(w<=0||I<=0)return console.warn("Padding is too large for the given dimensions. Returning a solid color background."),T.toDataURL("image/png");const U=w/p,G=I/g,B=[];for(let K=0;K<g;K++)for(let H=0;H<p;H++){const j=d[K][H];if(j){const Y=i(j).then(oe=>{const ye=_+H*(U+_),L=_+K*(G+_);R.drawImage(oe,ye,L,U,G)}).catch(oe=>console.error(`Failed to load image at ${K},${H}`,oe));B.push(Y)}}return await Promise.all(B),T.toDataURL("image/png")},[]),l=Te.useCallback(async(d,p,g=20)=>{const m=await i(d),v=document.createElement("canvas");v.width=m.width,v.height=m.height;const _=v.getContext("2d");if(!_)throw new Error("Could not get canvas context");_.drawImage(m,0,0);const T=_.getImageData(0,0,v.width,v.height).data,R=p?n1(p):null;let A=v.width,M=v.height,w=-1,I=-1;for(let H=0;H<v.height;H++)for(let j=0;j<v.width;j++){const Y=(H*v.width+j)*4,oe=T[Y],ye=T[Y+1],L=T[Y+2],le=T[Y+3];let x=!1;R?Math.sqrt(Math.pow(oe-R.r,2)+Math.pow(ye-R.g,2)+Math.pow(L-R.b,2))>g&&le>0&&(x=!0):le>0&&(x=!0),x&&(j<A&&(A=j),j>w&&(w=j),H<M&&(M=H),H>I&&(I=H))}if(w===-1)return d;const U=w-A+1,G=I-M+1,B=document.createElement("canvas");B.width=U,B.height=G;const K=B.getContext("2d");if(!K)throw new Error("Could not get crop canvas context");return K.drawImage(v,A,M,U,G,0,0,U,G),B.toDataURL("image/png")},[]),a=Te.useCallback(async(d,p,g="#FFFFFF")=>{const m=await i(d);let v=m.width,_=m.height;m.width/m.height>p?_=m.width/p:v=m.height*p;const T=document.createElement("canvas"),R=Math.min(1500/v,1500/_,1);T.width=v*R,T.height=_*R;const A=T.getContext("2d");if(!A)throw new Error("Could not get canvas context");A.fillStyle=g,A.fillRect(0,0,T.width,T.height);const M=m.width*R,w=m.height*R,I=(T.width-M)/2,U=(T.height-w)/2;return A.drawImage(m,I,U,M,w),T.toDataURL("image/png")},[]),s=Te.useCallback(async(d,p)=>{const g=await i(d),m=document.createElement("canvas");m.width=g.width,m.height=g.height;const v=m.getContext("2d");if(!v)throw new Error("Could not get canvas context");return p==="horizontal"?(v.translate(m.width,0),v.scale(-1,1)):(v.translate(0,m.height),v.scale(1,-1)),v.drawImage(g,0,0),m.toDataURL("image/png")},[]),c=Te.useCallback(async(d,p)=>{const g=await i(d),m=document.createElement("canvas");m.width=p.width,m.height=p.height;const v=m.getContext("2d");if(!v)throw new Error("Could not get canvas context");return v.drawImage(g,p.x,p.y,p.width,p.height,0,0,p.width,p.height),m.toDataURL("image/png")},[]);return{mixImages:n,autoCrop:l,letterboxImage:a,flipImage:s,manualCrop:c}};function Ua(i){throw new Error('Could not dynamically require "'+i+'". Please configure the dynamicRequireTargets or/and ignoreDynamicRequires option of @rollup/plugin-commonjs appropriately for this require call to work.')}var uu={exports:{}};/*!

JSZip v3.10.1 - A JavaScript class for generating and reading zip files
<http://stuartk.com/jszip>

(c) 2009-2016 Stuart Knightley <stuart [at] stuartk.com>
Dual licenced under the MIT license or GPLv3. See https://raw.github.com/Stuk/jszip/main/LICENSE.markdown.

JSZip uses the library pako released under the MIT license :
https://github.com/nodeca/pako/blob/main/LICENSE
*/var fm;function o1(){return fm||(fm=1,(function(i,n){(function(l){i.exports=l()})(function(){return(function l(a,s,c){function d(m,v){if(!s[m]){if(!a[m]){var _=typeof Ua=="function"&&Ua;if(!v&&_)return _(m,!0);if(p)return p(m,!0);var S=new Error("Cannot find module '"+m+"'");throw S.code="MODULE_NOT_FOUND",S}var T=s[m]={exports:{}};a[m][0].call(T.exports,function(R){var A=a[m][1][R];return d(A||R)},T,T.exports,l,a,s,c)}return s[m].exports}for(var p=typeof Ua=="function"&&Ua,g=0;g<c.length;g++)d(c[g]);return d})({1:[function(l,a,s){var c=l("./utils"),d=l("./support"),p="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";s.encode=function(g){for(var m,v,_,S,T,R,A,M=[],w=0,I=g.length,U=I,G=c.getTypeOf(g)!=="string";w<g.length;)U=I-w,_=G?(m=g[w++],v=w<I?g[w++]:0,w<I?g[w++]:0):(m=g.charCodeAt(w++),v=w<I?g.charCodeAt(w++):0,w<I?g.charCodeAt(w++):0),S=m>>2,T=(3&m)<<4|v>>4,R=1<U?(15&v)<<2|_>>6:64,A=2<U?63&_:64,M.push(p.charAt(S)+p.charAt(T)+p.charAt(R)+p.charAt(A));return M.join("")},s.decode=function(g){var m,v,_,S,T,R,A=0,M=0,w="data:";if(g.substr(0,w.length)===w)throw new Error("Invalid base64 input, it looks like a data url.");var I,U=3*(g=g.replace(/[^A-Za-z0-9+/=]/g,"")).length/4;if(g.charAt(g.length-1)===p.charAt(64)&&U--,g.charAt(g.length-2)===p.charAt(64)&&U--,U%1!=0)throw new Error("Invalid base64 input, bad content length.");for(I=d.uint8array?new Uint8Array(0|U):new Array(0|U);A<g.length;)m=p.indexOf(g.charAt(A++))<<2|(S=p.indexOf(g.charAt(A++)))>>4,v=(15&S)<<4|(T=p.indexOf(g.charAt(A++)))>>2,_=(3&T)<<6|(R=p.indexOf(g.charAt(A++))),I[M++]=m,T!==64&&(I[M++]=v),R!==64&&(I[M++]=_);return I}},{"./support":30,"./utils":32}],2:[function(l,a,s){var c=l("./external"),d=l("./stream/DataWorker"),p=l("./stream/Crc32Probe"),g=l("./stream/DataLengthProbe");function m(v,_,S,T,R){this.compressedSize=v,this.uncompressedSize=_,this.crc32=S,this.compression=T,this.compressedContent=R}m.prototype={getContentWorker:function(){var v=new d(c.Promise.resolve(this.compressedContent)).pipe(this.compression.uncompressWorker()).pipe(new g("data_length")),_=this;return v.on("end",function(){if(this.streamInfo.data_length!==_.uncompressedSize)throw new Error("Bug : uncompressed data size mismatch")}),v},getCompressedWorker:function(){return new d(c.Promise.resolve(this.compressedContent)).withStreamInfo("compressedSize",this.compressedSize).withStreamInfo("uncompressedSize",this.uncompressedSize).withStreamInfo("crc32",this.crc32).withStreamInfo("compression",this.compression)}},m.createWorkerFrom=function(v,_,S){return v.pipe(new p).pipe(new g("uncompressedSize")).pipe(_.compressWorker(S)).pipe(new g("compressedSize")).withStreamInfo("compression",_)},a.exports=m},{"./external":6,"./stream/Crc32Probe":25,"./stream/DataLengthProbe":26,"./stream/DataWorker":27}],3:[function(l,a,s){var c=l("./stream/GenericWorker");s.STORE={magic:"\0\0",compressWorker:function(){return new c("STORE compression")},uncompressWorker:function(){return new c("STORE decompression")}},s.DEFLATE=l("./flate")},{"./flate":7,"./stream/GenericWorker":28}],4:[function(l,a,s){var c=l("./utils"),d=(function(){for(var p,g=[],m=0;m<256;m++){p=m;for(var v=0;v<8;v++)p=1&p?3988292384^p>>>1:p>>>1;g[m]=p}return g})();a.exports=function(p,g){return p!==void 0&&p.length?c.getTypeOf(p)!=="string"?(function(m,v,_,S){var T=d,R=S+_;m^=-1;for(var A=S;A<R;A++)m=m>>>8^T[255&(m^v[A])];return-1^m})(0|g,p,p.length,0):(function(m,v,_,S){var T=d,R=S+_;m^=-1;for(var A=S;A<R;A++)m=m>>>8^T[255&(m^v.charCodeAt(A))];return-1^m})(0|g,p,p.length,0):0}},{"./utils":32}],5:[function(l,a,s){s.base64=!1,s.binary=!1,s.dir=!1,s.createFolders=!0,s.date=null,s.compression=null,s.compressionOptions=null,s.comment=null,s.unixPermissions=null,s.dosPermissions=null},{}],6:[function(l,a,s){var c=null;c=typeof Promise<"u"?Promise:l("lie"),a.exports={Promise:c}},{lie:37}],7:[function(l,a,s){var c=typeof Uint8Array<"u"&&typeof Uint16Array<"u"&&typeof Uint32Array<"u",d=l("pako"),p=l("./utils"),g=l("./stream/GenericWorker"),m=c?"uint8array":"array";function v(_,S){g.call(this,"FlateWorker/"+_),this._pako=null,this._pakoAction=_,this._pakoOptions=S,this.meta={}}s.magic="\b\0",p.inherits(v,g),v.prototype.processChunk=function(_){this.meta=_.meta,this._pako===null&&this._createPako(),this._pako.push(p.transformTo(m,_.data),!1)},v.prototype.flush=function(){g.prototype.flush.call(this),this._pako===null&&this._createPako(),this._pako.push([],!0)},v.prototype.cleanUp=function(){g.prototype.cleanUp.call(this),this._pako=null},v.prototype._createPako=function(){this._pako=new d[this._pakoAction]({raw:!0,level:this._pakoOptions.level||-1});var _=this;this._pako.onData=function(S){_.push({data:S,meta:_.meta})}},s.compressWorker=function(_){return new v("Deflate",_)},s.uncompressWorker=function(){return new v("Inflate",{})}},{"./stream/GenericWorker":28,"./utils":32,pako:38}],8:[function(l,a,s){function c(T,R){var A,M="";for(A=0;A<R;A++)M+=String.fromCharCode(255&T),T>>>=8;return M}function d(T,R,A,M,w,I){var U,G,B=T.file,K=T.compression,H=I!==m.utf8encode,j=p.transformTo("string",I(B.name)),Y=p.transformTo("string",m.utf8encode(B.name)),oe=B.comment,ye=p.transformTo("string",I(oe)),L=p.transformTo("string",m.utf8encode(oe)),le=Y.length!==B.name.length,x=L.length!==oe.length,J="",V="",F="",me=B.dir,Z=B.date,de={crc32:0,compressedSize:0,uncompressedSize:0};R&&!A||(de.crc32=T.crc32,de.compressedSize=T.compressedSize,de.uncompressedSize=T.uncompressedSize);var b=0;R&&(b|=8),H||!le&&!x||(b|=2048);var k=0,ne=0;me&&(k|=16),w==="UNIX"?(ne=798,k|=(function(se,Ce){var Ue=se;return se||(Ue=Ce?16893:33204),(65535&Ue)<<16})(B.unixPermissions,me)):(ne=20,k|=(function(se){return 63&(se||0)})(B.dosPermissions)),U=Z.getUTCHours(),U<<=6,U|=Z.getUTCMinutes(),U<<=5,U|=Z.getUTCSeconds()/2,G=Z.getUTCFullYear()-1980,G<<=4,G|=Z.getUTCMonth()+1,G<<=5,G|=Z.getUTCDate(),le&&(V=c(1,1)+c(v(j),4)+Y,J+="up"+c(V.length,2)+V),x&&(F=c(1,1)+c(v(ye),4)+L,J+="uc"+c(F.length,2)+F);var ie="";return ie+=`
\0`,ie+=c(b,2),ie+=K.magic,ie+=c(U,2),ie+=c(G,2),ie+=c(de.crc32,4),ie+=c(de.compressedSize,4),ie+=c(de.uncompressedSize,4),ie+=c(j.length,2),ie+=c(J.length,2),{fileRecord:_.LOCAL_FILE_HEADER+ie+j+J,dirRecord:_.CENTRAL_FILE_HEADER+c(ne,2)+ie+c(ye.length,2)+"\0\0\0\0"+c(k,4)+c(M,4)+j+J+ye}}var p=l("../utils"),g=l("../stream/GenericWorker"),m=l("../utf8"),v=l("../crc32"),_=l("../signature");function S(T,R,A,M){g.call(this,"ZipFileWorker"),this.bytesWritten=0,this.zipComment=R,this.zipPlatform=A,this.encodeFileName=M,this.streamFiles=T,this.accumulate=!1,this.contentBuffer=[],this.dirRecords=[],this.currentSourceOffset=0,this.entriesCount=0,this.currentFile=null,this._sources=[]}p.inherits(S,g),S.prototype.push=function(T){var R=T.meta.percent||0,A=this.entriesCount,M=this._sources.length;this.accumulate?this.contentBuffer.push(T):(this.bytesWritten+=T.data.length,g.prototype.push.call(this,{data:T.data,meta:{currentFile:this.currentFile,percent:A?(R+100*(A-M-1))/A:100}}))},S.prototype.openedSource=function(T){this.currentSourceOffset=this.bytesWritten,this.currentFile=T.file.name;var R=this.streamFiles&&!T.file.dir;if(R){var A=d(T,R,!1,this.currentSourceOffset,this.zipPlatform,this.encodeFileName);this.push({data:A.fileRecord,meta:{percent:0}})}else this.accumulate=!0},S.prototype.closedSource=function(T){this.accumulate=!1;var R=this.streamFiles&&!T.file.dir,A=d(T,R,!0,this.currentSourceOffset,this.zipPlatform,this.encodeFileName);if(this.dirRecords.push(A.dirRecord),R)this.push({data:(function(M){return _.DATA_DESCRIPTOR+c(M.crc32,4)+c(M.compressedSize,4)+c(M.uncompressedSize,4)})(T),meta:{percent:100}});else for(this.push({data:A.fileRecord,meta:{percent:0}});this.contentBuffer.length;)this.push(this.contentBuffer.shift());this.currentFile=null},S.prototype.flush=function(){for(var T=this.bytesWritten,R=0;R<this.dirRecords.length;R++)this.push({data:this.dirRecords[R],meta:{percent:100}});var A=this.bytesWritten-T,M=(function(w,I,U,G,B){var K=p.transformTo("string",B(G));return _.CENTRAL_DIRECTORY_END+"\0\0\0\0"+c(w,2)+c(w,2)+c(I,4)+c(U,4)+c(K.length,2)+K})(this.dirRecords.length,A,T,this.zipComment,this.encodeFileName);this.push({data:M,meta:{percent:100}})},S.prototype.prepareNextSource=function(){this.previous=this._sources.shift(),this.openedSource(this.previous.streamInfo),this.isPaused?this.previous.pause():this.previous.resume()},S.prototype.registerPrevious=function(T){this._sources.push(T);var R=this;return T.on("data",function(A){R.processChunk(A)}),T.on("end",function(){R.closedSource(R.previous.streamInfo),R._sources.length?R.prepareNextSource():R.end()}),T.on("error",function(A){R.error(A)}),this},S.prototype.resume=function(){return!!g.prototype.resume.call(this)&&(!this.previous&&this._sources.length?(this.prepareNextSource(),!0):this.previous||this._sources.length||this.generatedError?void 0:(this.end(),!0))},S.prototype.error=function(T){var R=this._sources;if(!g.prototype.error.call(this,T))return!1;for(var A=0;A<R.length;A++)try{R[A].error(T)}catch{}return!0},S.prototype.lock=function(){g.prototype.lock.call(this);for(var T=this._sources,R=0;R<T.length;R++)T[R].lock()},a.exports=S},{"../crc32":4,"../signature":23,"../stream/GenericWorker":28,"../utf8":31,"../utils":32}],9:[function(l,a,s){var c=l("../compressions"),d=l("./ZipFileWorker");s.generateWorker=function(p,g,m){var v=new d(g.streamFiles,m,g.platform,g.encodeFileName),_=0;try{p.forEach(function(S,T){_++;var R=(function(I,U){var G=I||U,B=c[G];if(!B)throw new Error(G+" is not a valid compression method !");return B})(T.options.compression,g.compression),A=T.options.compressionOptions||g.compressionOptions||{},M=T.dir,w=T.date;T._compressWorker(R,A).withStreamInfo("file",{name:S,dir:M,date:w,comment:T.comment||"",unixPermissions:T.unixPermissions,dosPermissions:T.dosPermissions}).pipe(v)}),v.entriesCount=_}catch(S){v.error(S)}return v}},{"../compressions":3,"./ZipFileWorker":8}],10:[function(l,a,s){function c(){if(!(this instanceof c))return new c;if(arguments.length)throw new Error("The constructor with parameters has been removed in JSZip 3.0, please check the upgrade guide.");this.files=Object.create(null),this.comment=null,this.root="",this.clone=function(){var d=new c;for(var p in this)typeof this[p]!="function"&&(d[p]=this[p]);return d}}(c.prototype=l("./object")).loadAsync=l("./load"),c.support=l("./support"),c.defaults=l("./defaults"),c.version="3.10.1",c.loadAsync=function(d,p){return new c().loadAsync(d,p)},c.external=l("./external"),a.exports=c},{"./defaults":5,"./external":6,"./load":11,"./object":15,"./support":30}],11:[function(l,a,s){var c=l("./utils"),d=l("./external"),p=l("./utf8"),g=l("./zipEntries"),m=l("./stream/Crc32Probe"),v=l("./nodejsUtils");function _(S){return new d.Promise(function(T,R){var A=S.decompressed.getContentWorker().pipe(new m);A.on("error",function(M){R(M)}).on("end",function(){A.streamInfo.crc32!==S.decompressed.crc32?R(new Error("Corrupted zip : CRC32 mismatch")):T()}).resume()})}a.exports=function(S,T){var R=this;return T=c.extend(T||{},{base64:!1,checkCRC32:!1,optimizedBinaryString:!1,createFolders:!1,decodeFileName:p.utf8decode}),v.isNode&&v.isStream(S)?d.Promise.reject(new Error("JSZip can't accept a stream when loading a zip file.")):c.prepareContent("the loaded zip file",S,!0,T.optimizedBinaryString,T.base64).then(function(A){var M=new g(T);return M.load(A),M}).then(function(A){var M=[d.Promise.resolve(A)],w=A.files;if(T.checkCRC32)for(var I=0;I<w.length;I++)M.push(_(w[I]));return d.Promise.all(M)}).then(function(A){for(var M=A.shift(),w=M.files,I=0;I<w.length;I++){var U=w[I],G=U.fileNameStr,B=c.resolve(U.fileNameStr);R.file(B,U.decompressed,{binary:!0,optimizedBinaryString:!0,date:U.date,dir:U.dir,comment:U.fileCommentStr.length?U.fileCommentStr:null,unixPermissions:U.unixPermissions,dosPermissions:U.dosPermissions,createFolders:T.createFolders}),U.dir||(R.file(B).unsafeOriginalName=G)}return M.zipComment.length&&(R.comment=M.zipComment),R})}},{"./external":6,"./nodejsUtils":14,"./stream/Crc32Probe":25,"./utf8":31,"./utils":32,"./zipEntries":33}],12:[function(l,a,s){var c=l("../utils"),d=l("../stream/GenericWorker");function p(g,m){d.call(this,"Nodejs stream input adapter for "+g),this._upstreamEnded=!1,this._bindStream(m)}c.inherits(p,d),p.prototype._bindStream=function(g){var m=this;(this._stream=g).pause(),g.on("data",function(v){m.push({data:v,meta:{percent:0}})}).on("error",function(v){m.isPaused?this.generatedError=v:m.error(v)}).on("end",function(){m.isPaused?m._upstreamEnded=!0:m.end()})},p.prototype.pause=function(){return!!d.prototype.pause.call(this)&&(this._stream.pause(),!0)},p.prototype.resume=function(){return!!d.prototype.resume.call(this)&&(this._upstreamEnded?this.end():this._stream.resume(),!0)},a.exports=p},{"../stream/GenericWorker":28,"../utils":32}],13:[function(l,a,s){var c=l("readable-stream").Readable;function d(p,g,m){c.call(this,g),this._helper=p;var v=this;p.on("data",function(_,S){v.push(_)||v._helper.pause(),m&&m(S)}).on("error",function(_){v.emit("error",_)}).on("end",function(){v.push(null)})}l("../utils").inherits(d,c),d.prototype._read=function(){this._helper.resume()},a.exports=d},{"../utils":32,"readable-stream":16}],14:[function(l,a,s){a.exports={isNode:typeof Buffer<"u",newBufferFrom:function(c,d){if(Buffer.from&&Buffer.from!==Uint8Array.from)return Buffer.from(c,d);if(typeof c=="number")throw new Error('The "data" argument must not be a number');return new Buffer(c,d)},allocBuffer:function(c){if(Buffer.alloc)return Buffer.alloc(c);var d=new Buffer(c);return d.fill(0),d},isBuffer:function(c){return Buffer.isBuffer(c)},isStream:function(c){return c&&typeof c.on=="function"&&typeof c.pause=="function"&&typeof c.resume=="function"}}},{}],15:[function(l,a,s){function c(B,K,H){var j,Y=p.getTypeOf(K),oe=p.extend(H||{},v);oe.date=oe.date||new Date,oe.compression!==null&&(oe.compression=oe.compression.toUpperCase()),typeof oe.unixPermissions=="string"&&(oe.unixPermissions=parseInt(oe.unixPermissions,8)),oe.unixPermissions&&16384&oe.unixPermissions&&(oe.dir=!0),oe.dosPermissions&&16&oe.dosPermissions&&(oe.dir=!0),oe.dir&&(B=w(B)),oe.createFolders&&(j=M(B))&&I.call(this,j,!0);var ye=Y==="string"&&oe.binary===!1&&oe.base64===!1;H&&H.binary!==void 0||(oe.binary=!ye),(K instanceof _&&K.uncompressedSize===0||oe.dir||!K||K.length===0)&&(oe.base64=!1,oe.binary=!0,K="",oe.compression="STORE",Y="string");var L=null;L=K instanceof _||K instanceof g?K:R.isNode&&R.isStream(K)?new A(B,K):p.prepareContent(B,K,oe.binary,oe.optimizedBinaryString,oe.base64);var le=new S(B,L,oe);this.files[B]=le}var d=l("./utf8"),p=l("./utils"),g=l("./stream/GenericWorker"),m=l("./stream/StreamHelper"),v=l("./defaults"),_=l("./compressedObject"),S=l("./zipObject"),T=l("./generate"),R=l("./nodejsUtils"),A=l("./nodejs/NodejsStreamInputAdapter"),M=function(B){B.slice(-1)==="/"&&(B=B.substring(0,B.length-1));var K=B.lastIndexOf("/");return 0<K?B.substring(0,K):""},w=function(B){return B.slice(-1)!=="/"&&(B+="/"),B},I=function(B,K){return K=K!==void 0?K:v.createFolders,B=w(B),this.files[B]||c.call(this,B,null,{dir:!0,createFolders:K}),this.files[B]};function U(B){return Object.prototype.toString.call(B)==="[object RegExp]"}var G={load:function(){throw new Error("This method has been removed in JSZip 3.0, please check the upgrade guide.")},forEach:function(B){var K,H,j;for(K in this.files)j=this.files[K],(H=K.slice(this.root.length,K.length))&&K.slice(0,this.root.length)===this.root&&B(H,j)},filter:function(B){var K=[];return this.forEach(function(H,j){B(H,j)&&K.push(j)}),K},file:function(B,K,H){if(arguments.length!==1)return B=this.root+B,c.call(this,B,K,H),this;if(U(B)){var j=B;return this.filter(function(oe,ye){return!ye.dir&&j.test(oe)})}var Y=this.files[this.root+B];return Y&&!Y.dir?Y:null},folder:function(B){if(!B)return this;if(U(B))return this.filter(function(Y,oe){return oe.dir&&B.test(Y)});var K=this.root+B,H=I.call(this,K),j=this.clone();return j.root=H.name,j},remove:function(B){B=this.root+B;var K=this.files[B];if(K||(B.slice(-1)!=="/"&&(B+="/"),K=this.files[B]),K&&!K.dir)delete this.files[B];else for(var H=this.filter(function(Y,oe){return oe.name.slice(0,B.length)===B}),j=0;j<H.length;j++)delete this.files[H[j].name];return this},generate:function(){throw new Error("This method has been removed in JSZip 3.0, please check the upgrade guide.")},generateInternalStream:function(B){var K,H={};try{if((H=p.extend(B||{},{streamFiles:!1,compression:"STORE",compressionOptions:null,type:"",platform:"DOS",comment:null,mimeType:"application/zip",encodeFileName:d.utf8encode})).type=H.type.toLowerCase(),H.compression=H.compression.toUpperCase(),H.type==="binarystring"&&(H.type="string"),!H.type)throw new Error("No output type specified.");p.checkSupport(H.type),H.platform!=="darwin"&&H.platform!=="freebsd"&&H.platform!=="linux"&&H.platform!=="sunos"||(H.platform="UNIX"),H.platform==="win32"&&(H.platform="DOS");var j=H.comment||this.comment||"";K=T.generateWorker(this,H,j)}catch(Y){(K=new g("error")).error(Y)}return new m(K,H.type||"string",H.mimeType)},generateAsync:function(B,K){return this.generateInternalStream(B).accumulate(K)},generateNodeStream:function(B,K){return(B=B||{}).type||(B.type="nodebuffer"),this.generateInternalStream(B).toNodejsStream(K)}};a.exports=G},{"./compressedObject":2,"./defaults":5,"./generate":9,"./nodejs/NodejsStreamInputAdapter":12,"./nodejsUtils":14,"./stream/GenericWorker":28,"./stream/StreamHelper":29,"./utf8":31,"./utils":32,"./zipObject":35}],16:[function(l,a,s){a.exports=l("stream")},{stream:void 0}],17:[function(l,a,s){var c=l("./DataReader");function d(p){c.call(this,p);for(var g=0;g<this.data.length;g++)p[g]=255&p[g]}l("../utils").inherits(d,c),d.prototype.byteAt=function(p){return this.data[this.zero+p]},d.prototype.lastIndexOfSignature=function(p){for(var g=p.charCodeAt(0),m=p.charCodeAt(1),v=p.charCodeAt(2),_=p.charCodeAt(3),S=this.length-4;0<=S;--S)if(this.data[S]===g&&this.data[S+1]===m&&this.data[S+2]===v&&this.data[S+3]===_)return S-this.zero;return-1},d.prototype.readAndCheckSignature=function(p){var g=p.charCodeAt(0),m=p.charCodeAt(1),v=p.charCodeAt(2),_=p.charCodeAt(3),S=this.readData(4);return g===S[0]&&m===S[1]&&v===S[2]&&_===S[3]},d.prototype.readData=function(p){if(this.checkOffset(p),p===0)return[];var g=this.data.slice(this.zero+this.index,this.zero+this.index+p);return this.index+=p,g},a.exports=d},{"../utils":32,"./DataReader":18}],18:[function(l,a,s){var c=l("../utils");function d(p){this.data=p,this.length=p.length,this.index=0,this.zero=0}d.prototype={checkOffset:function(p){this.checkIndex(this.index+p)},checkIndex:function(p){if(this.length<this.zero+p||p<0)throw new Error("End of data reached (data length = "+this.length+", asked index = "+p+"). Corrupted zip ?")},setIndex:function(p){this.checkIndex(p),this.index=p},skip:function(p){this.setIndex(this.index+p)},byteAt:function(){},readInt:function(p){var g,m=0;for(this.checkOffset(p),g=this.index+p-1;g>=this.index;g--)m=(m<<8)+this.byteAt(g);return this.index+=p,m},readString:function(p){return c.transformTo("string",this.readData(p))},readData:function(){},lastIndexOfSignature:function(){},readAndCheckSignature:function(){},readDate:function(){var p=this.readInt(4);return new Date(Date.UTC(1980+(p>>25&127),(p>>21&15)-1,p>>16&31,p>>11&31,p>>5&63,(31&p)<<1))}},a.exports=d},{"../utils":32}],19:[function(l,a,s){var c=l("./Uint8ArrayReader");function d(p){c.call(this,p)}l("../utils").inherits(d,c),d.prototype.readData=function(p){this.checkOffset(p);var g=this.data.slice(this.zero+this.index,this.zero+this.index+p);return this.index+=p,g},a.exports=d},{"../utils":32,"./Uint8ArrayReader":21}],20:[function(l,a,s){var c=l("./DataReader");function d(p){c.call(this,p)}l("../utils").inherits(d,c),d.prototype.byteAt=function(p){return this.data.charCodeAt(this.zero+p)},d.prototype.lastIndexOfSignature=function(p){return this.data.lastIndexOf(p)-this.zero},d.prototype.readAndCheckSignature=function(p){return p===this.readData(4)},d.prototype.readData=function(p){this.checkOffset(p);var g=this.data.slice(this.zero+this.index,this.zero+this.index+p);return this.index+=p,g},a.exports=d},{"../utils":32,"./DataReader":18}],21:[function(l,a,s){var c=l("./ArrayReader");function d(p){c.call(this,p)}l("../utils").inherits(d,c),d.prototype.readData=function(p){if(this.checkOffset(p),p===0)return new Uint8Array(0);var g=this.data.subarray(this.zero+this.index,this.zero+this.index+p);return this.index+=p,g},a.exports=d},{"../utils":32,"./ArrayReader":17}],22:[function(l,a,s){var c=l("../utils"),d=l("../support"),p=l("./ArrayReader"),g=l("./StringReader"),m=l("./NodeBufferReader"),v=l("./Uint8ArrayReader");a.exports=function(_){var S=c.getTypeOf(_);return c.checkSupport(S),S!=="string"||d.uint8array?S==="nodebuffer"?new m(_):d.uint8array?new v(c.transformTo("uint8array",_)):new p(c.transformTo("array",_)):new g(_)}},{"../support":30,"../utils":32,"./ArrayReader":17,"./NodeBufferReader":19,"./StringReader":20,"./Uint8ArrayReader":21}],23:[function(l,a,s){s.LOCAL_FILE_HEADER="PK",s.CENTRAL_FILE_HEADER="PK",s.CENTRAL_DIRECTORY_END="PK",s.ZIP64_CENTRAL_DIRECTORY_LOCATOR="PK\x07",s.ZIP64_CENTRAL_DIRECTORY_END="PK",s.DATA_DESCRIPTOR="PK\x07\b"},{}],24:[function(l,a,s){var c=l("./GenericWorker"),d=l("../utils");function p(g){c.call(this,"ConvertWorker to "+g),this.destType=g}d.inherits(p,c),p.prototype.processChunk=function(g){this.push({data:d.transformTo(this.destType,g.data),meta:g.meta})},a.exports=p},{"../utils":32,"./GenericWorker":28}],25:[function(l,a,s){var c=l("./GenericWorker"),d=l("../crc32");function p(){c.call(this,"Crc32Probe"),this.withStreamInfo("crc32",0)}l("../utils").inherits(p,c),p.prototype.processChunk=function(g){this.streamInfo.crc32=d(g.data,this.streamInfo.crc32||0),this.push(g)},a.exports=p},{"../crc32":4,"../utils":32,"./GenericWorker":28}],26:[function(l,a,s){var c=l("../utils"),d=l("./GenericWorker");function p(g){d.call(this,"DataLengthProbe for "+g),this.propName=g,this.withStreamInfo(g,0)}c.inherits(p,d),p.prototype.processChunk=function(g){if(g){var m=this.streamInfo[this.propName]||0;this.streamInfo[this.propName]=m+g.data.length}d.prototype.processChunk.call(this,g)},a.exports=p},{"../utils":32,"./GenericWorker":28}],27:[function(l,a,s){var c=l("../utils"),d=l("./GenericWorker");function p(g){d.call(this,"DataWorker");var m=this;this.dataIsReady=!1,this.index=0,this.max=0,this.data=null,this.type="",this._tickScheduled=!1,g.then(function(v){m.dataIsReady=!0,m.data=v,m.max=v&&v.length||0,m.type=c.getTypeOf(v),m.isPaused||m._tickAndRepeat()},function(v){m.error(v)})}c.inherits(p,d),p.prototype.cleanUp=function(){d.prototype.cleanUp.call(this),this.data=null},p.prototype.resume=function(){return!!d.prototype.resume.call(this)&&(!this._tickScheduled&&this.dataIsReady&&(this._tickScheduled=!0,c.delay(this._tickAndRepeat,[],this)),!0)},p.prototype._tickAndRepeat=function(){this._tickScheduled=!1,this.isPaused||this.isFinished||(this._tick(),this.isFinished||(c.delay(this._tickAndRepeat,[],this),this._tickScheduled=!0))},p.prototype._tick=function(){if(this.isPaused||this.isFinished)return!1;var g=null,m=Math.min(this.max,this.index+16384);if(this.index>=this.max)return this.end();switch(this.type){case"string":g=this.data.substring(this.index,m);break;case"uint8array":g=this.data.subarray(this.index,m);break;case"array":case"nodebuffer":g=this.data.slice(this.index,m)}return this.index=m,this.push({data:g,meta:{percent:this.max?this.index/this.max*100:0}})},a.exports=p},{"../utils":32,"./GenericWorker":28}],28:[function(l,a,s){function c(d){this.name=d||"default",this.streamInfo={},this.generatedError=null,this.extraStreamInfo={},this.isPaused=!0,this.isFinished=!1,this.isLocked=!1,this._listeners={data:[],end:[],error:[]},this.previous=null}c.prototype={push:function(d){this.emit("data",d)},end:function(){if(this.isFinished)return!1;this.flush();try{this.emit("end"),this.cleanUp(),this.isFinished=!0}catch(d){this.emit("error",d)}return!0},error:function(d){return!this.isFinished&&(this.isPaused?this.generatedError=d:(this.isFinished=!0,this.emit("error",d),this.previous&&this.previous.error(d),this.cleanUp()),!0)},on:function(d,p){return this._listeners[d].push(p),this},cleanUp:function(){this.streamInfo=this.generatedError=this.extraStreamInfo=null,this._listeners=[]},emit:function(d,p){if(this._listeners[d])for(var g=0;g<this._listeners[d].length;g++)this._listeners[d][g].call(this,p)},pipe:function(d){return d.registerPrevious(this)},registerPrevious:function(d){if(this.isLocked)throw new Error("The stream '"+this+"' has already been used.");this.streamInfo=d.streamInfo,this.mergeStreamInfo(),this.previous=d;var p=this;return d.on("data",function(g){p.processChunk(g)}),d.on("end",function(){p.end()}),d.on("error",function(g){p.error(g)}),this},pause:function(){return!this.isPaused&&!this.isFinished&&(this.isPaused=!0,this.previous&&this.previous.pause(),!0)},resume:function(){if(!this.isPaused||this.isFinished)return!1;var d=this.isPaused=!1;return this.generatedError&&(this.error(this.generatedError),d=!0),this.previous&&this.previous.resume(),!d},flush:function(){},processChunk:function(d){this.push(d)},withStreamInfo:function(d,p){return this.extraStreamInfo[d]=p,this.mergeStreamInfo(),this},mergeStreamInfo:function(){for(var d in this.extraStreamInfo)Object.prototype.hasOwnProperty.call(this.extraStreamInfo,d)&&(this.streamInfo[d]=this.extraStreamInfo[d])},lock:function(){if(this.isLocked)throw new Error("The stream '"+this+"' has already been used.");this.isLocked=!0,this.previous&&this.previous.lock()},toString:function(){var d="Worker "+this.name;return this.previous?this.previous+" -> "+d:d}},a.exports=c},{}],29:[function(l,a,s){var c=l("../utils"),d=l("./ConvertWorker"),p=l("./GenericWorker"),g=l("../base64"),m=l("../support"),v=l("../external"),_=null;if(m.nodestream)try{_=l("../nodejs/NodejsStreamOutputAdapter")}catch{}function S(R,A){return new v.Promise(function(M,w){var I=[],U=R._internalType,G=R._outputType,B=R._mimeType;R.on("data",function(K,H){I.push(K),A&&A(H)}).on("error",function(K){I=[],w(K)}).on("end",function(){try{var K=(function(H,j,Y){switch(H){case"blob":return c.newBlob(c.transformTo("arraybuffer",j),Y);case"base64":return g.encode(j);default:return c.transformTo(H,j)}})(G,(function(H,j){var Y,oe=0,ye=null,L=0;for(Y=0;Y<j.length;Y++)L+=j[Y].length;switch(H){case"string":return j.join("");case"array":return Array.prototype.concat.apply([],j);case"uint8array":for(ye=new Uint8Array(L),Y=0;Y<j.length;Y++)ye.set(j[Y],oe),oe+=j[Y].length;return ye;case"nodebuffer":return Buffer.concat(j);default:throw new Error("concat : unsupported type '"+H+"'")}})(U,I),B);M(K)}catch(H){w(H)}I=[]}).resume()})}function T(R,A,M){var w=A;switch(A){case"blob":case"arraybuffer":w="uint8array";break;case"base64":w="string"}try{this._internalType=w,this._outputType=A,this._mimeType=M,c.checkSupport(w),this._worker=R.pipe(new d(w)),R.lock()}catch(I){this._worker=new p("error"),this._worker.error(I)}}T.prototype={accumulate:function(R){return S(this,R)},on:function(R,A){var M=this;return R==="data"?this._worker.on(R,function(w){A.call(M,w.data,w.meta)}):this._worker.on(R,function(){c.delay(A,arguments,M)}),this},resume:function(){return c.delay(this._worker.resume,[],this._worker),this},pause:function(){return this._worker.pause(),this},toNodejsStream:function(R){if(c.checkSupport("nodestream"),this._outputType!=="nodebuffer")throw new Error(this._outputType+" is not supported by this method");return new _(this,{objectMode:this._outputType!=="nodebuffer"},R)}},a.exports=T},{"../base64":1,"../external":6,"../nodejs/NodejsStreamOutputAdapter":13,"../support":30,"../utils":32,"./ConvertWorker":24,"./GenericWorker":28}],30:[function(l,a,s){if(s.base64=!0,s.array=!0,s.string=!0,s.arraybuffer=typeof ArrayBuffer<"u"&&typeof Uint8Array<"u",s.nodebuffer=typeof Buffer<"u",s.uint8array=typeof Uint8Array<"u",typeof ArrayBuffer>"u")s.blob=!1;else{var c=new ArrayBuffer(0);try{s.blob=new Blob([c],{type:"application/zip"}).size===0}catch{try{var d=new(self.BlobBuilder||self.WebKitBlobBuilder||self.MozBlobBuilder||self.MSBlobBuilder);d.append(c),s.blob=d.getBlob("application/zip").size===0}catch{s.blob=!1}}}try{s.nodestream=!!l("readable-stream").Readable}catch{s.nodestream=!1}},{"readable-stream":16}],31:[function(l,a,s){for(var c=l("./utils"),d=l("./support"),p=l("./nodejsUtils"),g=l("./stream/GenericWorker"),m=new Array(256),v=0;v<256;v++)m[v]=252<=v?6:248<=v?5:240<=v?4:224<=v?3:192<=v?2:1;m[254]=m[254]=1;function _(){g.call(this,"utf-8 decode"),this.leftOver=null}function S(){g.call(this,"utf-8 encode")}s.utf8encode=function(T){return d.nodebuffer?p.newBufferFrom(T,"utf-8"):(function(R){var A,M,w,I,U,G=R.length,B=0;for(I=0;I<G;I++)(64512&(M=R.charCodeAt(I)))==55296&&I+1<G&&(64512&(w=R.charCodeAt(I+1)))==56320&&(M=65536+(M-55296<<10)+(w-56320),I++),B+=M<128?1:M<2048?2:M<65536?3:4;for(A=d.uint8array?new Uint8Array(B):new Array(B),I=U=0;U<B;I++)(64512&(M=R.charCodeAt(I)))==55296&&I+1<G&&(64512&(w=R.charCodeAt(I+1)))==56320&&(M=65536+(M-55296<<10)+(w-56320),I++),M<128?A[U++]=M:(M<2048?A[U++]=192|M>>>6:(M<65536?A[U++]=224|M>>>12:(A[U++]=240|M>>>18,A[U++]=128|M>>>12&63),A[U++]=128|M>>>6&63),A[U++]=128|63&M);return A})(T)},s.utf8decode=function(T){return d.nodebuffer?c.transformTo("nodebuffer",T).toString("utf-8"):(function(R){var A,M,w,I,U=R.length,G=new Array(2*U);for(A=M=0;A<U;)if((w=R[A++])<128)G[M++]=w;else if(4<(I=m[w]))G[M++]=65533,A+=I-1;else{for(w&=I===2?31:I===3?15:7;1<I&&A<U;)w=w<<6|63&R[A++],I--;1<I?G[M++]=65533:w<65536?G[M++]=w:(w-=65536,G[M++]=55296|w>>10&1023,G[M++]=56320|1023&w)}return G.length!==M&&(G.subarray?G=G.subarray(0,M):G.length=M),c.applyFromCharCode(G)})(T=c.transformTo(d.uint8array?"uint8array":"array",T))},c.inherits(_,g),_.prototype.processChunk=function(T){var R=c.transformTo(d.uint8array?"uint8array":"array",T.data);if(this.leftOver&&this.leftOver.length){if(d.uint8array){var A=R;(R=new Uint8Array(A.length+this.leftOver.length)).set(this.leftOver,0),R.set(A,this.leftOver.length)}else R=this.leftOver.concat(R);this.leftOver=null}var M=(function(I,U){var G;for((U=U||I.length)>I.length&&(U=I.length),G=U-1;0<=G&&(192&I[G])==128;)G--;return G<0||G===0?U:G+m[I[G]]>U?G:U})(R),w=R;M!==R.length&&(d.uint8array?(w=R.subarray(0,M),this.leftOver=R.subarray(M,R.length)):(w=R.slice(0,M),this.leftOver=R.slice(M,R.length))),this.push({data:s.utf8decode(w),meta:T.meta})},_.prototype.flush=function(){this.leftOver&&this.leftOver.length&&(this.push({data:s.utf8decode(this.leftOver),meta:{}}),this.leftOver=null)},s.Utf8DecodeWorker=_,c.inherits(S,g),S.prototype.processChunk=function(T){this.push({data:s.utf8encode(T.data),meta:T.meta})},s.Utf8EncodeWorker=S},{"./nodejsUtils":14,"./stream/GenericWorker":28,"./support":30,"./utils":32}],32:[function(l,a,s){var c=l("./support"),d=l("./base64"),p=l("./nodejsUtils"),g=l("./external");function m(A){return A}function v(A,M){for(var w=0;w<A.length;++w)M[w]=255&A.charCodeAt(w);return M}l("setimmediate"),s.newBlob=function(A,M){s.checkSupport("blob");try{return new Blob([A],{type:M})}catch{try{var w=new(self.BlobBuilder||self.WebKitBlobBuilder||self.MozBlobBuilder||self.MSBlobBuilder);return w.append(A),w.getBlob(M)}catch{throw new Error("Bug : can't construct the Blob.")}}};var _={stringifyByChunk:function(A,M,w){var I=[],U=0,G=A.length;if(G<=w)return String.fromCharCode.apply(null,A);for(;U<G;)M==="array"||M==="nodebuffer"?I.push(String.fromCharCode.apply(null,A.slice(U,Math.min(U+w,G)))):I.push(String.fromCharCode.apply(null,A.subarray(U,Math.min(U+w,G)))),U+=w;return I.join("")},stringifyByChar:function(A){for(var M="",w=0;w<A.length;w++)M+=String.fromCharCode(A[w]);return M},applyCanBeUsed:{uint8array:(function(){try{return c.uint8array&&String.fromCharCode.apply(null,new Uint8Array(1)).length===1}catch{return!1}})(),nodebuffer:(function(){try{return c.nodebuffer&&String.fromCharCode.apply(null,p.allocBuffer(1)).length===1}catch{return!1}})()}};function S(A){var M=65536,w=s.getTypeOf(A),I=!0;if(w==="uint8array"?I=_.applyCanBeUsed.uint8array:w==="nodebuffer"&&(I=_.applyCanBeUsed.nodebuffer),I)for(;1<M;)try{return _.stringifyByChunk(A,w,M)}catch{M=Math.floor(M/2)}return _.stringifyByChar(A)}function T(A,M){for(var w=0;w<A.length;w++)M[w]=A[w];return M}s.applyFromCharCode=S;var R={};R.string={string:m,array:function(A){return v(A,new Array(A.length))},arraybuffer:function(A){return R.string.uint8array(A).buffer},uint8array:function(A){return v(A,new Uint8Array(A.length))},nodebuffer:function(A){return v(A,p.allocBuffer(A.length))}},R.array={string:S,array:m,arraybuffer:function(A){return new Uint8Array(A).buffer},uint8array:function(A){return new Uint8Array(A)},nodebuffer:function(A){return p.newBufferFrom(A)}},R.arraybuffer={string:function(A){return S(new Uint8Array(A))},array:function(A){return T(new Uint8Array(A),new Array(A.byteLength))},arraybuffer:m,uint8array:function(A){return new Uint8Array(A)},nodebuffer:function(A){return p.newBufferFrom(new Uint8Array(A))}},R.uint8array={string:S,array:function(A){return T(A,new Array(A.length))},arraybuffer:function(A){return A.buffer},uint8array:m,nodebuffer:function(A){return p.newBufferFrom(A)}},R.nodebuffer={string:S,array:function(A){return T(A,new Array(A.length))},arraybuffer:function(A){return R.nodebuffer.uint8array(A).buffer},uint8array:function(A){return T(A,new Uint8Array(A.length))},nodebuffer:m},s.transformTo=function(A,M){if(M=M||"",!A)return M;s.checkSupport(A);var w=s.getTypeOf(M);return R[w][A](M)},s.resolve=function(A){for(var M=A.split("/"),w=[],I=0;I<M.length;I++){var U=M[I];U==="."||U===""&&I!==0&&I!==M.length-1||(U===".."?w.pop():w.push(U))}return w.join("/")},s.getTypeOf=function(A){return typeof A=="string"?"string":Object.prototype.toString.call(A)==="[object Array]"?"array":c.nodebuffer&&p.isBuffer(A)?"nodebuffer":c.uint8array&&A instanceof Uint8Array?"uint8array":c.arraybuffer&&A instanceof ArrayBuffer?"arraybuffer":void 0},s.checkSupport=function(A){if(!c[A.toLowerCase()])throw new Error(A+" is not supported by this platform")},s.MAX_VALUE_16BITS=65535,s.MAX_VALUE_32BITS=-1,s.pretty=function(A){var M,w,I="";for(w=0;w<(A||"").length;w++)I+="\\x"+((M=A.charCodeAt(w))<16?"0":"")+M.toString(16).toUpperCase();return I},s.delay=function(A,M,w){setImmediate(function(){A.apply(w||null,M||[])})},s.inherits=function(A,M){function w(){}w.prototype=M.prototype,A.prototype=new w},s.extend=function(){var A,M,w={};for(A=0;A<arguments.length;A++)for(M in arguments[A])Object.prototype.hasOwnProperty.call(arguments[A],M)&&w[M]===void 0&&(w[M]=arguments[A][M]);return w},s.prepareContent=function(A,M,w,I,U){return g.Promise.resolve(M).then(function(G){return c.blob&&(G instanceof Blob||["[object File]","[object Blob]"].indexOf(Object.prototype.toString.call(G))!==-1)&&typeof FileReader<"u"?new g.Promise(function(B,K){var H=new FileReader;H.onload=function(j){B(j.target.result)},H.onerror=function(j){K(j.target.error)},H.readAsArrayBuffer(G)}):G}).then(function(G){var B=s.getTypeOf(G);return B?(B==="arraybuffer"?G=s.transformTo("uint8array",G):B==="string"&&(U?G=d.decode(G):w&&I!==!0&&(G=(function(K){return v(K,c.uint8array?new Uint8Array(K.length):new Array(K.length))})(G))),G):g.Promise.reject(new Error("Can't read the data of '"+A+"'. Is it in a supported JavaScript type (String, Blob, ArrayBuffer, etc) ?"))})}},{"./base64":1,"./external":6,"./nodejsUtils":14,"./support":30,setimmediate:54}],33:[function(l,a,s){var c=l("./reader/readerFor"),d=l("./utils"),p=l("./signature"),g=l("./zipEntry"),m=l("./support");function v(_){this.files=[],this.loadOptions=_}v.prototype={checkSignature:function(_){if(!this.reader.readAndCheckSignature(_)){this.reader.index-=4;var S=this.reader.readString(4);throw new Error("Corrupted zip or bug: unexpected signature ("+d.pretty(S)+", expected "+d.pretty(_)+")")}},isSignature:function(_,S){var T=this.reader.index;this.reader.setIndex(_);var R=this.reader.readString(4)===S;return this.reader.setIndex(T),R},readBlockEndOfCentral:function(){this.diskNumber=this.reader.readInt(2),this.diskWithCentralDirStart=this.reader.readInt(2),this.centralDirRecordsOnThisDisk=this.reader.readInt(2),this.centralDirRecords=this.reader.readInt(2),this.centralDirSize=this.reader.readInt(4),this.centralDirOffset=this.reader.readInt(4),this.zipCommentLength=this.reader.readInt(2);var _=this.reader.readData(this.zipCommentLength),S=m.uint8array?"uint8array":"array",T=d.transformTo(S,_);this.zipComment=this.loadOptions.decodeFileName(T)},readBlockZip64EndOfCentral:function(){this.zip64EndOfCentralSize=this.reader.readInt(8),this.reader.skip(4),this.diskNumber=this.reader.readInt(4),this.diskWithCentralDirStart=this.reader.readInt(4),this.centralDirRecordsOnThisDisk=this.reader.readInt(8),this.centralDirRecords=this.reader.readInt(8),this.centralDirSize=this.reader.readInt(8),this.centralDirOffset=this.reader.readInt(8),this.zip64ExtensibleData={};for(var _,S,T,R=this.zip64EndOfCentralSize-44;0<R;)_=this.reader.readInt(2),S=this.reader.readInt(4),T=this.reader.readData(S),this.zip64ExtensibleData[_]={id:_,length:S,value:T}},readBlockZip64EndOfCentralLocator:function(){if(this.diskWithZip64CentralDirStart=this.reader.readInt(4),this.relativeOffsetEndOfZip64CentralDir=this.reader.readInt(8),this.disksCount=this.reader.readInt(4),1<this.disksCount)throw new Error("Multi-volumes zip are not supported")},readLocalFiles:function(){var _,S;for(_=0;_<this.files.length;_++)S=this.files[_],this.reader.setIndex(S.localHeaderOffset),this.checkSignature(p.LOCAL_FILE_HEADER),S.readLocalPart(this.reader),S.handleUTF8(),S.processAttributes()},readCentralDir:function(){var _;for(this.reader.setIndex(this.centralDirOffset);this.reader.readAndCheckSignature(p.CENTRAL_FILE_HEADER);)(_=new g({zip64:this.zip64},this.loadOptions)).readCentralPart(this.reader),this.files.push(_);if(this.centralDirRecords!==this.files.length&&this.centralDirRecords!==0&&this.files.length===0)throw new Error("Corrupted zip or bug: expected "+this.centralDirRecords+" records in central dir, got "+this.files.length)},readEndOfCentral:function(){var _=this.reader.lastIndexOfSignature(p.CENTRAL_DIRECTORY_END);if(_<0)throw this.isSignature(0,p.LOCAL_FILE_HEADER)?new Error("Corrupted zip: can't find end of central directory"):new Error("Can't find end of central directory : is this a zip file ? If it is, see https://stuk.github.io/jszip/documentation/howto/read_zip.html");this.reader.setIndex(_);var S=_;if(this.checkSignature(p.CENTRAL_DIRECTORY_END),this.readBlockEndOfCentral(),this.diskNumber===d.MAX_VALUE_16BITS||this.diskWithCentralDirStart===d.MAX_VALUE_16BITS||this.centralDirRecordsOnThisDisk===d.MAX_VALUE_16BITS||this.centralDirRecords===d.MAX_VALUE_16BITS||this.centralDirSize===d.MAX_VALUE_32BITS||this.centralDirOffset===d.MAX_VALUE_32BITS){if(this.zip64=!0,(_=this.reader.lastIndexOfSignature(p.ZIP64_CENTRAL_DIRECTORY_LOCATOR))<0)throw new Error("Corrupted zip: can't find the ZIP64 end of central directory locator");if(this.reader.setIndex(_),this.checkSignature(p.ZIP64_CENTRAL_DIRECTORY_LOCATOR),this.readBlockZip64EndOfCentralLocator(),!this.isSignature(this.relativeOffsetEndOfZip64CentralDir,p.ZIP64_CENTRAL_DIRECTORY_END)&&(this.relativeOffsetEndOfZip64CentralDir=this.reader.lastIndexOfSignature(p.ZIP64_CENTRAL_DIRECTORY_END),this.relativeOffsetEndOfZip64CentralDir<0))throw new Error("Corrupted zip: can't find the ZIP64 end of central directory");this.reader.setIndex(this.relativeOffsetEndOfZip64CentralDir),this.checkSignature(p.ZIP64_CENTRAL_DIRECTORY_END),this.readBlockZip64EndOfCentral()}var T=this.centralDirOffset+this.centralDirSize;this.zip64&&(T+=20,T+=12+this.zip64EndOfCentralSize);var R=S-T;if(0<R)this.isSignature(S,p.CENTRAL_FILE_HEADER)||(this.reader.zero=R);else if(R<0)throw new Error("Corrupted zip: missing "+Math.abs(R)+" bytes.")},prepareReader:function(_){this.reader=c(_)},load:function(_){this.prepareReader(_),this.readEndOfCentral(),this.readCentralDir(),this.readLocalFiles()}},a.exports=v},{"./reader/readerFor":22,"./signature":23,"./support":30,"./utils":32,"./zipEntry":34}],34:[function(l,a,s){var c=l("./reader/readerFor"),d=l("./utils"),p=l("./compressedObject"),g=l("./crc32"),m=l("./utf8"),v=l("./compressions"),_=l("./support");function S(T,R){this.options=T,this.loadOptions=R}S.prototype={isEncrypted:function(){return(1&this.bitFlag)==1},useUTF8:function(){return(2048&this.bitFlag)==2048},readLocalPart:function(T){var R,A;if(T.skip(22),this.fileNameLength=T.readInt(2),A=T.readInt(2),this.fileName=T.readData(this.fileNameLength),T.skip(A),this.compressedSize===-1||this.uncompressedSize===-1)throw new Error("Bug or corrupted zip : didn't get enough information from the central directory (compressedSize === -1 || uncompressedSize === -1)");if((R=(function(M){for(var w in v)if(Object.prototype.hasOwnProperty.call(v,w)&&v[w].magic===M)return v[w];return null})(this.compressionMethod))===null)throw new Error("Corrupted zip : compression "+d.pretty(this.compressionMethod)+" unknown (inner file : "+d.transformTo("string",this.fileName)+")");this.decompressed=new p(this.compressedSize,this.uncompressedSize,this.crc32,R,T.readData(this.compressedSize))},readCentralPart:function(T){this.versionMadeBy=T.readInt(2),T.skip(2),this.bitFlag=T.readInt(2),this.compressionMethod=T.readString(2),this.date=T.readDate(),this.crc32=T.readInt(4),this.compressedSize=T.readInt(4),this.uncompressedSize=T.readInt(4);var R=T.readInt(2);if(this.extraFieldsLength=T.readInt(2),this.fileCommentLength=T.readInt(2),this.diskNumberStart=T.readInt(2),this.internalFileAttributes=T.readInt(2),this.externalFileAttributes=T.readInt(4),this.localHeaderOffset=T.readInt(4),this.isEncrypted())throw new Error("Encrypted zip are not supported");T.skip(R),this.readExtraFields(T),this.parseZIP64ExtraField(T),this.fileComment=T.readData(this.fileCommentLength)},processAttributes:function(){this.unixPermissions=null,this.dosPermissions=null;var T=this.versionMadeBy>>8;this.dir=!!(16&this.externalFileAttributes),T==0&&(this.dosPermissions=63&this.externalFileAttributes),T==3&&(this.unixPermissions=this.externalFileAttributes>>16&65535),this.dir||this.fileNameStr.slice(-1)!=="/"||(this.dir=!0)},parseZIP64ExtraField:function(){if(this.extraFields[1]){var T=c(this.extraFields[1].value);this.uncompressedSize===d.MAX_VALUE_32BITS&&(this.uncompressedSize=T.readInt(8)),this.compressedSize===d.MAX_VALUE_32BITS&&(this.compressedSize=T.readInt(8)),this.localHeaderOffset===d.MAX_VALUE_32BITS&&(this.localHeaderOffset=T.readInt(8)),this.diskNumberStart===d.MAX_VALUE_32BITS&&(this.diskNumberStart=T.readInt(4))}},readExtraFields:function(T){var R,A,M,w=T.index+this.extraFieldsLength;for(this.extraFields||(this.extraFields={});T.index+4<w;)R=T.readInt(2),A=T.readInt(2),M=T.readData(A),this.extraFields[R]={id:R,length:A,value:M};T.setIndex(w)},handleUTF8:function(){var T=_.uint8array?"uint8array":"array";if(this.useUTF8())this.fileNameStr=m.utf8decode(this.fileName),this.fileCommentStr=m.utf8decode(this.fileComment);else{var R=this.findExtraFieldUnicodePath();if(R!==null)this.fileNameStr=R;else{var A=d.transformTo(T,this.fileName);this.fileNameStr=this.loadOptions.decodeFileName(A)}var M=this.findExtraFieldUnicodeComment();if(M!==null)this.fileCommentStr=M;else{var w=d.transformTo(T,this.fileComment);this.fileCommentStr=this.loadOptions.decodeFileName(w)}}},findExtraFieldUnicodePath:function(){var T=this.extraFields[28789];if(T){var R=c(T.value);return R.readInt(1)!==1||g(this.fileName)!==R.readInt(4)?null:m.utf8decode(R.readData(T.length-5))}return null},findExtraFieldUnicodeComment:function(){var T=this.extraFields[25461];if(T){var R=c(T.value);return R.readInt(1)!==1||g(this.fileComment)!==R.readInt(4)?null:m.utf8decode(R.readData(T.length-5))}return null}},a.exports=S},{"./compressedObject":2,"./compressions":3,"./crc32":4,"./reader/readerFor":22,"./support":30,"./utf8":31,"./utils":32}],35:[function(l,a,s){function c(R,A,M){this.name=R,this.dir=M.dir,this.date=M.date,this.comment=M.comment,this.unixPermissions=M.unixPermissions,this.dosPermissions=M.dosPermissions,this._data=A,this._dataBinary=M.binary,this.options={compression:M.compression,compressionOptions:M.compressionOptions}}var d=l("./stream/StreamHelper"),p=l("./stream/DataWorker"),g=l("./utf8"),m=l("./compressedObject"),v=l("./stream/GenericWorker");c.prototype={internalStream:function(R){var A=null,M="string";try{if(!R)throw new Error("No output type specified.");var w=(M=R.toLowerCase())==="string"||M==="text";M!=="binarystring"&&M!=="text"||(M="string"),A=this._decompressWorker();var I=!this._dataBinary;I&&!w&&(A=A.pipe(new g.Utf8EncodeWorker)),!I&&w&&(A=A.pipe(new g.Utf8DecodeWorker))}catch(U){(A=new v("error")).error(U)}return new d(A,M,"")},async:function(R,A){return this.internalStream(R).accumulate(A)},nodeStream:function(R,A){return this.internalStream(R||"nodebuffer").toNodejsStream(A)},_compressWorker:function(R,A){if(this._data instanceof m&&this._data.compression.magic===R.magic)return this._data.getCompressedWorker();var M=this._decompressWorker();return this._dataBinary||(M=M.pipe(new g.Utf8EncodeWorker)),m.createWorkerFrom(M,R,A)},_decompressWorker:function(){return this._data instanceof m?this._data.getContentWorker():this._data instanceof v?this._data:new p(this._data)}};for(var _=["asText","asBinary","asNodeBuffer","asUint8Array","asArrayBuffer"],S=function(){throw new Error("This method has been removed in JSZip 3.0, please check the upgrade guide.")},T=0;T<_.length;T++)c.prototype[_[T]]=S;a.exports=c},{"./compressedObject":2,"./stream/DataWorker":27,"./stream/GenericWorker":28,"./stream/StreamHelper":29,"./utf8":31}],36:[function(l,a,s){(function(c){var d,p,g=c.MutationObserver||c.WebKitMutationObserver;if(g){var m=0,v=new g(R),_=c.document.createTextNode("");v.observe(_,{characterData:!0}),d=function(){_.data=m=++m%2}}else if(c.setImmediate||c.MessageChannel===void 0)d="document"in c&&"onreadystatechange"in c.document.createElement("script")?function(){var A=c.document.createElement("script");A.onreadystatechange=function(){R(),A.onreadystatechange=null,A.parentNode.removeChild(A),A=null},c.document.documentElement.appendChild(A)}:function(){setTimeout(R,0)};else{var S=new c.MessageChannel;S.port1.onmessage=R,d=function(){S.port2.postMessage(0)}}var T=[];function R(){var A,M;p=!0;for(var w=T.length;w;){for(M=T,T=[],A=-1;++A<w;)M[A]();w=T.length}p=!1}a.exports=function(A){T.push(A)!==1||p||d()}}).call(this,typeof Da<"u"?Da:typeof self<"u"?self:typeof window<"u"?window:{})},{}],37:[function(l,a,s){var c=l("immediate");function d(){}var p={},g=["REJECTED"],m=["FULFILLED"],v=["PENDING"];function _(w){if(typeof w!="function")throw new TypeError("resolver must be a function");this.state=v,this.queue=[],this.outcome=void 0,w!==d&&A(this,w)}function S(w,I,U){this.promise=w,typeof I=="function"&&(this.onFulfilled=I,this.callFulfilled=this.otherCallFulfilled),typeof U=="function"&&(this.onRejected=U,this.callRejected=this.otherCallRejected)}function T(w,I,U){c(function(){var G;try{G=I(U)}catch(B){return p.reject(w,B)}G===w?p.reject(w,new TypeError("Cannot resolve promise with itself")):p.resolve(w,G)})}function R(w){var I=w&&w.then;if(w&&(typeof w=="object"||typeof w=="function")&&typeof I=="function")return function(){I.apply(w,arguments)}}function A(w,I){var U=!1;function G(H){U||(U=!0,p.reject(w,H))}function B(H){U||(U=!0,p.resolve(w,H))}var K=M(function(){I(B,G)});K.status==="error"&&G(K.value)}function M(w,I){var U={};try{U.value=w(I),U.status="success"}catch(G){U.status="error",U.value=G}return U}(a.exports=_).prototype.finally=function(w){if(typeof w!="function")return this;var I=this.constructor;return this.then(function(U){return I.resolve(w()).then(function(){return U})},function(U){return I.resolve(w()).then(function(){throw U})})},_.prototype.catch=function(w){return this.then(null,w)},_.prototype.then=function(w,I){if(typeof w!="function"&&this.state===m||typeof I!="function"&&this.state===g)return this;var U=new this.constructor(d);return this.state!==v?T(U,this.state===m?w:I,this.outcome):this.queue.push(new S(U,w,I)),U},S.prototype.callFulfilled=function(w){p.resolve(this.promise,w)},S.prototype.otherCallFulfilled=function(w){T(this.promise,this.onFulfilled,w)},S.prototype.callRejected=function(w){p.reject(this.promise,w)},S.prototype.otherCallRejected=function(w){T(this.promise,this.onRejected,w)},p.resolve=function(w,I){var U=M(R,I);if(U.status==="error")return p.reject(w,U.value);var G=U.value;if(G)A(w,G);else{w.state=m,w.outcome=I;for(var B=-1,K=w.queue.length;++B<K;)w.queue[B].callFulfilled(I)}return w},p.reject=function(w,I){w.state=g,w.outcome=I;for(var U=-1,G=w.queue.length;++U<G;)w.queue[U].callRejected(I);return w},_.resolve=function(w){return w instanceof this?w:p.resolve(new this(d),w)},_.reject=function(w){var I=new this(d);return p.reject(I,w)},_.all=function(w){var I=this;if(Object.prototype.toString.call(w)!=="[object Array]")return this.reject(new TypeError("must be an array"));var U=w.length,G=!1;if(!U)return this.resolve([]);for(var B=new Array(U),K=0,H=-1,j=new this(d);++H<U;)Y(w[H],H);return j;function Y(oe,ye){I.resolve(oe).then(function(L){B[ye]=L,++K!==U||G||(G=!0,p.resolve(j,B))},function(L){G||(G=!0,p.reject(j,L))})}},_.race=function(w){var I=this;if(Object.prototype.toString.call(w)!=="[object Array]")return this.reject(new TypeError("must be an array"));var U=w.length,G=!1;if(!U)return this.resolve([]);for(var B=-1,K=new this(d);++B<U;)H=w[B],I.resolve(H).then(function(j){G||(G=!0,p.resolve(K,j))},function(j){G||(G=!0,p.reject(K,j))});var H;return K}},{immediate:36}],38:[function(l,a,s){var c={};(0,l("./lib/utils/common").assign)(c,l("./lib/deflate"),l("./lib/inflate"),l("./lib/zlib/constants")),a.exports=c},{"./lib/deflate":39,"./lib/inflate":40,"./lib/utils/common":41,"./lib/zlib/constants":44}],39:[function(l,a,s){var c=l("./zlib/deflate"),d=l("./utils/common"),p=l("./utils/strings"),g=l("./zlib/messages"),m=l("./zlib/zstream"),v=Object.prototype.toString,_=0,S=-1,T=0,R=8;function A(w){if(!(this instanceof A))return new A(w);this.options=d.assign({level:S,method:R,chunkSize:16384,windowBits:15,memLevel:8,strategy:T,to:""},w||{});var I=this.options;I.raw&&0<I.windowBits?I.windowBits=-I.windowBits:I.gzip&&0<I.windowBits&&I.windowBits<16&&(I.windowBits+=16),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new m,this.strm.avail_out=0;var U=c.deflateInit2(this.strm,I.level,I.method,I.windowBits,I.memLevel,I.strategy);if(U!==_)throw new Error(g[U]);if(I.header&&c.deflateSetHeader(this.strm,I.header),I.dictionary){var G;if(G=typeof I.dictionary=="string"?p.string2buf(I.dictionary):v.call(I.dictionary)==="[object ArrayBuffer]"?new Uint8Array(I.dictionary):I.dictionary,(U=c.deflateSetDictionary(this.strm,G))!==_)throw new Error(g[U]);this._dict_set=!0}}function M(w,I){var U=new A(I);if(U.push(w,!0),U.err)throw U.msg||g[U.err];return U.result}A.prototype.push=function(w,I){var U,G,B=this.strm,K=this.options.chunkSize;if(this.ended)return!1;G=I===~~I?I:I===!0?4:0,typeof w=="string"?B.input=p.string2buf(w):v.call(w)==="[object ArrayBuffer]"?B.input=new Uint8Array(w):B.input=w,B.next_in=0,B.avail_in=B.input.length;do{if(B.avail_out===0&&(B.output=new d.Buf8(K),B.next_out=0,B.avail_out=K),(U=c.deflate(B,G))!==1&&U!==_)return this.onEnd(U),!(this.ended=!0);B.avail_out!==0&&(B.avail_in!==0||G!==4&&G!==2)||(this.options.to==="string"?this.onData(p.buf2binstring(d.shrinkBuf(B.output,B.next_out))):this.onData(d.shrinkBuf(B.output,B.next_out)))}while((0<B.avail_in||B.avail_out===0)&&U!==1);return G===4?(U=c.deflateEnd(this.strm),this.onEnd(U),this.ended=!0,U===_):G!==2||(this.onEnd(_),!(B.avail_out=0))},A.prototype.onData=function(w){this.chunks.push(w)},A.prototype.onEnd=function(w){w===_&&(this.options.to==="string"?this.result=this.chunks.join(""):this.result=d.flattenChunks(this.chunks)),this.chunks=[],this.err=w,this.msg=this.strm.msg},s.Deflate=A,s.deflate=M,s.deflateRaw=function(w,I){return(I=I||{}).raw=!0,M(w,I)},s.gzip=function(w,I){return(I=I||{}).gzip=!0,M(w,I)}},{"./utils/common":41,"./utils/strings":42,"./zlib/deflate":46,"./zlib/messages":51,"./zlib/zstream":53}],40:[function(l,a,s){var c=l("./zlib/inflate"),d=l("./utils/common"),p=l("./utils/strings"),g=l("./zlib/constants"),m=l("./zlib/messages"),v=l("./zlib/zstream"),_=l("./zlib/gzheader"),S=Object.prototype.toString;function T(A){if(!(this instanceof T))return new T(A);this.options=d.assign({chunkSize:16384,windowBits:0,to:""},A||{});var M=this.options;M.raw&&0<=M.windowBits&&M.windowBits<16&&(M.windowBits=-M.windowBits,M.windowBits===0&&(M.windowBits=-15)),!(0<=M.windowBits&&M.windowBits<16)||A&&A.windowBits||(M.windowBits+=32),15<M.windowBits&&M.windowBits<48&&(15&M.windowBits)==0&&(M.windowBits|=15),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new v,this.strm.avail_out=0;var w=c.inflateInit2(this.strm,M.windowBits);if(w!==g.Z_OK)throw new Error(m[w]);this.header=new _,c.inflateGetHeader(this.strm,this.header)}function R(A,M){var w=new T(M);if(w.push(A,!0),w.err)throw w.msg||m[w.err];return w.result}T.prototype.push=function(A,M){var w,I,U,G,B,K,H=this.strm,j=this.options.chunkSize,Y=this.options.dictionary,oe=!1;if(this.ended)return!1;I=M===~~M?M:M===!0?g.Z_FINISH:g.Z_NO_FLUSH,typeof A=="string"?H.input=p.binstring2buf(A):S.call(A)==="[object ArrayBuffer]"?H.input=new Uint8Array(A):H.input=A,H.next_in=0,H.avail_in=H.input.length;do{if(H.avail_out===0&&(H.output=new d.Buf8(j),H.next_out=0,H.avail_out=j),(w=c.inflate(H,g.Z_NO_FLUSH))===g.Z_NEED_DICT&&Y&&(K=typeof Y=="string"?p.string2buf(Y):S.call(Y)==="[object ArrayBuffer]"?new Uint8Array(Y):Y,w=c.inflateSetDictionary(this.strm,K)),w===g.Z_BUF_ERROR&&oe===!0&&(w=g.Z_OK,oe=!1),w!==g.Z_STREAM_END&&w!==g.Z_OK)return this.onEnd(w),!(this.ended=!0);H.next_out&&(H.avail_out!==0&&w!==g.Z_STREAM_END&&(H.avail_in!==0||I!==g.Z_FINISH&&I!==g.Z_SYNC_FLUSH)||(this.options.to==="string"?(U=p.utf8border(H.output,H.next_out),G=H.next_out-U,B=p.buf2string(H.output,U),H.next_out=G,H.avail_out=j-G,G&&d.arraySet(H.output,H.output,U,G,0),this.onData(B)):this.onData(d.shrinkBuf(H.output,H.next_out)))),H.avail_in===0&&H.avail_out===0&&(oe=!0)}while((0<H.avail_in||H.avail_out===0)&&w!==g.Z_STREAM_END);return w===g.Z_STREAM_END&&(I=g.Z_FINISH),I===g.Z_FINISH?(w=c.inflateEnd(this.strm),this.onEnd(w),this.ended=!0,w===g.Z_OK):I!==g.Z_SYNC_FLUSH||(this.onEnd(g.Z_OK),!(H.avail_out=0))},T.prototype.onData=function(A){this.chunks.push(A)},T.prototype.onEnd=function(A){A===g.Z_OK&&(this.options.to==="string"?this.result=this.chunks.join(""):this.result=d.flattenChunks(this.chunks)),this.chunks=[],this.err=A,this.msg=this.strm.msg},s.Inflate=T,s.inflate=R,s.inflateRaw=function(A,M){return(M=M||{}).raw=!0,R(A,M)},s.ungzip=R},{"./utils/common":41,"./utils/strings":42,"./zlib/constants":44,"./zlib/gzheader":47,"./zlib/inflate":49,"./zlib/messages":51,"./zlib/zstream":53}],41:[function(l,a,s){var c=typeof Uint8Array<"u"&&typeof Uint16Array<"u"&&typeof Int32Array<"u";s.assign=function(g){for(var m=Array.prototype.slice.call(arguments,1);m.length;){var v=m.shift();if(v){if(typeof v!="object")throw new TypeError(v+"must be non-object");for(var _ in v)v.hasOwnProperty(_)&&(g[_]=v[_])}}return g},s.shrinkBuf=function(g,m){return g.length===m?g:g.subarray?g.subarray(0,m):(g.length=m,g)};var d={arraySet:function(g,m,v,_,S){if(m.subarray&&g.subarray)g.set(m.subarray(v,v+_),S);else for(var T=0;T<_;T++)g[S+T]=m[v+T]},flattenChunks:function(g){var m,v,_,S,T,R;for(m=_=0,v=g.length;m<v;m++)_+=g[m].length;for(R=new Uint8Array(_),m=S=0,v=g.length;m<v;m++)T=g[m],R.set(T,S),S+=T.length;return R}},p={arraySet:function(g,m,v,_,S){for(var T=0;T<_;T++)g[S+T]=m[v+T]},flattenChunks:function(g){return[].concat.apply([],g)}};s.setTyped=function(g){g?(s.Buf8=Uint8Array,s.Buf16=Uint16Array,s.Buf32=Int32Array,s.assign(s,d)):(s.Buf8=Array,s.Buf16=Array,s.Buf32=Array,s.assign(s,p))},s.setTyped(c)},{}],42:[function(l,a,s){var c=l("./common"),d=!0,p=!0;try{String.fromCharCode.apply(null,[0])}catch{d=!1}try{String.fromCharCode.apply(null,new Uint8Array(1))}catch{p=!1}for(var g=new c.Buf8(256),m=0;m<256;m++)g[m]=252<=m?6:248<=m?5:240<=m?4:224<=m?3:192<=m?2:1;function v(_,S){if(S<65537&&(_.subarray&&p||!_.subarray&&d))return String.fromCharCode.apply(null,c.shrinkBuf(_,S));for(var T="",R=0;R<S;R++)T+=String.fromCharCode(_[R]);return T}g[254]=g[254]=1,s.string2buf=function(_){var S,T,R,A,M,w=_.length,I=0;for(A=0;A<w;A++)(64512&(T=_.charCodeAt(A)))==55296&&A+1<w&&(64512&(R=_.charCodeAt(A+1)))==56320&&(T=65536+(T-55296<<10)+(R-56320),A++),I+=T<128?1:T<2048?2:T<65536?3:4;for(S=new c.Buf8(I),A=M=0;M<I;A++)(64512&(T=_.charCodeAt(A)))==55296&&A+1<w&&(64512&(R=_.charCodeAt(A+1)))==56320&&(T=65536+(T-55296<<10)+(R-56320),A++),T<128?S[M++]=T:(T<2048?S[M++]=192|T>>>6:(T<65536?S[M++]=224|T>>>12:(S[M++]=240|T>>>18,S[M++]=128|T>>>12&63),S[M++]=128|T>>>6&63),S[M++]=128|63&T);return S},s.buf2binstring=function(_){return v(_,_.length)},s.binstring2buf=function(_){for(var S=new c.Buf8(_.length),T=0,R=S.length;T<R;T++)S[T]=_.charCodeAt(T);return S},s.buf2string=function(_,S){var T,R,A,M,w=S||_.length,I=new Array(2*w);for(T=R=0;T<w;)if((A=_[T++])<128)I[R++]=A;else if(4<(M=g[A]))I[R++]=65533,T+=M-1;else{for(A&=M===2?31:M===3?15:7;1<M&&T<w;)A=A<<6|63&_[T++],M--;1<M?I[R++]=65533:A<65536?I[R++]=A:(A-=65536,I[R++]=55296|A>>10&1023,I[R++]=56320|1023&A)}return v(I,R)},s.utf8border=function(_,S){var T;for((S=S||_.length)>_.length&&(S=_.length),T=S-1;0<=T&&(192&_[T])==128;)T--;return T<0||T===0?S:T+g[_[T]]>S?T:S}},{"./common":41}],43:[function(l,a,s){a.exports=function(c,d,p,g){for(var m=65535&c|0,v=c>>>16&65535|0,_=0;p!==0;){for(p-=_=2e3<p?2e3:p;v=v+(m=m+d[g++]|0)|0,--_;);m%=65521,v%=65521}return m|v<<16|0}},{}],44:[function(l,a,s){a.exports={Z_NO_FLUSH:0,Z_PARTIAL_FLUSH:1,Z_SYNC_FLUSH:2,Z_FULL_FLUSH:3,Z_FINISH:4,Z_BLOCK:5,Z_TREES:6,Z_OK:0,Z_STREAM_END:1,Z_NEED_DICT:2,Z_ERRNO:-1,Z_STREAM_ERROR:-2,Z_DATA_ERROR:-3,Z_BUF_ERROR:-5,Z_NO_COMPRESSION:0,Z_BEST_SPEED:1,Z_BEST_COMPRESSION:9,Z_DEFAULT_COMPRESSION:-1,Z_FILTERED:1,Z_HUFFMAN_ONLY:2,Z_RLE:3,Z_FIXED:4,Z_DEFAULT_STRATEGY:0,Z_BINARY:0,Z_TEXT:1,Z_UNKNOWN:2,Z_DEFLATED:8}},{}],45:[function(l,a,s){var c=(function(){for(var d,p=[],g=0;g<256;g++){d=g;for(var m=0;m<8;m++)d=1&d?3988292384^d>>>1:d>>>1;p[g]=d}return p})();a.exports=function(d,p,g,m){var v=c,_=m+g;d^=-1;for(var S=m;S<_;S++)d=d>>>8^v[255&(d^p[S])];return-1^d}},{}],46:[function(l,a,s){var c,d=l("../utils/common"),p=l("./trees"),g=l("./adler32"),m=l("./crc32"),v=l("./messages"),_=0,S=4,T=0,R=-2,A=-1,M=4,w=2,I=8,U=9,G=286,B=30,K=19,H=2*G+1,j=15,Y=3,oe=258,ye=oe+Y+1,L=42,le=113,x=1,J=2,V=3,F=4;function me(C,ce){return C.msg=v[ce],ce}function Z(C){return(C<<1)-(4<C?9:0)}function de(C){for(var ce=C.length;0<=--ce;)C[ce]=0}function b(C){var ce=C.state,re=ce.pending;re>C.avail_out&&(re=C.avail_out),re!==0&&(d.arraySet(C.output,ce.pending_buf,ce.pending_out,re,C.next_out),C.next_out+=re,ce.pending_out+=re,C.total_out+=re,C.avail_out-=re,ce.pending-=re,ce.pending===0&&(ce.pending_out=0))}function k(C,ce){p._tr_flush_block(C,0<=C.block_start?C.block_start:-1,C.strstart-C.block_start,ce),C.block_start=C.strstart,b(C.strm)}function ne(C,ce){C.pending_buf[C.pending++]=ce}function ie(C,ce){C.pending_buf[C.pending++]=ce>>>8&255,C.pending_buf[C.pending++]=255&ce}function se(C,ce){var re,q,z=C.max_chain_length,X=C.strstart,pe=C.prev_length,ge=C.nice_match,ee=C.strstart>C.w_size-ye?C.strstart-(C.w_size-ye):0,ve=C.window,Se=C.w_mask,_e=C.prev,Ie=C.strstart+oe,We=ve[X+pe-1],qe=ve[X+pe];C.prev_length>=C.good_match&&(z>>=2),ge>C.lookahead&&(ge=C.lookahead);do if(ve[(re=ce)+pe]===qe&&ve[re+pe-1]===We&&ve[re]===ve[X]&&ve[++re]===ve[X+1]){X+=2,re++;do;while(ve[++X]===ve[++re]&&ve[++X]===ve[++re]&&ve[++X]===ve[++re]&&ve[++X]===ve[++re]&&ve[++X]===ve[++re]&&ve[++X]===ve[++re]&&ve[++X]===ve[++re]&&ve[++X]===ve[++re]&&X<Ie);if(q=oe-(Ie-X),X=Ie-oe,pe<q){if(C.match_start=ce,ge<=(pe=q))break;We=ve[X+pe-1],qe=ve[X+pe]}}while((ce=_e[ce&Se])>ee&&--z!=0);return pe<=C.lookahead?pe:C.lookahead}function Ce(C){var ce,re,q,z,X,pe,ge,ee,ve,Se,_e=C.w_size;do{if(z=C.window_size-C.lookahead-C.strstart,C.strstart>=_e+(_e-ye)){for(d.arraySet(C.window,C.window,_e,_e,0),C.match_start-=_e,C.strstart-=_e,C.block_start-=_e,ce=re=C.hash_size;q=C.head[--ce],C.head[ce]=_e<=q?q-_e:0,--re;);for(ce=re=_e;q=C.prev[--ce],C.prev[ce]=_e<=q?q-_e:0,--re;);z+=_e}if(C.strm.avail_in===0)break;if(pe=C.strm,ge=C.window,ee=C.strstart+C.lookahead,ve=z,Se=void 0,Se=pe.avail_in,ve<Se&&(Se=ve),re=Se===0?0:(pe.avail_in-=Se,d.arraySet(ge,pe.input,pe.next_in,Se,ee),pe.state.wrap===1?pe.adler=g(pe.adler,ge,Se,ee):pe.state.wrap===2&&(pe.adler=m(pe.adler,ge,Se,ee)),pe.next_in+=Se,pe.total_in+=Se,Se),C.lookahead+=re,C.lookahead+C.insert>=Y)for(X=C.strstart-C.insert,C.ins_h=C.window[X],C.ins_h=(C.ins_h<<C.hash_shift^C.window[X+1])&C.hash_mask;C.insert&&(C.ins_h=(C.ins_h<<C.hash_shift^C.window[X+Y-1])&C.hash_mask,C.prev[X&C.w_mask]=C.head[C.ins_h],C.head[C.ins_h]=X,X++,C.insert--,!(C.lookahead+C.insert<Y)););}while(C.lookahead<ye&&C.strm.avail_in!==0)}function Ue(C,ce){for(var re,q;;){if(C.lookahead<ye){if(Ce(C),C.lookahead<ye&&ce===_)return x;if(C.lookahead===0)break}if(re=0,C.lookahead>=Y&&(C.ins_h=(C.ins_h<<C.hash_shift^C.window[C.strstart+Y-1])&C.hash_mask,re=C.prev[C.strstart&C.w_mask]=C.head[C.ins_h],C.head[C.ins_h]=C.strstart),re!==0&&C.strstart-re<=C.w_size-ye&&(C.match_length=se(C,re)),C.match_length>=Y)if(q=p._tr_tally(C,C.strstart-C.match_start,C.match_length-Y),C.lookahead-=C.match_length,C.match_length<=C.max_lazy_match&&C.lookahead>=Y){for(C.match_length--;C.strstart++,C.ins_h=(C.ins_h<<C.hash_shift^C.window[C.strstart+Y-1])&C.hash_mask,re=C.prev[C.strstart&C.w_mask]=C.head[C.ins_h],C.head[C.ins_h]=C.strstart,--C.match_length!=0;);C.strstart++}else C.strstart+=C.match_length,C.match_length=0,C.ins_h=C.window[C.strstart],C.ins_h=(C.ins_h<<C.hash_shift^C.window[C.strstart+1])&C.hash_mask;else q=p._tr_tally(C,0,C.window[C.strstart]),C.lookahead--,C.strstart++;if(q&&(k(C,!1),C.strm.avail_out===0))return x}return C.insert=C.strstart<Y-1?C.strstart:Y-1,ce===S?(k(C,!0),C.strm.avail_out===0?V:F):C.last_lit&&(k(C,!1),C.strm.avail_out===0)?x:J}function Re(C,ce){for(var re,q,z;;){if(C.lookahead<ye){if(Ce(C),C.lookahead<ye&&ce===_)return x;if(C.lookahead===0)break}if(re=0,C.lookahead>=Y&&(C.ins_h=(C.ins_h<<C.hash_shift^C.window[C.strstart+Y-1])&C.hash_mask,re=C.prev[C.strstart&C.w_mask]=C.head[C.ins_h],C.head[C.ins_h]=C.strstart),C.prev_length=C.match_length,C.prev_match=C.match_start,C.match_length=Y-1,re!==0&&C.prev_length<C.max_lazy_match&&C.strstart-re<=C.w_size-ye&&(C.match_length=se(C,re),C.match_length<=5&&(C.strategy===1||C.match_length===Y&&4096<C.strstart-C.match_start)&&(C.match_length=Y-1)),C.prev_length>=Y&&C.match_length<=C.prev_length){for(z=C.strstart+C.lookahead-Y,q=p._tr_tally(C,C.strstart-1-C.prev_match,C.prev_length-Y),C.lookahead-=C.prev_length-1,C.prev_length-=2;++C.strstart<=z&&(C.ins_h=(C.ins_h<<C.hash_shift^C.window[C.strstart+Y-1])&C.hash_mask,re=C.prev[C.strstart&C.w_mask]=C.head[C.ins_h],C.head[C.ins_h]=C.strstart),--C.prev_length!=0;);if(C.match_available=0,C.match_length=Y-1,C.strstart++,q&&(k(C,!1),C.strm.avail_out===0))return x}else if(C.match_available){if((q=p._tr_tally(C,0,C.window[C.strstart-1]))&&k(C,!1),C.strstart++,C.lookahead--,C.strm.avail_out===0)return x}else C.match_available=1,C.strstart++,C.lookahead--}return C.match_available&&(q=p._tr_tally(C,0,C.window[C.strstart-1]),C.match_available=0),C.insert=C.strstart<Y-1?C.strstart:Y-1,ce===S?(k(C,!0),C.strm.avail_out===0?V:F):C.last_lit&&(k(C,!1),C.strm.avail_out===0)?x:J}function Ne(C,ce,re,q,z){this.good_length=C,this.max_lazy=ce,this.nice_length=re,this.max_chain=q,this.func=z}function je(){this.strm=null,this.status=0,this.pending_buf=null,this.pending_buf_size=0,this.pending_out=0,this.pending=0,this.wrap=0,this.gzhead=null,this.gzindex=0,this.method=I,this.last_flush=-1,this.w_size=0,this.w_bits=0,this.w_mask=0,this.window=null,this.window_size=0,this.prev=null,this.head=null,this.ins_h=0,this.hash_size=0,this.hash_bits=0,this.hash_mask=0,this.hash_shift=0,this.block_start=0,this.match_length=0,this.prev_match=0,this.match_available=0,this.strstart=0,this.match_start=0,this.lookahead=0,this.prev_length=0,this.max_chain_length=0,this.max_lazy_match=0,this.level=0,this.strategy=0,this.good_match=0,this.nice_match=0,this.dyn_ltree=new d.Buf16(2*H),this.dyn_dtree=new d.Buf16(2*(2*B+1)),this.bl_tree=new d.Buf16(2*(2*K+1)),de(this.dyn_ltree),de(this.dyn_dtree),de(this.bl_tree),this.l_desc=null,this.d_desc=null,this.bl_desc=null,this.bl_count=new d.Buf16(j+1),this.heap=new d.Buf16(2*G+1),de(this.heap),this.heap_len=0,this.heap_max=0,this.depth=new d.Buf16(2*G+1),de(this.depth),this.l_buf=0,this.lit_bufsize=0,this.last_lit=0,this.d_buf=0,this.opt_len=0,this.static_len=0,this.matches=0,this.insert=0,this.bi_buf=0,this.bi_valid=0}function be(C){var ce;return C&&C.state?(C.total_in=C.total_out=0,C.data_type=w,(ce=C.state).pending=0,ce.pending_out=0,ce.wrap<0&&(ce.wrap=-ce.wrap),ce.status=ce.wrap?L:le,C.adler=ce.wrap===2?0:1,ce.last_flush=_,p._tr_init(ce),T):me(C,R)}function pt(C){var ce=be(C);return ce===T&&(function(re){re.window_size=2*re.w_size,de(re.head),re.max_lazy_match=c[re.level].max_lazy,re.good_match=c[re.level].good_length,re.nice_match=c[re.level].nice_length,re.max_chain_length=c[re.level].max_chain,re.strstart=0,re.block_start=0,re.lookahead=0,re.insert=0,re.match_length=re.prev_length=Y-1,re.match_available=0,re.ins_h=0})(C.state),ce}function ct(C,ce,re,q,z,X){if(!C)return R;var pe=1;if(ce===A&&(ce=6),q<0?(pe=0,q=-q):15<q&&(pe=2,q-=16),z<1||U<z||re!==I||q<8||15<q||ce<0||9<ce||X<0||M<X)return me(C,R);q===8&&(q=9);var ge=new je;return(C.state=ge).strm=C,ge.wrap=pe,ge.gzhead=null,ge.w_bits=q,ge.w_size=1<<ge.w_bits,ge.w_mask=ge.w_size-1,ge.hash_bits=z+7,ge.hash_size=1<<ge.hash_bits,ge.hash_mask=ge.hash_size-1,ge.hash_shift=~~((ge.hash_bits+Y-1)/Y),ge.window=new d.Buf8(2*ge.w_size),ge.head=new d.Buf16(ge.hash_size),ge.prev=new d.Buf16(ge.w_size),ge.lit_bufsize=1<<z+6,ge.pending_buf_size=4*ge.lit_bufsize,ge.pending_buf=new d.Buf8(ge.pending_buf_size),ge.d_buf=1*ge.lit_bufsize,ge.l_buf=3*ge.lit_bufsize,ge.level=ce,ge.strategy=X,ge.method=re,pt(C)}c=[new Ne(0,0,0,0,function(C,ce){var re=65535;for(re>C.pending_buf_size-5&&(re=C.pending_buf_size-5);;){if(C.lookahead<=1){if(Ce(C),C.lookahead===0&&ce===_)return x;if(C.lookahead===0)break}C.strstart+=C.lookahead,C.lookahead=0;var q=C.block_start+re;if((C.strstart===0||C.strstart>=q)&&(C.lookahead=C.strstart-q,C.strstart=q,k(C,!1),C.strm.avail_out===0)||C.strstart-C.block_start>=C.w_size-ye&&(k(C,!1),C.strm.avail_out===0))return x}return C.insert=0,ce===S?(k(C,!0),C.strm.avail_out===0?V:F):(C.strstart>C.block_start&&(k(C,!1),C.strm.avail_out),x)}),new Ne(4,4,8,4,Ue),new Ne(4,5,16,8,Ue),new Ne(4,6,32,32,Ue),new Ne(4,4,16,16,Re),new Ne(8,16,32,32,Re),new Ne(8,16,128,128,Re),new Ne(8,32,128,256,Re),new Ne(32,128,258,1024,Re),new Ne(32,258,258,4096,Re)],s.deflateInit=function(C,ce){return ct(C,ce,I,15,8,0)},s.deflateInit2=ct,s.deflateReset=pt,s.deflateResetKeep=be,s.deflateSetHeader=function(C,ce){return C&&C.state?C.state.wrap!==2?R:(C.state.gzhead=ce,T):R},s.deflate=function(C,ce){var re,q,z,X;if(!C||!C.state||5<ce||ce<0)return C?me(C,R):R;if(q=C.state,!C.output||!C.input&&C.avail_in!==0||q.status===666&&ce!==S)return me(C,C.avail_out===0?-5:R);if(q.strm=C,re=q.last_flush,q.last_flush=ce,q.status===L)if(q.wrap===2)C.adler=0,ne(q,31),ne(q,139),ne(q,8),q.gzhead?(ne(q,(q.gzhead.text?1:0)+(q.gzhead.hcrc?2:0)+(q.gzhead.extra?4:0)+(q.gzhead.name?8:0)+(q.gzhead.comment?16:0)),ne(q,255&q.gzhead.time),ne(q,q.gzhead.time>>8&255),ne(q,q.gzhead.time>>16&255),ne(q,q.gzhead.time>>24&255),ne(q,q.level===9?2:2<=q.strategy||q.level<2?4:0),ne(q,255&q.gzhead.os),q.gzhead.extra&&q.gzhead.extra.length&&(ne(q,255&q.gzhead.extra.length),ne(q,q.gzhead.extra.length>>8&255)),q.gzhead.hcrc&&(C.adler=m(C.adler,q.pending_buf,q.pending,0)),q.gzindex=0,q.status=69):(ne(q,0),ne(q,0),ne(q,0),ne(q,0),ne(q,0),ne(q,q.level===9?2:2<=q.strategy||q.level<2?4:0),ne(q,3),q.status=le);else{var pe=I+(q.w_bits-8<<4)<<8;pe|=(2<=q.strategy||q.level<2?0:q.level<6?1:q.level===6?2:3)<<6,q.strstart!==0&&(pe|=32),pe+=31-pe%31,q.status=le,ie(q,pe),q.strstart!==0&&(ie(q,C.adler>>>16),ie(q,65535&C.adler)),C.adler=1}if(q.status===69)if(q.gzhead.extra){for(z=q.pending;q.gzindex<(65535&q.gzhead.extra.length)&&(q.pending!==q.pending_buf_size||(q.gzhead.hcrc&&q.pending>z&&(C.adler=m(C.adler,q.pending_buf,q.pending-z,z)),b(C),z=q.pending,q.pending!==q.pending_buf_size));)ne(q,255&q.gzhead.extra[q.gzindex]),q.gzindex++;q.gzhead.hcrc&&q.pending>z&&(C.adler=m(C.adler,q.pending_buf,q.pending-z,z)),q.gzindex===q.gzhead.extra.length&&(q.gzindex=0,q.status=73)}else q.status=73;if(q.status===73)if(q.gzhead.name){z=q.pending;do{if(q.pending===q.pending_buf_size&&(q.gzhead.hcrc&&q.pending>z&&(C.adler=m(C.adler,q.pending_buf,q.pending-z,z)),b(C),z=q.pending,q.pending===q.pending_buf_size)){X=1;break}X=q.gzindex<q.gzhead.name.length?255&q.gzhead.name.charCodeAt(q.gzindex++):0,ne(q,X)}while(X!==0);q.gzhead.hcrc&&q.pending>z&&(C.adler=m(C.adler,q.pending_buf,q.pending-z,z)),X===0&&(q.gzindex=0,q.status=91)}else q.status=91;if(q.status===91)if(q.gzhead.comment){z=q.pending;do{if(q.pending===q.pending_buf_size&&(q.gzhead.hcrc&&q.pending>z&&(C.adler=m(C.adler,q.pending_buf,q.pending-z,z)),b(C),z=q.pending,q.pending===q.pending_buf_size)){X=1;break}X=q.gzindex<q.gzhead.comment.length?255&q.gzhead.comment.charCodeAt(q.gzindex++):0,ne(q,X)}while(X!==0);q.gzhead.hcrc&&q.pending>z&&(C.adler=m(C.adler,q.pending_buf,q.pending-z,z)),X===0&&(q.status=103)}else q.status=103;if(q.status===103&&(q.gzhead.hcrc?(q.pending+2>q.pending_buf_size&&b(C),q.pending+2<=q.pending_buf_size&&(ne(q,255&C.adler),ne(q,C.adler>>8&255),C.adler=0,q.status=le)):q.status=le),q.pending!==0){if(b(C),C.avail_out===0)return q.last_flush=-1,T}else if(C.avail_in===0&&Z(ce)<=Z(re)&&ce!==S)return me(C,-5);if(q.status===666&&C.avail_in!==0)return me(C,-5);if(C.avail_in!==0||q.lookahead!==0||ce!==_&&q.status!==666){var ge=q.strategy===2?(function(ee,ve){for(var Se;;){if(ee.lookahead===0&&(Ce(ee),ee.lookahead===0)){if(ve===_)return x;break}if(ee.match_length=0,Se=p._tr_tally(ee,0,ee.window[ee.strstart]),ee.lookahead--,ee.strstart++,Se&&(k(ee,!1),ee.strm.avail_out===0))return x}return ee.insert=0,ve===S?(k(ee,!0),ee.strm.avail_out===0?V:F):ee.last_lit&&(k(ee,!1),ee.strm.avail_out===0)?x:J})(q,ce):q.strategy===3?(function(ee,ve){for(var Se,_e,Ie,We,qe=ee.window;;){if(ee.lookahead<=oe){if(Ce(ee),ee.lookahead<=oe&&ve===_)return x;if(ee.lookahead===0)break}if(ee.match_length=0,ee.lookahead>=Y&&0<ee.strstart&&(_e=qe[Ie=ee.strstart-1])===qe[++Ie]&&_e===qe[++Ie]&&_e===qe[++Ie]){We=ee.strstart+oe;do;while(_e===qe[++Ie]&&_e===qe[++Ie]&&_e===qe[++Ie]&&_e===qe[++Ie]&&_e===qe[++Ie]&&_e===qe[++Ie]&&_e===qe[++Ie]&&_e===qe[++Ie]&&Ie<We);ee.match_length=oe-(We-Ie),ee.match_length>ee.lookahead&&(ee.match_length=ee.lookahead)}if(ee.match_length>=Y?(Se=p._tr_tally(ee,1,ee.match_length-Y),ee.lookahead-=ee.match_length,ee.strstart+=ee.match_length,ee.match_length=0):(Se=p._tr_tally(ee,0,ee.window[ee.strstart]),ee.lookahead--,ee.strstart++),Se&&(k(ee,!1),ee.strm.avail_out===0))return x}return ee.insert=0,ve===S?(k(ee,!0),ee.strm.avail_out===0?V:F):ee.last_lit&&(k(ee,!1),ee.strm.avail_out===0)?x:J})(q,ce):c[q.level].func(q,ce);if(ge!==V&&ge!==F||(q.status=666),ge===x||ge===V)return C.avail_out===0&&(q.last_flush=-1),T;if(ge===J&&(ce===1?p._tr_align(q):ce!==5&&(p._tr_stored_block(q,0,0,!1),ce===3&&(de(q.head),q.lookahead===0&&(q.strstart=0,q.block_start=0,q.insert=0))),b(C),C.avail_out===0))return q.last_flush=-1,T}return ce!==S?T:q.wrap<=0?1:(q.wrap===2?(ne(q,255&C.adler),ne(q,C.adler>>8&255),ne(q,C.adler>>16&255),ne(q,C.adler>>24&255),ne(q,255&C.total_in),ne(q,C.total_in>>8&255),ne(q,C.total_in>>16&255),ne(q,C.total_in>>24&255)):(ie(q,C.adler>>>16),ie(q,65535&C.adler)),b(C),0<q.wrap&&(q.wrap=-q.wrap),q.pending!==0?T:1)},s.deflateEnd=function(C){var ce;return C&&C.state?(ce=C.state.status)!==L&&ce!==69&&ce!==73&&ce!==91&&ce!==103&&ce!==le&&ce!==666?me(C,R):(C.state=null,ce===le?me(C,-3):T):R},s.deflateSetDictionary=function(C,ce){var re,q,z,X,pe,ge,ee,ve,Se=ce.length;if(!C||!C.state||(X=(re=C.state).wrap)===2||X===1&&re.status!==L||re.lookahead)return R;for(X===1&&(C.adler=g(C.adler,ce,Se,0)),re.wrap=0,Se>=re.w_size&&(X===0&&(de(re.head),re.strstart=0,re.block_start=0,re.insert=0),ve=new d.Buf8(re.w_size),d.arraySet(ve,ce,Se-re.w_size,re.w_size,0),ce=ve,Se=re.w_size),pe=C.avail_in,ge=C.next_in,ee=C.input,C.avail_in=Se,C.next_in=0,C.input=ce,Ce(re);re.lookahead>=Y;){for(q=re.strstart,z=re.lookahead-(Y-1);re.ins_h=(re.ins_h<<re.hash_shift^re.window[q+Y-1])&re.hash_mask,re.prev[q&re.w_mask]=re.head[re.ins_h],re.head[re.ins_h]=q,q++,--z;);re.strstart=q,re.lookahead=Y-1,Ce(re)}return re.strstart+=re.lookahead,re.block_start=re.strstart,re.insert=re.lookahead,re.lookahead=0,re.match_length=re.prev_length=Y-1,re.match_available=0,C.next_in=ge,C.input=ee,C.avail_in=pe,re.wrap=X,T},s.deflateInfo="pako deflate (from Nodeca project)"},{"../utils/common":41,"./adler32":43,"./crc32":45,"./messages":51,"./trees":52}],47:[function(l,a,s){a.exports=function(){this.text=0,this.time=0,this.xflags=0,this.os=0,this.extra=null,this.extra_len=0,this.name="",this.comment="",this.hcrc=0,this.done=!1}},{}],48:[function(l,a,s){a.exports=function(c,d){var p,g,m,v,_,S,T,R,A,M,w,I,U,G,B,K,H,j,Y,oe,ye,L,le,x,J;p=c.state,g=c.next_in,x=c.input,m=g+(c.avail_in-5),v=c.next_out,J=c.output,_=v-(d-c.avail_out),S=v+(c.avail_out-257),T=p.dmax,R=p.wsize,A=p.whave,M=p.wnext,w=p.window,I=p.hold,U=p.bits,G=p.lencode,B=p.distcode,K=(1<<p.lenbits)-1,H=(1<<p.distbits)-1;e:do{U<15&&(I+=x[g++]<<U,U+=8,I+=x[g++]<<U,U+=8),j=G[I&K];t:for(;;){if(I>>>=Y=j>>>24,U-=Y,(Y=j>>>16&255)===0)J[v++]=65535&j;else{if(!(16&Y)){if((64&Y)==0){j=G[(65535&j)+(I&(1<<Y)-1)];continue t}if(32&Y){p.mode=12;break e}c.msg="invalid literal/length code",p.mode=30;break e}oe=65535&j,(Y&=15)&&(U<Y&&(I+=x[g++]<<U,U+=8),oe+=I&(1<<Y)-1,I>>>=Y,U-=Y),U<15&&(I+=x[g++]<<U,U+=8,I+=x[g++]<<U,U+=8),j=B[I&H];n:for(;;){if(I>>>=Y=j>>>24,U-=Y,!(16&(Y=j>>>16&255))){if((64&Y)==0){j=B[(65535&j)+(I&(1<<Y)-1)];continue n}c.msg="invalid distance code",p.mode=30;break e}if(ye=65535&j,U<(Y&=15)&&(I+=x[g++]<<U,(U+=8)<Y&&(I+=x[g++]<<U,U+=8)),T<(ye+=I&(1<<Y)-1)){c.msg="invalid distance too far back",p.mode=30;break e}if(I>>>=Y,U-=Y,(Y=v-_)<ye){if(A<(Y=ye-Y)&&p.sane){c.msg="invalid distance too far back",p.mode=30;break e}if(le=w,(L=0)===M){if(L+=R-Y,Y<oe){for(oe-=Y;J[v++]=w[L++],--Y;);L=v-ye,le=J}}else if(M<Y){if(L+=R+M-Y,(Y-=M)<oe){for(oe-=Y;J[v++]=w[L++],--Y;);if(L=0,M<oe){for(oe-=Y=M;J[v++]=w[L++],--Y;);L=v-ye,le=J}}}else if(L+=M-Y,Y<oe){for(oe-=Y;J[v++]=w[L++],--Y;);L=v-ye,le=J}for(;2<oe;)J[v++]=le[L++],J[v++]=le[L++],J[v++]=le[L++],oe-=3;oe&&(J[v++]=le[L++],1<oe&&(J[v++]=le[L++]))}else{for(L=v-ye;J[v++]=J[L++],J[v++]=J[L++],J[v++]=J[L++],2<(oe-=3););oe&&(J[v++]=J[L++],1<oe&&(J[v++]=J[L++]))}break}}break}}while(g<m&&v<S);g-=oe=U>>3,I&=(1<<(U-=oe<<3))-1,c.next_in=g,c.next_out=v,c.avail_in=g<m?m-g+5:5-(g-m),c.avail_out=v<S?S-v+257:257-(v-S),p.hold=I,p.bits=U}},{}],49:[function(l,a,s){var c=l("../utils/common"),d=l("./adler32"),p=l("./crc32"),g=l("./inffast"),m=l("./inftrees"),v=1,_=2,S=0,T=-2,R=1,A=852,M=592;function w(L){return(L>>>24&255)+(L>>>8&65280)+((65280&L)<<8)+((255&L)<<24)}function I(){this.mode=0,this.last=!1,this.wrap=0,this.havedict=!1,this.flags=0,this.dmax=0,this.check=0,this.total=0,this.head=null,this.wbits=0,this.wsize=0,this.whave=0,this.wnext=0,this.window=null,this.hold=0,this.bits=0,this.length=0,this.offset=0,this.extra=0,this.lencode=null,this.distcode=null,this.lenbits=0,this.distbits=0,this.ncode=0,this.nlen=0,this.ndist=0,this.have=0,this.next=null,this.lens=new c.Buf16(320),this.work=new c.Buf16(288),this.lendyn=null,this.distdyn=null,this.sane=0,this.back=0,this.was=0}function U(L){var le;return L&&L.state?(le=L.state,L.total_in=L.total_out=le.total=0,L.msg="",le.wrap&&(L.adler=1&le.wrap),le.mode=R,le.last=0,le.havedict=0,le.dmax=32768,le.head=null,le.hold=0,le.bits=0,le.lencode=le.lendyn=new c.Buf32(A),le.distcode=le.distdyn=new c.Buf32(M),le.sane=1,le.back=-1,S):T}function G(L){var le;return L&&L.state?((le=L.state).wsize=0,le.whave=0,le.wnext=0,U(L)):T}function B(L,le){var x,J;return L&&L.state?(J=L.state,le<0?(x=0,le=-le):(x=1+(le>>4),le<48&&(le&=15)),le&&(le<8||15<le)?T:(J.window!==null&&J.wbits!==le&&(J.window=null),J.wrap=x,J.wbits=le,G(L))):T}function K(L,le){var x,J;return L?(J=new I,(L.state=J).window=null,(x=B(L,le))!==S&&(L.state=null),x):T}var H,j,Y=!0;function oe(L){if(Y){var le;for(H=new c.Buf32(512),j=new c.Buf32(32),le=0;le<144;)L.lens[le++]=8;for(;le<256;)L.lens[le++]=9;for(;le<280;)L.lens[le++]=7;for(;le<288;)L.lens[le++]=8;for(m(v,L.lens,0,288,H,0,L.work,{bits:9}),le=0;le<32;)L.lens[le++]=5;m(_,L.lens,0,32,j,0,L.work,{bits:5}),Y=!1}L.lencode=H,L.lenbits=9,L.distcode=j,L.distbits=5}function ye(L,le,x,J){var V,F=L.state;return F.window===null&&(F.wsize=1<<F.wbits,F.wnext=0,F.whave=0,F.window=new c.Buf8(F.wsize)),J>=F.wsize?(c.arraySet(F.window,le,x-F.wsize,F.wsize,0),F.wnext=0,F.whave=F.wsize):(J<(V=F.wsize-F.wnext)&&(V=J),c.arraySet(F.window,le,x-J,V,F.wnext),(J-=V)?(c.arraySet(F.window,le,x-J,J,0),F.wnext=J,F.whave=F.wsize):(F.wnext+=V,F.wnext===F.wsize&&(F.wnext=0),F.whave<F.wsize&&(F.whave+=V))),0}s.inflateReset=G,s.inflateReset2=B,s.inflateResetKeep=U,s.inflateInit=function(L){return K(L,15)},s.inflateInit2=K,s.inflate=function(L,le){var x,J,V,F,me,Z,de,b,k,ne,ie,se,Ce,Ue,Re,Ne,je,be,pt,ct,C,ce,re,q,z=0,X=new c.Buf8(4),pe=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15];if(!L||!L.state||!L.output||!L.input&&L.avail_in!==0)return T;(x=L.state).mode===12&&(x.mode=13),me=L.next_out,V=L.output,de=L.avail_out,F=L.next_in,J=L.input,Z=L.avail_in,b=x.hold,k=x.bits,ne=Z,ie=de,ce=S;e:for(;;)switch(x.mode){case R:if(x.wrap===0){x.mode=13;break}for(;k<16;){if(Z===0)break e;Z--,b+=J[F++]<<k,k+=8}if(2&x.wrap&&b===35615){X[x.check=0]=255&b,X[1]=b>>>8&255,x.check=p(x.check,X,2,0),k=b=0,x.mode=2;break}if(x.flags=0,x.head&&(x.head.done=!1),!(1&x.wrap)||(((255&b)<<8)+(b>>8))%31){L.msg="incorrect header check",x.mode=30;break}if((15&b)!=8){L.msg="unknown compression method",x.mode=30;break}if(k-=4,C=8+(15&(b>>>=4)),x.wbits===0)x.wbits=C;else if(C>x.wbits){L.msg="invalid window size",x.mode=30;break}x.dmax=1<<C,L.adler=x.check=1,x.mode=512&b?10:12,k=b=0;break;case 2:for(;k<16;){if(Z===0)break e;Z--,b+=J[F++]<<k,k+=8}if(x.flags=b,(255&x.flags)!=8){L.msg="unknown compression method",x.mode=30;break}if(57344&x.flags){L.msg="unknown header flags set",x.mode=30;break}x.head&&(x.head.text=b>>8&1),512&x.flags&&(X[0]=255&b,X[1]=b>>>8&255,x.check=p(x.check,X,2,0)),k=b=0,x.mode=3;case 3:for(;k<32;){if(Z===0)break e;Z--,b+=J[F++]<<k,k+=8}x.head&&(x.head.time=b),512&x.flags&&(X[0]=255&b,X[1]=b>>>8&255,X[2]=b>>>16&255,X[3]=b>>>24&255,x.check=p(x.check,X,4,0)),k=b=0,x.mode=4;case 4:for(;k<16;){if(Z===0)break e;Z--,b+=J[F++]<<k,k+=8}x.head&&(x.head.xflags=255&b,x.head.os=b>>8),512&x.flags&&(X[0]=255&b,X[1]=b>>>8&255,x.check=p(x.check,X,2,0)),k=b=0,x.mode=5;case 5:if(1024&x.flags){for(;k<16;){if(Z===0)break e;Z--,b+=J[F++]<<k,k+=8}x.length=b,x.head&&(x.head.extra_len=b),512&x.flags&&(X[0]=255&b,X[1]=b>>>8&255,x.check=p(x.check,X,2,0)),k=b=0}else x.head&&(x.head.extra=null);x.mode=6;case 6:if(1024&x.flags&&(Z<(se=x.length)&&(se=Z),se&&(x.head&&(C=x.head.extra_len-x.length,x.head.extra||(x.head.extra=new Array(x.head.extra_len)),c.arraySet(x.head.extra,J,F,se,C)),512&x.flags&&(x.check=p(x.check,J,se,F)),Z-=se,F+=se,x.length-=se),x.length))break e;x.length=0,x.mode=7;case 7:if(2048&x.flags){if(Z===0)break e;for(se=0;C=J[F+se++],x.head&&C&&x.length<65536&&(x.head.name+=String.fromCharCode(C)),C&&se<Z;);if(512&x.flags&&(x.check=p(x.check,J,se,F)),Z-=se,F+=se,C)break e}else x.head&&(x.head.name=null);x.length=0,x.mode=8;case 8:if(4096&x.flags){if(Z===0)break e;for(se=0;C=J[F+se++],x.head&&C&&x.length<65536&&(x.head.comment+=String.fromCharCode(C)),C&&se<Z;);if(512&x.flags&&(x.check=p(x.check,J,se,F)),Z-=se,F+=se,C)break e}else x.head&&(x.head.comment=null);x.mode=9;case 9:if(512&x.flags){for(;k<16;){if(Z===0)break e;Z--,b+=J[F++]<<k,k+=8}if(b!==(65535&x.check)){L.msg="header crc mismatch",x.mode=30;break}k=b=0}x.head&&(x.head.hcrc=x.flags>>9&1,x.head.done=!0),L.adler=x.check=0,x.mode=12;break;case 10:for(;k<32;){if(Z===0)break e;Z--,b+=J[F++]<<k,k+=8}L.adler=x.check=w(b),k=b=0,x.mode=11;case 11:if(x.havedict===0)return L.next_out=me,L.avail_out=de,L.next_in=F,L.avail_in=Z,x.hold=b,x.bits=k,2;L.adler=x.check=1,x.mode=12;case 12:if(le===5||le===6)break e;case 13:if(x.last){b>>>=7&k,k-=7&k,x.mode=27;break}for(;k<3;){if(Z===0)break e;Z--,b+=J[F++]<<k,k+=8}switch(x.last=1&b,k-=1,3&(b>>>=1)){case 0:x.mode=14;break;case 1:if(oe(x),x.mode=20,le!==6)break;b>>>=2,k-=2;break e;case 2:x.mode=17;break;case 3:L.msg="invalid block type",x.mode=30}b>>>=2,k-=2;break;case 14:for(b>>>=7&k,k-=7&k;k<32;){if(Z===0)break e;Z--,b+=J[F++]<<k,k+=8}if((65535&b)!=(b>>>16^65535)){L.msg="invalid stored block lengths",x.mode=30;break}if(x.length=65535&b,k=b=0,x.mode=15,le===6)break e;case 15:x.mode=16;case 16:if(se=x.length){if(Z<se&&(se=Z),de<se&&(se=de),se===0)break e;c.arraySet(V,J,F,se,me),Z-=se,F+=se,de-=se,me+=se,x.length-=se;break}x.mode=12;break;case 17:for(;k<14;){if(Z===0)break e;Z--,b+=J[F++]<<k,k+=8}if(x.nlen=257+(31&b),b>>>=5,k-=5,x.ndist=1+(31&b),b>>>=5,k-=5,x.ncode=4+(15&b),b>>>=4,k-=4,286<x.nlen||30<x.ndist){L.msg="too many length or distance symbols",x.mode=30;break}x.have=0,x.mode=18;case 18:for(;x.have<x.ncode;){for(;k<3;){if(Z===0)break e;Z--,b+=J[F++]<<k,k+=8}x.lens[pe[x.have++]]=7&b,b>>>=3,k-=3}for(;x.have<19;)x.lens[pe[x.have++]]=0;if(x.lencode=x.lendyn,x.lenbits=7,re={bits:x.lenbits},ce=m(0,x.lens,0,19,x.lencode,0,x.work,re),x.lenbits=re.bits,ce){L.msg="invalid code lengths set",x.mode=30;break}x.have=0,x.mode=19;case 19:for(;x.have<x.nlen+x.ndist;){for(;Ne=(z=x.lencode[b&(1<<x.lenbits)-1])>>>16&255,je=65535&z,!((Re=z>>>24)<=k);){if(Z===0)break e;Z--,b+=J[F++]<<k,k+=8}if(je<16)b>>>=Re,k-=Re,x.lens[x.have++]=je;else{if(je===16){for(q=Re+2;k<q;){if(Z===0)break e;Z--,b+=J[F++]<<k,k+=8}if(b>>>=Re,k-=Re,x.have===0){L.msg="invalid bit length repeat",x.mode=30;break}C=x.lens[x.have-1],se=3+(3&b),b>>>=2,k-=2}else if(je===17){for(q=Re+3;k<q;){if(Z===0)break e;Z--,b+=J[F++]<<k,k+=8}k-=Re,C=0,se=3+(7&(b>>>=Re)),b>>>=3,k-=3}else{for(q=Re+7;k<q;){if(Z===0)break e;Z--,b+=J[F++]<<k,k+=8}k-=Re,C=0,se=11+(127&(b>>>=Re)),b>>>=7,k-=7}if(x.have+se>x.nlen+x.ndist){L.msg="invalid bit length repeat",x.mode=30;break}for(;se--;)x.lens[x.have++]=C}}if(x.mode===30)break;if(x.lens[256]===0){L.msg="invalid code -- missing end-of-block",x.mode=30;break}if(x.lenbits=9,re={bits:x.lenbits},ce=m(v,x.lens,0,x.nlen,x.lencode,0,x.work,re),x.lenbits=re.bits,ce){L.msg="invalid literal/lengths set",x.mode=30;break}if(x.distbits=6,x.distcode=x.distdyn,re={bits:x.distbits},ce=m(_,x.lens,x.nlen,x.ndist,x.distcode,0,x.work,re),x.distbits=re.bits,ce){L.msg="invalid distances set",x.mode=30;break}if(x.mode=20,le===6)break e;case 20:x.mode=21;case 21:if(6<=Z&&258<=de){L.next_out=me,L.avail_out=de,L.next_in=F,L.avail_in=Z,x.hold=b,x.bits=k,g(L,ie),me=L.next_out,V=L.output,de=L.avail_out,F=L.next_in,J=L.input,Z=L.avail_in,b=x.hold,k=x.bits,x.mode===12&&(x.back=-1);break}for(x.back=0;Ne=(z=x.lencode[b&(1<<x.lenbits)-1])>>>16&255,je=65535&z,!((Re=z>>>24)<=k);){if(Z===0)break e;Z--,b+=J[F++]<<k,k+=8}if(Ne&&(240&Ne)==0){for(be=Re,pt=Ne,ct=je;Ne=(z=x.lencode[ct+((b&(1<<be+pt)-1)>>be)])>>>16&255,je=65535&z,!(be+(Re=z>>>24)<=k);){if(Z===0)break e;Z--,b+=J[F++]<<k,k+=8}b>>>=be,k-=be,x.back+=be}if(b>>>=Re,k-=Re,x.back+=Re,x.length=je,Ne===0){x.mode=26;break}if(32&Ne){x.back=-1,x.mode=12;break}if(64&Ne){L.msg="invalid literal/length code",x.mode=30;break}x.extra=15&Ne,x.mode=22;case 22:if(x.extra){for(q=x.extra;k<q;){if(Z===0)break e;Z--,b+=J[F++]<<k,k+=8}x.length+=b&(1<<x.extra)-1,b>>>=x.extra,k-=x.extra,x.back+=x.extra}x.was=x.length,x.mode=23;case 23:for(;Ne=(z=x.distcode[b&(1<<x.distbits)-1])>>>16&255,je=65535&z,!((Re=z>>>24)<=k);){if(Z===0)break e;Z--,b+=J[F++]<<k,k+=8}if((240&Ne)==0){for(be=Re,pt=Ne,ct=je;Ne=(z=x.distcode[ct+((b&(1<<be+pt)-1)>>be)])>>>16&255,je=65535&z,!(be+(Re=z>>>24)<=k);){if(Z===0)break e;Z--,b+=J[F++]<<k,k+=8}b>>>=be,k-=be,x.back+=be}if(b>>>=Re,k-=Re,x.back+=Re,64&Ne){L.msg="invalid distance code",x.mode=30;break}x.offset=je,x.extra=15&Ne,x.mode=24;case 24:if(x.extra){for(q=x.extra;k<q;){if(Z===0)break e;Z--,b+=J[F++]<<k,k+=8}x.offset+=b&(1<<x.extra)-1,b>>>=x.extra,k-=x.extra,x.back+=x.extra}if(x.offset>x.dmax){L.msg="invalid distance too far back",x.mode=30;break}x.mode=25;case 25:if(de===0)break e;if(se=ie-de,x.offset>se){if((se=x.offset-se)>x.whave&&x.sane){L.msg="invalid distance too far back",x.mode=30;break}Ce=se>x.wnext?(se-=x.wnext,x.wsize-se):x.wnext-se,se>x.length&&(se=x.length),Ue=x.window}else Ue=V,Ce=me-x.offset,se=x.length;for(de<se&&(se=de),de-=se,x.length-=se;V[me++]=Ue[Ce++],--se;);x.length===0&&(x.mode=21);break;case 26:if(de===0)break e;V[me++]=x.length,de--,x.mode=21;break;case 27:if(x.wrap){for(;k<32;){if(Z===0)break e;Z--,b|=J[F++]<<k,k+=8}if(ie-=de,L.total_out+=ie,x.total+=ie,ie&&(L.adler=x.check=x.flags?p(x.check,V,ie,me-ie):d(x.check,V,ie,me-ie)),ie=de,(x.flags?b:w(b))!==x.check){L.msg="incorrect data check",x.mode=30;break}k=b=0}x.mode=28;case 28:if(x.wrap&&x.flags){for(;k<32;){if(Z===0)break e;Z--,b+=J[F++]<<k,k+=8}if(b!==(4294967295&x.total)){L.msg="incorrect length check",x.mode=30;break}k=b=0}x.mode=29;case 29:ce=1;break e;case 30:ce=-3;break e;case 31:return-4;case 32:default:return T}return L.next_out=me,L.avail_out=de,L.next_in=F,L.avail_in=Z,x.hold=b,x.bits=k,(x.wsize||ie!==L.avail_out&&x.mode<30&&(x.mode<27||le!==4))&&ye(L,L.output,L.next_out,ie-L.avail_out)?(x.mode=31,-4):(ne-=L.avail_in,ie-=L.avail_out,L.total_in+=ne,L.total_out+=ie,x.total+=ie,x.wrap&&ie&&(L.adler=x.check=x.flags?p(x.check,V,ie,L.next_out-ie):d(x.check,V,ie,L.next_out-ie)),L.data_type=x.bits+(x.last?64:0)+(x.mode===12?128:0)+(x.mode===20||x.mode===15?256:0),(ne==0&&ie===0||le===4)&&ce===S&&(ce=-5),ce)},s.inflateEnd=function(L){if(!L||!L.state)return T;var le=L.state;return le.window&&(le.window=null),L.state=null,S},s.inflateGetHeader=function(L,le){var x;return L&&L.state?(2&(x=L.state).wrap)==0?T:((x.head=le).done=!1,S):T},s.inflateSetDictionary=function(L,le){var x,J=le.length;return L&&L.state?(x=L.state).wrap!==0&&x.mode!==11?T:x.mode===11&&d(1,le,J,0)!==x.check?-3:ye(L,le,J,J)?(x.mode=31,-4):(x.havedict=1,S):T},s.inflateInfo="pako inflate (from Nodeca project)"},{"../utils/common":41,"./adler32":43,"./crc32":45,"./inffast":48,"./inftrees":50}],50:[function(l,a,s){var c=l("../utils/common"),d=[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,0,0],p=[16,16,16,16,16,16,16,16,17,17,17,17,18,18,18,18,19,19,19,19,20,20,20,20,21,21,21,21,16,72,78],g=[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,0,0],m=[16,16,16,16,17,17,18,18,19,19,20,20,21,21,22,22,23,23,24,24,25,25,26,26,27,27,28,28,29,29,64,64];a.exports=function(v,_,S,T,R,A,M,w){var I,U,G,B,K,H,j,Y,oe,ye=w.bits,L=0,le=0,x=0,J=0,V=0,F=0,me=0,Z=0,de=0,b=0,k=null,ne=0,ie=new c.Buf16(16),se=new c.Buf16(16),Ce=null,Ue=0;for(L=0;L<=15;L++)ie[L]=0;for(le=0;le<T;le++)ie[_[S+le]]++;for(V=ye,J=15;1<=J&&ie[J]===0;J--);if(J<V&&(V=J),J===0)return R[A++]=20971520,R[A++]=20971520,w.bits=1,0;for(x=1;x<J&&ie[x]===0;x++);for(V<x&&(V=x),L=Z=1;L<=15;L++)if(Z<<=1,(Z-=ie[L])<0)return-1;if(0<Z&&(v===0||J!==1))return-1;for(se[1]=0,L=1;L<15;L++)se[L+1]=se[L]+ie[L];for(le=0;le<T;le++)_[S+le]!==0&&(M[se[_[S+le]]++]=le);if(H=v===0?(k=Ce=M,19):v===1?(k=d,ne-=257,Ce=p,Ue-=257,256):(k=g,Ce=m,-1),L=x,K=A,me=le=b=0,G=-1,B=(de=1<<(F=V))-1,v===1&&852<de||v===2&&592<de)return 1;for(;;){for(j=L-me,oe=M[le]<H?(Y=0,M[le]):M[le]>H?(Y=Ce[Ue+M[le]],k[ne+M[le]]):(Y=96,0),I=1<<L-me,x=U=1<<F;R[K+(b>>me)+(U-=I)]=j<<24|Y<<16|oe|0,U!==0;);for(I=1<<L-1;b&I;)I>>=1;if(I!==0?(b&=I-1,b+=I):b=0,le++,--ie[L]==0){if(L===J)break;L=_[S+M[le]]}if(V<L&&(b&B)!==G){for(me===0&&(me=V),K+=x,Z=1<<(F=L-me);F+me<J&&!((Z-=ie[F+me])<=0);)F++,Z<<=1;if(de+=1<<F,v===1&&852<de||v===2&&592<de)return 1;R[G=b&B]=V<<24|F<<16|K-A|0}}return b!==0&&(R[K+b]=L-me<<24|64<<16|0),w.bits=V,0}},{"../utils/common":41}],51:[function(l,a,s){a.exports={2:"need dictionary",1:"stream end",0:"","-1":"file error","-2":"stream error","-3":"data error","-4":"insufficient memory","-5":"buffer error","-6":"incompatible version"}},{}],52:[function(l,a,s){var c=l("../utils/common"),d=0,p=1;function g(z){for(var X=z.length;0<=--X;)z[X]=0}var m=0,v=29,_=256,S=_+1+v,T=30,R=19,A=2*S+1,M=15,w=16,I=7,U=256,G=16,B=17,K=18,H=[0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0],j=[0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13],Y=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,3,7],oe=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],ye=new Array(2*(S+2));g(ye);var L=new Array(2*T);g(L);var le=new Array(512);g(le);var x=new Array(256);g(x);var J=new Array(v);g(J);var V,F,me,Z=new Array(T);function de(z,X,pe,ge,ee){this.static_tree=z,this.extra_bits=X,this.extra_base=pe,this.elems=ge,this.max_length=ee,this.has_stree=z&&z.length}function b(z,X){this.dyn_tree=z,this.max_code=0,this.stat_desc=X}function k(z){return z<256?le[z]:le[256+(z>>>7)]}function ne(z,X){z.pending_buf[z.pending++]=255&X,z.pending_buf[z.pending++]=X>>>8&255}function ie(z,X,pe){z.bi_valid>w-pe?(z.bi_buf|=X<<z.bi_valid&65535,ne(z,z.bi_buf),z.bi_buf=X>>w-z.bi_valid,z.bi_valid+=pe-w):(z.bi_buf|=X<<z.bi_valid&65535,z.bi_valid+=pe)}function se(z,X,pe){ie(z,pe[2*X],pe[2*X+1])}function Ce(z,X){for(var pe=0;pe|=1&z,z>>>=1,pe<<=1,0<--X;);return pe>>>1}function Ue(z,X,pe){var ge,ee,ve=new Array(M+1),Se=0;for(ge=1;ge<=M;ge++)ve[ge]=Se=Se+pe[ge-1]<<1;for(ee=0;ee<=X;ee++){var _e=z[2*ee+1];_e!==0&&(z[2*ee]=Ce(ve[_e]++,_e))}}function Re(z){var X;for(X=0;X<S;X++)z.dyn_ltree[2*X]=0;for(X=0;X<T;X++)z.dyn_dtree[2*X]=0;for(X=0;X<R;X++)z.bl_tree[2*X]=0;z.dyn_ltree[2*U]=1,z.opt_len=z.static_len=0,z.last_lit=z.matches=0}function Ne(z){8<z.bi_valid?ne(z,z.bi_buf):0<z.bi_valid&&(z.pending_buf[z.pending++]=z.bi_buf),z.bi_buf=0,z.bi_valid=0}function je(z,X,pe,ge){var ee=2*X,ve=2*pe;return z[ee]<z[ve]||z[ee]===z[ve]&&ge[X]<=ge[pe]}function be(z,X,pe){for(var ge=z.heap[pe],ee=pe<<1;ee<=z.heap_len&&(ee<z.heap_len&&je(X,z.heap[ee+1],z.heap[ee],z.depth)&&ee++,!je(X,ge,z.heap[ee],z.depth));)z.heap[pe]=z.heap[ee],pe=ee,ee<<=1;z.heap[pe]=ge}function pt(z,X,pe){var ge,ee,ve,Se,_e=0;if(z.last_lit!==0)for(;ge=z.pending_buf[z.d_buf+2*_e]<<8|z.pending_buf[z.d_buf+2*_e+1],ee=z.pending_buf[z.l_buf+_e],_e++,ge===0?se(z,ee,X):(se(z,(ve=x[ee])+_+1,X),(Se=H[ve])!==0&&ie(z,ee-=J[ve],Se),se(z,ve=k(--ge),pe),(Se=j[ve])!==0&&ie(z,ge-=Z[ve],Se)),_e<z.last_lit;);se(z,U,X)}function ct(z,X){var pe,ge,ee,ve=X.dyn_tree,Se=X.stat_desc.static_tree,_e=X.stat_desc.has_stree,Ie=X.stat_desc.elems,We=-1;for(z.heap_len=0,z.heap_max=A,pe=0;pe<Ie;pe++)ve[2*pe]!==0?(z.heap[++z.heap_len]=We=pe,z.depth[pe]=0):ve[2*pe+1]=0;for(;z.heap_len<2;)ve[2*(ee=z.heap[++z.heap_len]=We<2?++We:0)]=1,z.depth[ee]=0,z.opt_len--,_e&&(z.static_len-=Se[2*ee+1]);for(X.max_code=We,pe=z.heap_len>>1;1<=pe;pe--)be(z,ve,pe);for(ee=Ie;pe=z.heap[1],z.heap[1]=z.heap[z.heap_len--],be(z,ve,1),ge=z.heap[1],z.heap[--z.heap_max]=pe,z.heap[--z.heap_max]=ge,ve[2*ee]=ve[2*pe]+ve[2*ge],z.depth[ee]=(z.depth[pe]>=z.depth[ge]?z.depth[pe]:z.depth[ge])+1,ve[2*pe+1]=ve[2*ge+1]=ee,z.heap[1]=ee++,be(z,ve,1),2<=z.heap_len;);z.heap[--z.heap_max]=z.heap[1],(function(qe,Mt){var Ae,De,ze,Me,Pe,ft,Ze=Mt.dyn_tree,mn=Mt.max_code,Fa=Mt.stat_desc.static_tree,Oa=Mt.stat_desc.has_stree,Mi=Mt.stat_desc.extra_bits,ui=Mt.stat_desc.extra_base,cn=Mt.stat_desc.max_length,Zt=0;for(Me=0;Me<=M;Me++)qe.bl_count[Me]=0;for(Ze[2*qe.heap[qe.heap_max]+1]=0,Ae=qe.heap_max+1;Ae<A;Ae++)cn<(Me=Ze[2*Ze[2*(De=qe.heap[Ae])+1]+1]+1)&&(Me=cn,Zt++),Ze[2*De+1]=Me,mn<De||(qe.bl_count[Me]++,Pe=0,ui<=De&&(Pe=Mi[De-ui]),ft=Ze[2*De],qe.opt_len+=ft*(Me+Pe),Oa&&(qe.static_len+=ft*(Fa[2*De+1]+Pe)));if(Zt!==0){do{for(Me=cn-1;qe.bl_count[Me]===0;)Me--;qe.bl_count[Me]--,qe.bl_count[Me+1]+=2,qe.bl_count[cn]--,Zt-=2}while(0<Zt);for(Me=cn;Me!==0;Me--)for(De=qe.bl_count[Me];De!==0;)mn<(ze=qe.heap[--Ae])||(Ze[2*ze+1]!==Me&&(qe.opt_len+=(Me-Ze[2*ze+1])*Ze[2*ze],Ze[2*ze+1]=Me),De--)}})(z,X),Ue(ve,We,z.bl_count)}function C(z,X,pe){var ge,ee,ve=-1,Se=X[1],_e=0,Ie=7,We=4;for(Se===0&&(Ie=138,We=3),X[2*(pe+1)+1]=65535,ge=0;ge<=pe;ge++)ee=Se,Se=X[2*(ge+1)+1],++_e<Ie&&ee===Se||(_e<We?z.bl_tree[2*ee]+=_e:ee!==0?(ee!==ve&&z.bl_tree[2*ee]++,z.bl_tree[2*G]++):_e<=10?z.bl_tree[2*B]++:z.bl_tree[2*K]++,ve=ee,We=(_e=0)===Se?(Ie=138,3):ee===Se?(Ie=6,3):(Ie=7,4))}function ce(z,X,pe){var ge,ee,ve=-1,Se=X[1],_e=0,Ie=7,We=4;for(Se===0&&(Ie=138,We=3),ge=0;ge<=pe;ge++)if(ee=Se,Se=X[2*(ge+1)+1],!(++_e<Ie&&ee===Se)){if(_e<We)for(;se(z,ee,z.bl_tree),--_e!=0;);else ee!==0?(ee!==ve&&(se(z,ee,z.bl_tree),_e--),se(z,G,z.bl_tree),ie(z,_e-3,2)):_e<=10?(se(z,B,z.bl_tree),ie(z,_e-3,3)):(se(z,K,z.bl_tree),ie(z,_e-11,7));ve=ee,We=(_e=0)===Se?(Ie=138,3):ee===Se?(Ie=6,3):(Ie=7,4)}}g(Z);var re=!1;function q(z,X,pe,ge){ie(z,(m<<1)+(ge?1:0),3),(function(ee,ve,Se,_e){Ne(ee),ne(ee,Se),ne(ee,~Se),c.arraySet(ee.pending_buf,ee.window,ve,Se,ee.pending),ee.pending+=Se})(z,X,pe)}s._tr_init=function(z){re||((function(){var X,pe,ge,ee,ve,Se=new Array(M+1);for(ee=ge=0;ee<v-1;ee++)for(J[ee]=ge,X=0;X<1<<H[ee];X++)x[ge++]=ee;for(x[ge-1]=ee,ee=ve=0;ee<16;ee++)for(Z[ee]=ve,X=0;X<1<<j[ee];X++)le[ve++]=ee;for(ve>>=7;ee<T;ee++)for(Z[ee]=ve<<7,X=0;X<1<<j[ee]-7;X++)le[256+ve++]=ee;for(pe=0;pe<=M;pe++)Se[pe]=0;for(X=0;X<=143;)ye[2*X+1]=8,X++,Se[8]++;for(;X<=255;)ye[2*X+1]=9,X++,Se[9]++;for(;X<=279;)ye[2*X+1]=7,X++,Se[7]++;for(;X<=287;)ye[2*X+1]=8,X++,Se[8]++;for(Ue(ye,S+1,Se),X=0;X<T;X++)L[2*X+1]=5,L[2*X]=Ce(X,5);V=new de(ye,H,_+1,S,M),F=new de(L,j,0,T,M),me=new de(new Array(0),Y,0,R,I)})(),re=!0),z.l_desc=new b(z.dyn_ltree,V),z.d_desc=new b(z.dyn_dtree,F),z.bl_desc=new b(z.bl_tree,me),z.bi_buf=0,z.bi_valid=0,Re(z)},s._tr_stored_block=q,s._tr_flush_block=function(z,X,pe,ge){var ee,ve,Se=0;0<z.level?(z.strm.data_type===2&&(z.strm.data_type=(function(_e){var Ie,We=4093624447;for(Ie=0;Ie<=31;Ie++,We>>>=1)if(1&We&&_e.dyn_ltree[2*Ie]!==0)return d;if(_e.dyn_ltree[18]!==0||_e.dyn_ltree[20]!==0||_e.dyn_ltree[26]!==0)return p;for(Ie=32;Ie<_;Ie++)if(_e.dyn_ltree[2*Ie]!==0)return p;return d})(z)),ct(z,z.l_desc),ct(z,z.d_desc),Se=(function(_e){var Ie;for(C(_e,_e.dyn_ltree,_e.l_desc.max_code),C(_e,_e.dyn_dtree,_e.d_desc.max_code),ct(_e,_e.bl_desc),Ie=R-1;3<=Ie&&_e.bl_tree[2*oe[Ie]+1]===0;Ie--);return _e.opt_len+=3*(Ie+1)+5+5+4,Ie})(z),ee=z.opt_len+3+7>>>3,(ve=z.static_len+3+7>>>3)<=ee&&(ee=ve)):ee=ve=pe+5,pe+4<=ee&&X!==-1?q(z,X,pe,ge):z.strategy===4||ve===ee?(ie(z,2+(ge?1:0),3),pt(z,ye,L)):(ie(z,4+(ge?1:0),3),(function(_e,Ie,We,qe){var Mt;for(ie(_e,Ie-257,5),ie(_e,We-1,5),ie(_e,qe-4,4),Mt=0;Mt<qe;Mt++)ie(_e,_e.bl_tree[2*oe[Mt]+1],3);ce(_e,_e.dyn_ltree,Ie-1),ce(_e,_e.dyn_dtree,We-1)})(z,z.l_desc.max_code+1,z.d_desc.max_code+1,Se+1),pt(z,z.dyn_ltree,z.dyn_dtree)),Re(z),ge&&Ne(z)},s._tr_tally=function(z,X,pe){return z.pending_buf[z.d_buf+2*z.last_lit]=X>>>8&255,z.pending_buf[z.d_buf+2*z.last_lit+1]=255&X,z.pending_buf[z.l_buf+z.last_lit]=255&pe,z.last_lit++,X===0?z.dyn_ltree[2*pe]++:(z.matches++,X--,z.dyn_ltree[2*(x[pe]+_+1)]++,z.dyn_dtree[2*k(X)]++),z.last_lit===z.lit_bufsize-1},s._tr_align=function(z){ie(z,2,3),se(z,U,ye),(function(X){X.bi_valid===16?(ne(X,X.bi_buf),X.bi_buf=0,X.bi_valid=0):8<=X.bi_valid&&(X.pending_buf[X.pending++]=255&X.bi_buf,X.bi_buf>>=8,X.bi_valid-=8)})(z)}},{"../utils/common":41}],53:[function(l,a,s){a.exports=function(){this.input=null,this.next_in=0,this.avail_in=0,this.total_in=0,this.output=null,this.next_out=0,this.avail_out=0,this.total_out=0,this.msg="",this.state=null,this.data_type=2,this.adler=0}},{}],54:[function(l,a,s){(function(c){(function(d,p){if(!d.setImmediate){var g,m,v,_,S=1,T={},R=!1,A=d.document,M=Object.getPrototypeOf&&Object.getPrototypeOf(d);M=M&&M.setTimeout?M:d,g={}.toString.call(d.process)==="[object process]"?function(G){process.nextTick(function(){I(G)})}:(function(){if(d.postMessage&&!d.importScripts){var G=!0,B=d.onmessage;return d.onmessage=function(){G=!1},d.postMessage("","*"),d.onmessage=B,G}})()?(_="setImmediate$"+Math.random()+"$",d.addEventListener?d.addEventListener("message",U,!1):d.attachEvent("onmessage",U),function(G){d.postMessage(_+G,"*")}):d.MessageChannel?((v=new MessageChannel).port1.onmessage=function(G){I(G.data)},function(G){v.port2.postMessage(G)}):A&&"onreadystatechange"in A.createElement("script")?(m=A.documentElement,function(G){var B=A.createElement("script");B.onreadystatechange=function(){I(G),B.onreadystatechange=null,m.removeChild(B),B=null},m.appendChild(B)}):function(G){setTimeout(I,0,G)},M.setImmediate=function(G){typeof G!="function"&&(G=new Function(""+G));for(var B=new Array(arguments.length-1),K=0;K<B.length;K++)B[K]=arguments[K+1];var H={callback:G,args:B};return T[S]=H,g(S),S++},M.clearImmediate=w}function w(G){delete T[G]}function I(G){if(R)setTimeout(I,0,G);else{var B=T[G];if(B){R=!0;try{(function(K){var H=K.callback,j=K.args;switch(j.length){case 0:H();break;case 1:H(j[0]);break;case 2:H(j[0],j[1]);break;case 3:H(j[0],j[1],j[2]);break;default:H.apply(p,j)}})(B)}finally{w(G),R=!1}}}}function U(G){G.source===d&&typeof G.data=="string"&&G.data.indexOf(_)===0&&I(+G.data.slice(_.length))}})(typeof self>"u"?c===void 0?this:c:self)}).call(this,typeof Da<"u"?Da:typeof self<"u"?self:typeof window<"u"?window:{})},{}]},{},[10])(10)})})(uu)),uu.exports}var l1=o1();const a1=Eu(l1),cu=(i,n)=>Array.from({length:i},()=>Array.from({length:n},()=>null)),r1=({rows:i,cols:n,setRows:l,setCols:a,onSettingsClick:s})=>D.jsxs("div",{className:"bg-gray-800 p-4 rounded-lg shadow-lg flex items-center justify-center gap-4 sm:gap-6 mb-8",children:[D.jsxs("div",{className:"flex items-center gap-2",children:[D.jsx("label",{htmlFor:"rows",className:"text-gray-300 font-medium",children:"Rows:"}),D.jsx("input",{type:"number",id:"rows",value:i,onChange:c=>l(Math.max(1,parseInt(c.target.value,10))),className:"bg-gray-700 text-white w-20 p-2 rounded-md border border-gray-600 focus:ring-2 focus:ring-indigo-500 focus:outline-none",min:"1",max:"10"})]}),D.jsxs("div",{className:"flex items-center gap-2",children:[D.jsx("label",{htmlFor:"cols",className:"text-gray-300 font-medium",children:"Columns:"}),D.jsx("input",{type:"number",id:"cols",value:n,onChange:c=>a(Math.max(1,parseInt(c.target.value,10))),className:"bg-gray-700 text-white w-20 p-2 rounded-md border border-gray-600 focus:ring-2 focus:ring-indigo-500 focus:outline-none",min:"1",max:"10"})]}),D.jsx("button",{onClick:s,className:"p-2 bg-gray-700 rounded-md hover:bg-gray-600 transition-colors","aria-label":"Open settings",children:D.jsx(_0,{className:"w-6 h-6 text-gray-300"})})]}),s1=({imageSrc:i,onClick:n,onClear:l})=>D.jsx("div",{className:"relative aspect-auto bg-gray-800/50 border-2 border-dashed border-gray-600 rounded-lg flex items-center justify-center overflow-hidden transition-all duration-300 group",style:{aspectRatio:"auto"},children:i?D.jsxs(D.Fragment,{children:[D.jsx("img",{src:i,alt:"cell content",className:"w-full h-full object-cover"}),D.jsxs("div",{className:"absolute inset-0 bg-black/60 opacity-0 group-hover:opacity-100 transition-opacity flex items-center justify-center gap-4",children:[D.jsx("button",{onClick:n,className:"text-white p-3 bg-white/10 rounded-full hover:bg-white/20","aria-label":"Edit image",children:D.jsx(T0,{})}),D.jsx("button",{onClick:a=>{a.stopPropagation(),l()},className:"text-white p-3 bg-white/10 rounded-full hover:bg-white/20","aria-label":"Clear image",children:D.jsx(S0,{})})]})]}):D.jsx("button",{onClick:n,className:"w-full h-full text-gray-500 group-hover:text-indigo-400 group-hover:bg-gray-800/80 transition-colors flex items-center justify-center","aria-label":"Add image",children:D.jsx(y0,{className:"w-12 h-12"})})}),u1=()=>{const[i,n]=Te.useState(2),[l,a]=Te.useState(4),[s,c]=Te.useState(()=>cu(2,4)),[d,p]=Te.useState(null),[g,m]=Te.useState(!1),[v,_]=Te.useState(!1),[S,T]=Te.useState(!1),[R,A]=Te.useState(!1),[M,w]=Te.useState(null),[I,U]=Te.useState([]),[G,B]=Te.useState(null),[K,H]=Te.useState(!1),[j,Y]=Te.useState(3e3),[oe,ye]=Te.useState(1695),[L,le]=Te.useState(10),[x,J]=Te.useState("#111827"),[V,F]=Te.useState(""),[me,Z]=Te.useState(!1),[de,b]=Te.useState(""),[k,ne]=Te.useState("veo-2.0-generate-001"),[ie,se]=Te.useState(null),[Ce,Ue]=Te.useState(null),{mixImages:Re,autoCrop:Ne,letterboxImage:je,flipImage:be,manualCrop:pt}=i1(),ct=Te.useRef(null),C=Te.useRef(null),ce=Te.useMemo(()=>{const Ae=L*(l+1),De=L*(i+1),ze=j-Ae,Me=oe-De;if(ze<=0||Me<=0)return 1;const Pe=ze/l,ft=Me/i;return Pe/ft},[l,i,j,oe,L]),re=Ae=>{if(isNaN(Ae)||Ae<1)return;const De=cu(Ae,l);for(let ze=0;ze<Math.min(i,Ae);ze++)for(let Me=0;Me<l;Me++)De[ze][Me]=s[ze][Me];n(Ae),c(De),B(null)},q=Ae=>{if(isNaN(Ae)||Ae<1)return;const De=cu(i,Ae);for(let ze=0;ze<i;ze++)for(let Me=0;Me<Math.min(l,Ae);Me++)De[ze][Me]=s[ze][Me];a(Ae),c(De),B(null)},z=(Ae,De)=>{p({row:Ae,col:De});const ze=s[Ae][De];ze?(w(ze),_(!0)):m(!0)},X=(Ae,De)=>{const ze=[...s.map(Me=>[...Me])];ze[Ae][De]=null,c(ze)},pe=async Ae=>{m(!1),T(!1),w(Ae),_(!0)},ge=async Ae=>{H(!0);const De=[...s.map(Pe=>[...Pe])],ze=[];if(De.forEach((Pe,ft)=>{Pe.forEach((Ze,mn)=>{Ze===null&&ze.push({row:ft,col:mn})})}),ze.length===0){H(!1);return}const Me=[...I];for(let Pe=0;Pe<Math.min(Ae.length,ze.length);Pe++)try{const ft=ze[Pe],Ze=await je(Ae[Pe],ce,"#FFFFFF");De[ft.row][ft.col]=Ze,Me.includes(Ze)||Me.push(Ze)}catch(ft){console.error(`Error processing image ${Pe+1}:`,ft)}c(De),U(Me),H(!1),m(!1)},ee=Ae=>{Ae.length===1?pe(Ae[0]):Ae.length>1&&ge(Ae)},ve=Ae=>{if(d){const De=[...s.map(ze=>[...ze])];De[d.row][d.col]=Ae,c(De),I.includes(Ae)||U(ze=>[Ae,...ze])}_(!1),w(null),p(null)},Se=async()=>{H(!0),se(null),Ue(null),F("");try{const Ae=await Re(s,l,i,j,oe,L,x);B(Ae),setTimeout(()=>{var De;(De=ct.current)==null||De.scrollIntoView({behavior:"smooth"})},100)}catch(Ae){console.error("Error mixing images:",Ae),alert("Failed to mix images.")}finally{H(!1)}},_e=Ae=>{var Me;const De=(Me=Ae.target.files)==null?void 0:Me[0];if(!De)return;const ze=new FileReader;ze.onload=Pe=>{var Ze;const ft=(Ze=Pe.target)==null?void 0:Ze.result;B(ft),se(null),Ue(null),F(""),setTimeout(()=>{var mn;(mn=ct.current)==null||mn.scrollIntoView({behavior:"smooth"})},100)},ze.onerror=Pe=>{console.error("Error reading file:",Pe),alert("Failed to read the selected file.")},ze.readAsDataURL(De),Ae.target.value=""},Ie=Ae=>{var Me;const De=(Me=Ae.target.files)==null?void 0:Me[0];if(!De)return;const ze=URL.createObjectURL(De);Ue(ze),B(null),se(null),setTimeout(()=>{var Pe;(Pe=C.current)==null||Pe.scrollIntoView({behavior:"smooth"})},100),Ae.target.value=""},We=async()=>{var Ae;if(!(!G||!V)){Z(!0),se(null),b("");try{const De=((Ae=G.match(/data:(image\/\w+);/))==null?void 0:Ae[1])||"image/png",ze=await t1(V,{base64:G,mimeType:De},k,Me=>b(Me));se(ze)}catch(De){console.error("Error generating video:",De),alert(`Failed to generate video. ${De instanceof Error?De.message:"Unknown error"}`)}finally{Z(!1),b("")}}},qe=Te.useMemo(()=>s.flat().every(Ae=>Ae!==null),[s]),Mt=(Ae,De)=>{const ze=document.createElement("a");ze.href=Ae,ze.download=De,document.body.appendChild(ze),ze.click(),document.body.removeChild(ze)};return D.jsxs("div",{className:"min-h-screen bg-gray-900 text-white p-4 sm:p-8 font-sans",children:[D.jsxs("div",{className:"max-w-7xl mx-auto",children:[D.jsxs("header",{className:"text-center mb-8",children:[D.jsx("h1",{className:"text-4xl sm:text-5xl font-bold text-transparent bg-clip-text bg-gradient-to-r from-indigo-400 to-purple-500 mb-2",children:"Gemini Image Collage Mixer"}),D.jsx("p",{className:"text-gray-400 max-w-2xl mx-auto",children:"Create your masterpiece. Define your grid, generate AI images for each cell, and mix them into a stunning collage."})]}),D.jsxs("main",{children:[D.jsx(r1,{rows:i,cols:l,setRows:re,setCols:q,onSettingsClick:()=>A(!0)}),D.jsx("div",{className:"grid gap-4 mb-8",style:{gridTemplateColumns:`repeat(${l}, minmax(0, 1fr))`},children:s.map((Ae,De)=>Ae.map((ze,Me)=>D.jsx("div",{style:{aspectRatio:`${ce}`},children:D.jsx(s1,{imageSrc:ze,onClick:()=>z(De,Me),onClear:()=>X(De,Me)})},`${De}-${Me}`)))}),D.jsxs("div",{className:"text-center mb-8 flex flex-wrap items-center justify-center gap-4",children:[D.jsxs("button",{onClick:Se,disabled:!qe||K,className:"bg-indigo-600 text-white font-bold py-3 px-8 rounded-lg shadow-lg transition-all duration-300 hover:bg-indigo-500 disabled:bg-gray-600 disabled:cursor-not-allowed disabled:opacity-50 flex items-center justify-center gap-2",children:[K&&!G?D.jsx(Ri,{}):D.jsx(hm,{}),K&&!G?"Mixing...":"Mix Collage"]}),D.jsx("input",{type:"file",accept:"image/*",id:"manual-image-animate",className:"hidden",onChange:_e}),D.jsxs("label",{htmlFor:"manual-image-animate",className:"cursor-pointer bg-gray-700 text-white font-bold py-3 px-8 rounded-lg shadow-lg transition-all duration-300 hover:bg-gray-600 flex items-center justify-center gap-2",children:[D.jsx(fu,{}),"Animate Image"]}),D.jsx("input",{type:"file",accept:"video/*",id:"manual-video-import",className:"hidden",onChange:Ie}),D.jsxs("label",{htmlFor:"manual-video-import",className:"cursor-pointer bg-gray-700 text-white font-bold py-3 px-8 rounded-lg shadow-lg transition-all duration-300 hover:bg-gray-600 flex items-center justify-center gap-2",children:[D.jsx(fu,{}),"Import Video"]})]}),G&&D.jsxs("div",{ref:ct,className:"mt-8 p-4 bg-gray-800/50 rounded-lg",children:[D.jsx("h2",{className:"text-2xl font-bold text-center mb-4",children:"Your Masterpiece"}),D.jsx("img",{src:G,alt:"Mixed collage",className:"w-full h-auto rounded-lg shadow-2xl",style:{aspectRatio:`${j}/${oe}`}}),D.jsx("div",{className:"text-center mt-4",children:D.jsxs("button",{onClick:()=>Mt(G,"collage-masterpiece.png"),className:"bg-green-600 text-white font-bold py-2 px-6 rounded-lg shadow-lg transition-all duration-300 hover:bg-green-500 flex items-center justify-center gap-2 mx-auto",children:[D.jsx(mm,{}),"Download Image"]})}),D.jsxs("div",{className:"mt-6 pt-6 border-t border-gray-700",children:[D.jsx("h3",{className:"text-xl font-bold text-center mb-4 text-transparent bg-clip-text bg-gradient-to-r from-purple-400 to-pink-500",children:"Animate Your Image"}),D.jsxs("div",{className:"max-w-xl mx-auto",children:[D.jsx("textarea",{value:V,onChange:Ae=>F(Ae.target.value),placeholder:"Describe how you want to animate this image. e.g., 'A slow zoom in on the center, with sparkling lights appearing.'",className:"w-full bg-gray-700 p-3 rounded-md border border-gray-600 h-24 resize-none focus:ring-2 focus:ring-indigo-500 focus:outline-none",disabled:me,"aria-label":"Video animation prompt"}),D.jsxs("div",{className:"flex items-center gap-4 mt-4",children:[D.jsxs("select",{value:k,onChange:Ae=>ne(Ae.target.value),className:"bg-gray-700 text-white p-3 rounded-md border border-gray-600 focus:ring-2 focus:ring-indigo-500 focus:outline-none",disabled:me,children:[D.jsx("option",{value:"veo-2.0-generate-001",children:"VEO 2"}),D.jsx("option",{value:"veo-3",disabled:!0,children:"VEO 3 (coming soon)"})]}),D.jsxs("button",{onClick:We,disabled:!V.trim()||me,className:"w-full bg-purple-600 text-white font-bold py-3 rounded-lg shadow-lg transition-all duration-300 hover:bg-purple-500 disabled:bg-gray-600 disabled:cursor-not-allowed disabled:opacity-50 flex items-center justify-center gap-2",children:[me?D.jsx(Ri,{}):D.jsx(pm,{}),me?"Generating...":"Generate Video"]})]})]})]}),me&&D.jsx("div",{className:"text-center mt-4 text-gray-400",children:D.jsx("p",{children:de})}),ie&&!me&&D.jsxs("div",{className:"mt-6",children:[D.jsx("h3",{className:"text-xl font-bold text-center mb-4",children:"Edit & Export Your Video"}),D.jsx(dm,{videoUrl:ie},ie)]})]}),Ce&&D.jsxs("div",{ref:C,className:"mt-8 p-4 bg-gray-800/50 rounded-lg",children:[D.jsx("h2",{className:"text-2xl font-bold text-center mb-4",children:"Edit & Export Imported Video"}),D.jsx(dm,{videoUrl:Ce},Ce)]})]})]}),g&&d&&D.jsx(c1,{onClose:()=>m(!1),onImagesSelected:ee,addToCollection:Ae=>U(De=>[Ae,...De]),cellAspectRatio:ce,onOpenCollection:()=>{m(!1),T(!0)}}),v&&M&&D.jsx(f1,{imageSrc:M,aspectRatio:ce,onClose:()=>_(!1),onCrop:ve,processor:{mixImages:Re,autoCrop:Ne,letterboxImage:je,flipImage:be,manualCrop:pt}}),S&&D.jsx(d1,{collection:I,onClose:()=>T(!1),onImageSelect:pe}),R&&D.jsx(h1,{onClose:()=>A(!1),width:j,height:oe,padding:L,backgroundColor:x,onSave:(Ae,De,ze,Me)=>{Y(Ae),ye(De),le(ze),J(Me)}})]})},dm=({videoUrl:i})=>{const n=Te.useRef(null),l=Te.useRef(null),[a,s]=Te.useState(0),[c,d]=Te.useState(0),[p,g]=Te.useState(0),[m,v]=Te.useState(0),[_,S]=Te.useState(!1),[T,R]=Te.useState(0),[A,M]=Te.useState("00:00.000"),[w,I]=Te.useState("00:00.000"),[U,G]=Te.useState(30),B=Te.useCallback(J=>{if(isNaN(J)||J<0)return"00:00.000";const V=Math.floor(J/60),F=Math.floor(J%60),me=Math.floor(J*1e3%1e3);return`${String(V).padStart(2,"0")}:${String(F).padStart(2,"0")}.${String(me).padStart(3,"0")}`},[]),K=J=>{const V=J.split(":");if(V.length!==2)return NaN;const[F,me]=V,Z=me.split(".");if(Z.length<1||Z.length>2)return NaN;const[de,b]=Z,k=parseInt(F,10),ne=parseInt(de,10),ie=b?parseInt(b.padEnd(3,"0").slice(0,3),10):0;return isNaN(k)||isNaN(ne)||isNaN(ie)?NaN:k*60+ne+ie/1e3};Te.useEffect(()=>{const J=n.current;if(!J)return;const V=()=>{const F=J.duration;F&&isFinite(F)&&(s(F),d(0),g(F))};return J.addEventListener("loadedmetadata",V,{once:!0}),J.readyState>=1&&V(),()=>J.removeEventListener("loadedmetadata",V)},[i]),Te.useEffect(()=>{M(B(c))},[c,B]),Te.useEffect(()=>{I(B(p))},[p,B]),Te.useEffect(()=>{const J=n.current;if(!J||a===0)return;const V=()=>{(J.currentTime<c||J.currentTime>=p)&&(J.currentTime=c),v(J.currentTime)};return J.addEventListener("timeupdate",V),()=>J.removeEventListener("timeupdate",V)},[c,p,a]),Te.useEffect(()=>()=>{i&&i.startsWith("blob:")&&URL.revokeObjectURL(i)},[i]);const H=async()=>{const J=n.current;if(!J||_)return;const V=U;if(!V||V<=0){alert("Frames per second must be a positive number.");return}S(!0),R(0);try{const F=document.createElement("canvas"),me=F.getContext("2d");if(F.width=J.videoWidth,F.height=J.videoHeight,!me)throw new Error("Could not get canvas context");const Z=new a1,de=Math.floor((p-c)*V);let b=0;J.pause();for(let ie=c;ie<=p;ie+=1/V){J.currentTime=ie,await new Promise(Ce=>J.addEventListener("seeked",Ce,{once:!0})),me.drawImage(J,0,0,F.width,F.height);const se=await new Promise(Ce=>F.toBlob(Ce,"image/png"));se&&Z.file(`frame_${String(b).padStart(5,"0")}.png`,se),b++,de>0&&R(b/de*100)}const k=await Z.generateAsync({type:"blob"}),ne=document.createElement("a");ne.href=URL.createObjectURL(k),ne.download="video-frames.zip",ne.click(),URL.revokeObjectURL(ne.href)}catch(F){console.error("Error exporting frames:",F),alert("Failed to export frames.")}finally{S(!1),J&&J.play()}},j=(J,V)=>{J.preventDefault();const F=l.current;if(!F||a===0)return;const me=F.getBoundingClientRect(),Z=k=>{const ie=Math.max(0,Math.min(1,(k-me.left)/me.width))*a;V==="start"?d(Math.min(ie,p-.1)):V==="end"?g(Math.max(ie,c+.1)):n.current&&(n.current.currentTime=ie)};Z(J.clientX);const de=k=>Z(k.clientX),b=()=>{document.removeEventListener("mousemove",de),document.removeEventListener("mouseup",b)};document.addEventListener("mousemove",de),document.addEventListener("mouseup",b)},Y=J=>{const F=K(J==="start"?A:w);!isNaN(F)&&isFinite(F)?J==="start"?d(Math.max(0,Math.min(F,p))):g(Math.min(a,Math.max(F,c))):J==="start"?M(B(c)):I(B(p))},oe=(J,V)=>{J.key==="Enter"&&(Y(V),J.currentTarget.blur())},ye=a>0?c/a*100:0,L=a>0?p/a*100:0,le=a>0?m/a*100:0,x=a>0?(p-c)/a*100:0;return D.jsxs("div",{className:"bg-gray-900/50 p-4 rounded-lg",children:[D.jsx("video",{ref:n,src:i,controls:!0,autoPlay:!0,loop:!0,className:"w-full h-auto rounded-lg shadow-2xl",muted:!0,playsInline:!0}),D.jsxs("div",{className:"mt-4 space-y-3",children:[D.jsxs("div",{ref:l,onMouseDown:J=>j(J,"playhead"),className:"relative h-4 bg-gray-700 rounded-full cursor-pointer touch-none",children:[D.jsx("div",{className:"absolute h-full bg-indigo-400/50 rounded-full",style:{left:`${ye}%`,width:`${x}%`}}),D.jsx("div",{className:"absolute h-full top-0",style:{left:`${le}%`},children:D.jsx("div",{className:"w-1 h-full bg-red-500"})}),D.jsx("div",{onMouseDown:J=>{J.stopPropagation(),j(J,"start")},className:"absolute -top-1 w-6 h-6 rounded-full bg-indigo-500 border-2 border-white cursor-ew-resize",style:{left:`${ye}%`,transform:"translateX(-50%)"}}),D.jsx("div",{onMouseDown:J=>{J.stopPropagation(),j(J,"end")},className:"absolute -top-1 w-6 h-6 rounded-full bg-indigo-500 border-2 border-white cursor-ew-resize",style:{left:`${L}%`,transform:"translateX(-50%)"}})]}),D.jsxs("div",{className:"flex justify-between items-center gap-4 text-sm flex-wrap",children:[D.jsxs("div",{className:"flex items-center gap-2",children:[D.jsx("label",{htmlFor:"start-time",children:"Start:"}),D.jsx("input",{type:"text",id:"start-time",value:A,onChange:J=>M(J.target.value),onBlur:()=>Y("start"),onKeyDown:J=>oe(J,"start"),className:"w-24 bg-gray-700 p-1 rounded text-center font-mono"})]}),D.jsxs("div",{className:"font-mono text-lg",children:[B(m)," / ",B(a)]}),D.jsxs("div",{className:"flex items-center gap-2",children:[D.jsx("label",{htmlFor:"end-time",children:"End:"}),D.jsx("input",{type:"text",id:"end-time",value:w,onChange:J=>I(J.target.value),onBlur:()=>Y("end"),onKeyDown:J=>oe(J,"end"),className:"w-24 bg-gray-700 p-1 rounded text-center font-mono"})]})]}),D.jsxs("div",{className:"flex justify-center items-center gap-2 text-sm",children:[D.jsx("label",{htmlFor:"fps-input",children:"Export FPS:"}),D.jsx("input",{type:"number",id:"fps-input",value:U,onChange:J=>G(Math.max(0,parseInt(J.target.value,10))||0),className:"w-20 bg-gray-700 p-1 rounded text-center",min:"1"})]})]}),_&&D.jsxs("div",{className:"mt-4",children:[D.jsx("div",{className:"w-full bg-gray-700 rounded-full h-2.5",children:D.jsx("div",{className:"bg-green-500 h-2.5 rounded-full",style:{width:`${T}%`}})}),D.jsxs("p",{className:"text-center text-sm text-gray-400 mt-1",children:["Exporting frames... ",Math.round(T),"%"]})]}),D.jsxs("div",{className:"text-center mt-4 flex gap-4 justify-center flex-wrap",children:[D.jsxs("a",{href:i,download:"animated-collage.mp4",className:"bg-green-600 text-white font-bold py-2 px-6 rounded-lg shadow-lg transition-all duration-300 hover:bg-green-500 inline-flex items-center justify-center gap-2",children:[D.jsx(mm,{}),"Download Video"]}),D.jsxs("button",{onClick:H,disabled:_,className:"bg-blue-600 text-white font-bold py-2 px-6 rounded-lg shadow-lg transition-all duration-300 hover:bg-blue-500 disabled:bg-gray-600 disabled:opacity-50 inline-flex items-center justify-center gap-2",children:[_?D.jsx(Ri,{}):D.jsx(gm,{}),_?"Exporting...":"Cut & Export Frames"]})]})]})},c1=({onClose:i,onImagesSelected:n,addToCollection:l,cellAspectRatio:a,onOpenCollection:s})=>{const[c,d]=Te.useState("import"),[p,g]=Te.useState(""),[m,v]=Te.useState(null),[_,S]=Te.useState(!1),[T,R]=Te.useState(!1),A=Te.useRef(null),M=G=>{const B=G.target.files;if(!B||B.length===0)return;const K=Array.from(B).map(H=>new Promise((j,Y)=>{const oe=new FileReader;oe.onload=ye=>{var L;(L=ye.target)!=null&&L.result?j(ye.target.result):Y(new Error("FileReader event target is null"))},oe.onerror=()=>Y(oe.error||new Error(`Failed to read file: ${H.name}`)),oe.readAsDataURL(H)}));Promise.all(K).then(H=>{H.length>0&&n(H)}).catch(H=>{console.error("Error reading files:",H),alert(`An error occurred while reading files: ${H.message}`)})},w=G=>{var K;const B=(K=G.target.files)==null?void 0:K[0];if(B){const H=new FileReader;H.onload=j=>{var Y;if((Y=j.target)!=null&&Y.result){const oe=j.target.result;v({base64:oe,mimeType:B.type}),l(oe)}},H.readAsDataURL(B)}},I=async()=>{if(p){R(!0);try{const G=await jC(p);g(G)}catch(G){console.error("Failed to enhance prompt",G)}finally{R(!1)}}},U=async()=>{if(p){S(!0);try{const G={"1:1":1,"3:4":.75,"4:3":1.33,"9:16":.56,"16:9":1.77},B=Object.keys(G).reduce((H,j)=>Math.abs(G[j]-a)<Math.abs(G[H]-a)?j:H),K=await e1(p,B,m??void 0);n([K])}catch{alert("Failed to generate image. Check the console for details.")}finally{S(!1)}}};return D.jsx("div",{className:"fixed inset-0 bg-black/70 flex items-center justify-center z-50 p-4",children:D.jsxs("div",{className:"bg-gray-800 rounded-lg shadow-xl w-full max-w-2xl text-white relative animate-fade-in-up",children:[D.jsx("button",{onClick:i,className:"absolute top-3 right-3 text-gray-400 hover:text-white transition-colors z-10",children:D.jsx(Au,{})}),D.jsxs("div",{className:"p-6",children:[D.jsxs("div",{className:"flex border-b border-gray-700 mb-4",children:[D.jsx("button",{onClick:()=>d("import"),className:`py-2 px-4 text-lg font-semibold ${c==="import"?"text-indigo-400 border-b-2 border-indigo-400":"text-gray-400"}`,children:"Import"}),D.jsx("button",{onClick:()=>d("generate"),className:`py-2 px-4 text-lg font-semibold ${c==="generate"?"text-indigo-400 border-b-2 border-indigo-400":"text-gray-400"}`,children:"Generate"})]}),c==="import"&&D.jsxs("div",{className:"space-y-4",children:[D.jsx("h3",{className:"text-xl font-bold",children:"Upload Image(s)"}),D.jsx("input",{type:"file",accept:"image/*",multiple:!0,onChange:M,className:"hidden",ref:A}),D.jsxs("button",{onClick:()=>{var G;return(G=A.current)==null?void 0:G.click()},className:"w-full flex flex-col items-center justify-center gap-2 bg-gray-700 p-8 rounded-lg border-2 border-dashed border-gray-600 hover:border-indigo-500 transition-colors",children:[D.jsx(fu,{className:"w-10 h-10 text-gray-400"}),D.jsx("span",{className:"text-gray-300",children:"Click to upload or drag & drop"}),D.jsx("span",{className:"text-gray-500 text-sm",children:"Select multiple files to fill empty cells"})]}),D.jsxs("div",{className:"flex items-center gap-2",children:[D.jsx("hr",{className:"flex-grow border-gray-600"})," ",D.jsx("span",{className:"text-gray-500",children:"OR"})," ",D.jsx("hr",{className:"flex-grow border-gray-600"})]}),D.jsxs("button",{onClick:s,className:"w-full flex items-center justify-center gap-2 bg-gray-700 p-4 rounded-lg border border-gray-600 hover:border-indigo-500 transition-colors",children:[D.jsx(v0,{className:"w-6 h-6 text-gray-400"}),D.jsx("span",{className:"text-gray-300 font-semibold",children:"Choose from Collection"})]})]}),c==="generate"&&D.jsxs("div",{className:"space-y-4",children:[D.jsx("h3",{className:"text-xl font-bold",children:"Generate Image with AI"}),D.jsxs("div",{children:[D.jsx("textarea",{value:p,onChange:G=>g(G.target.value),placeholder:"e.g., A majestic cat astronaut floating in space, vibrant nebula background, digital art",className:"w-full bg-gray-700 p-2 rounded-md border border-gray-600 h-24 resize-none focus:ring-2 focus:ring-indigo-500 focus:outline-none"}),D.jsxs("button",{onClick:I,disabled:T||!p,className:"mt-2 text-sm text-indigo-400 hover:text-indigo-300 disabled:opacity-50 disabled:cursor-not-allowed flex items-center gap-1",children:[T?D.jsx(Ri,{className:"w-4 h-4"}):D.jsx(pm,{className:"w-4 h-4"}),T?"Enhancing...":"Enhance Prompt"]})]}),D.jsxs("div",{className:"flex items-center gap-4",children:[D.jsx("input",{type:"file",accept:"image/*",onChange:w,id:"ref-image-upload",className:"hidden"}),D.jsx("label",{htmlFor:"ref-image-upload",className:"flex-1 cursor-pointer text-center bg-gray-700 p-3 rounded-md border border-gray-600 hover:border-indigo-500 transition-colors",children:m?"Change Reference Image":"Add Reference Image (Optional)"}),m&&D.jsx("img",{src:m.base64,alt:"reference",className:"w-16 h-16 rounded-md object-cover"})]}),D.jsxs("button",{onClick:U,disabled:_||!p,className:"w-full bg-indigo-600 font-bold py-3 rounded-lg hover:bg-indigo-500 transition-colors disabled:bg-gray-600 disabled:opacity-50 flex items-center justify-center gap-2",children:[_?D.jsx(Ri,{}):D.jsx(hm,{}),_?"Generating...":"Generate"]})]})]})]})})},f1=({imageSrc:i,aspectRatio:n,onClose:l,onCrop:a,processor:s})=>{const[c,d]=Te.useState("auto"),[p,g]=Te.useState(!1),[m,v]=Te.useState(i),[_,S]=Te.useState({width:0,height:0}),[T,R]=Te.useState({x:0,y:0,width:0,height:0}),[A,M]=Te.useState("#FFFFFF"),[w,I]=Te.useState("#FFFFFF"),[U,G]=Te.useState(!1),B=Te.useRef(null),K=Te.useRef(null),H=Te.useRef(null);Te.useEffect(()=>{const Z=new Image;Z.src=m,Z.onload=()=>{S({width:Z.width,height:Z.height}),R({x:0,y:0,width:Z.width,height:Z.height})}},[m]);const j=async Z=>{if(m){g(!0);try{const de=await Z(m);v(de)}catch(de){console.error("Image processing action failed:",de),alert("An error occurred during image processing.")}finally{g(!1)}}},Y=Z=>j(de=>s.flipImage(de,Z)),oe=Z=>j(de=>s.autoCrop(de,Z)),ye=async()=>{g(!0);try{let Z=m;if(c==="manual"){const b={x:Math.round(T.x),y:Math.round(T.y),width:Math.round(T.width),height:Math.round(T.height)};b.width>0&&b.height>0&&(Z=await s.manualCrop(m,b))}const de=await s.letterboxImage(Z,n,A);a(de)}catch(Z){console.error("Failed to finalize image:",Z),alert("Failed to finalize image.")}finally{g(!1)}},L=Z=>{if(!U||!B.current)return;const de=document.createElement("canvas"),b=B.current;de.width=b.naturalWidth,de.height=b.naturalHeight;const k=de.getContext("2d");if(!k)return;k.drawImage(b,0,0);const ne=b.getBoundingClientRect(),ie=Z.clientX-ne.left,se=Z.clientY-ne.top,Ce=b.naturalWidth/ne.width,Ue=b.naturalHeight/ne.height,Re=k.getImageData(ie*Ce,se*Ue,1,1).data,Ne=`#${("000000"+(Re[0]<<16|Re[1]<<8|Re[2]).toString(16)).slice(-6)}`;I(Ne),G(!1)},le=async()=>{if(!("EyeDropper"in window)){alert("Your browser doesn't support the Eyedropper API.");return}try{const de=await new window.EyeDropper().open();M(de.sRGBHex)}catch{console.log("Eyedropper was canceled.")}},x=Z=>"touches"in Z?{x:Z.touches[0].clientX,y:Z.touches[0].clientY}:{x:Z.clientX,y:Z.clientY},J=(Z,de)=>{if(Z.preventDefault(),Z.stopPropagation(),!K.current)return;const{x:b,y:k}=x(Z.nativeEvent);H.current={type:de,startX:b,startY:k,startBox:{...T}},window.addEventListener("mousemove",V),window.addEventListener("mouseup",F),window.addEventListener("touchmove",V),window.addEventListener("touchend",F)},V=Te.useCallback(Z=>{if(!H.current||!K.current||!B.current)return;const{type:de,startX:b,startY:k,startBox:ne}=H.current,{x:ie,y:se}=x(Z),Ce=ie-b,Ue=se-k,Re=B.current.getBoundingClientRect(),Ne=_.width/Re.width,je=_.height/Re.height;let be={...ne};const pt=Ce*Ne,ct=Ue*je;de==="move"?(be.x=ne.x+pt,be.y=ne.y+ct):(de.includes("l")&&(be.x=ne.x+pt,be.width=ne.width-pt),de.includes("r")&&(be.width=ne.width+pt),de.includes("t")&&(be.y=ne.y+ct,be.height=ne.height-ct),de.includes("b")&&(be.height=ne.height+ct)),be.width<0&&(be.x+=be.width,be.width=Math.abs(be.width)),be.height<0&&(be.y+=be.height,be.height=Math.abs(be.height)),be.x=Math.max(0,Math.min(be.x,_.width-be.width)),be.y=Math.max(0,Math.min(be.y,_.height-be.height)),be.width=Math.min(be.width,_.width-be.x),be.height=Math.min(be.height,_.height-be.y),R(be)},[_]),F=Te.useCallback(()=>{H.current=null,window.removeEventListener("mousemove",V),window.removeEventListener("mouseup",F),window.removeEventListener("touchmove",V),window.removeEventListener("touchend",F)},[V]),me=K.current&&B.current?B.current.clientWidth/_.width:1;return D.jsx("div",{className:"fixed inset-0 bg-black/70 flex items-center justify-center z-50 p-4",children:D.jsx("div",{className:"bg-gray-800 rounded-lg shadow-xl w-full max-w-5xl text-white animate-fade-in-up",children:D.jsxs("div",{className:"p-6 flex flex-col md:flex-row gap-6 h-[90vh] max-h-[1000px]",children:[D.jsxs("div",{className:"w-full md:w-64 flex-shrink-0 flex flex-col gap-4",children:[D.jsx("h3",{className:"text-xl font-bold",children:"Edit Image"}),D.jsxs("div",{className:"flex bg-gray-700 rounded-md p-1",children:[D.jsx("button",{onClick:()=>d("auto"),className:`flex-1 p-2 rounded text-sm font-semibold ${c==="auto"?"bg-indigo-600":"hover:bg-gray-600"}`,children:"Auto Tools"}),D.jsx("button",{onClick:()=>d("manual"),className:`flex-1 p-2 rounded text-sm font-semibold ${c==="manual"?"bg-indigo-600":"hover:bg-gray-600"}`,children:"Manual Crop"})]}),c==="auto"&&D.jsxs("div",{className:"space-y-3",children:[D.jsxs("button",{onClick:()=>Y("horizontal"),className:"w-full p-2 bg-gray-700 rounded-md hover:bg-gray-600 flex items-center justify-center gap-2",children:[D.jsx(E0,{})," Flip Horizontal"]}),D.jsxs("button",{onClick:()=>Y("vertical"),className:"w-full p-2 bg-gray-700 rounded-md hover:bg-gray-600 flex items-center justify-center gap-2",children:[D.jsx(C0,{})," Flip Vertical"]}),D.jsxs("button",{onClick:()=>oe(),className:"w-full p-2 bg-gray-700 rounded-md hover:bg-gray-600 flex items-center justify-center gap-2",title:"Cut Transparent BG",children:[D.jsx(gm,{className:"w-5 h-5"})," Auto-Cut"]}),D.jsxs("div",{className:"p-2 bg-gray-700 rounded-md flex items-center justify-between",children:[D.jsx("span",{children:"Cut by Color"}),D.jsxs("div",{className:"flex items-center gap-1",children:[D.jsx("button",{onClick:()=>G(!0),title:"Eyedropper",children:D.jsx(du,{className:U?"text-indigo-400":""})}),D.jsx("input",{type:"color",value:w,onChange:Z=>I(Z.target.value),className:"bg-transparent w-6 h-6 p-0 border-none cursor-pointer",title:"Crop Color"}),D.jsx("button",{onClick:()=>oe(w),className:"text-sm font-semibold hover:text-indigo-300",children:"Cut"})]})]})]}),c==="manual"&&D.jsx("div",{className:"space-y-2 text-sm",children:D.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[D.jsxs("div",{children:[D.jsx("label",{children:"X:"}),D.jsx("input",{type:"number",value:Math.round(T.x),onChange:Z=>R(de=>({...de,x:+Z.target.value})),className:"w-full bg-gray-900 p-1 rounded"})]}),D.jsxs("div",{children:[D.jsx("label",{children:"Y:"}),D.jsx("input",{type:"number",value:Math.round(T.y),onChange:Z=>R(de=>({...de,y:+Z.target.value})),className:"w-full bg-gray-900 p-1 rounded"})]}),D.jsxs("div",{children:[D.jsx("label",{children:"Width:"}),D.jsx("input",{type:"number",value:Math.round(T.width),onChange:Z=>R(de=>({...de,width:+Z.target.value})),className:"w-full bg-gray-900 p-1 rounded"})]}),D.jsxs("div",{children:[D.jsx("label",{children:"Height:"}),D.jsx("input",{type:"number",value:Math.round(T.height),onChange:Z=>R(de=>({...de,height:+Z.target.value})),className:"w-full bg-gray-900 p-1 rounded"})]})]})}),D.jsxs("div",{className:"mt-auto space-y-4",children:[D.jsxs("div",{className:"flex items-center gap-2 p-2 bg-gray-700 rounded-md",children:[D.jsx("label",{htmlFor:"bg-color",className:"text-sm",children:"Final BG:"}),D.jsx("input",{id:"bg-color",type:"color",value:A,onChange:Z=>M(Z.target.value),className:"bg-transparent w-6 h-6 p-0 border-none cursor-pointer",title:"Background Color for Letterboxing"}),D.jsx("button",{onClick:le,title:"Pick BG Color",className:"p-1 hover:bg-gray-600 rounded",children:D.jsx(du,{className:"w-5 h-5"})}),D.jsx("span",{className:"text-xs text-gray-400 flex-1 text-right",children:"For cell padding"})]}),D.jsxs("div",{className:"flex gap-2",children:[D.jsx("button",{onClick:l,className:"flex-1 bg-gray-600 font-semibold py-2 px-5 rounded-lg hover:bg-gray-500 transition-colors",children:"Cancel"}),D.jsxs("button",{onClick:ye,disabled:p,className:"flex-1 bg-indigo-600 font-semibold py-2 px-5 rounded-lg hover:bg-indigo-500 transition-colors flex items-center justify-center gap-2",children:[p?D.jsx(Ri,{className:"w-5 h-5"}):D.jsx(ym,{className:"w-5 h-5"})," Confirm"]})]})]})]}),D.jsxs("div",{className:"flex-1 bg-gray-900 rounded-md flex items-center justify-center overflow-hidden relative",ref:K,children:[p&&D.jsx("div",{className:"absolute inset-0 bg-black/50 flex items-center justify-center z-30",children:D.jsx(Ri,{className:"w-12 h-12"})}),D.jsx("img",{ref:B,src:m,alt:"Image to crop",className:`max-w-full max-h-full block ${U?"cursor-crosshair":""}`,onClick:L}),c==="manual"&&_.width>0&&D.jsxs("div",{className:"absolute z-10",style:{left:T.x*me,top:T.y*me,width:T.width*me,height:T.height*me,boxShadow:"0 0 0 9999px rgba(0,0,0,0.7)",outline:"1px solid rgba(255,255,255,0.8)"},children:[D.jsx("div",{onMouseDown:Z=>J(Z,"move"),onTouchStart:Z=>J(Z,"move"),className:"absolute inset-0 cursor-move"}),D.jsx("div",{onMouseDown:Z=>J(Z,"tl"),onTouchStart:Z=>J(Z,"tl"),className:"absolute -top-2 -left-2 w-4 h-4 bg-white rounded-full cursor-nwse-resize border-2 border-gray-800"}),D.jsx("div",{onMouseDown:Z=>J(Z,"tr"),onTouchStart:Z=>J(Z,"tr"),className:"absolute -top-2 -right-2 w-4 h-4 bg-white rounded-full cursor-nesw-resize border-2 border-gray-800"}),D.jsx("div",{onMouseDown:Z=>J(Z,"bl"),onTouchStart:Z=>J(Z,"bl"),className:"absolute -bottom-2 -left-2 w-4 h-4 bg-white rounded-full cursor-nesw-resize border-2 border-gray-800"}),D.jsx("div",{onMouseDown:Z=>J(Z,"br"),onTouchStart:Z=>J(Z,"br"),className:"absolute -bottom-2 -right-2 w-4 h-4 bg-white rounded-full cursor-nwse-resize border-2 border-gray-800"})]})]})]})})})},d1=({collection:i,onClose:n,onImageSelect:l})=>D.jsx("div",{className:"fixed inset-0 bg-black/70 flex items-center justify-center z-[60] p-4",children:D.jsxs("div",{className:"bg-gray-800 rounded-lg shadow-xl w-full max-w-4xl h-[80vh] text-white relative animate-fade-in-up flex flex-col",children:[D.jsxs("div",{className:"p-4 border-b border-gray-700 flex justify-between items-center",children:[D.jsx("h2",{className:"text-xl font-bold",children:"Your Collection"}),D.jsx("button",{onClick:n,className:"text-gray-400 hover:text-white transition-colors",children:D.jsx(Au,{})})]}),i.length===0?D.jsx("div",{className:"flex-1 flex items-center justify-center",children:D.jsx("p",{className:"text-gray-400",children:"Your collection is empty. Add or generate images!"})}):D.jsx("div",{className:"flex-1 overflow-y-auto p-4",children:D.jsx("div",{className:"grid grid-cols-3 sm:grid-cols-4 md:grid-cols-5 lg:grid-cols-6 gap-4",children:i.map((a,s)=>D.jsxs("div",{className:"relative aspect-square rounded-md overflow-hidden group cursor-pointer",onClick:()=>l(a),children:[D.jsx("img",{src:a,alt:`collection item ${s+1}`,className:"w-full h-full object-cover"}),D.jsx("div",{className:"absolute inset-0 bg-black/60 opacity-0 group-hover:opacity-100 transition-opacity flex items-center justify-center",children:D.jsx(ym,{className:"w-8 h-8 text-white"})})]},s))})})]})}),h1=({width:i,height:n,padding:l,backgroundColor:a,onClose:s,onSave:c})=>{const[d,p]=Te.useState(i),[g,m]=Te.useState(n),[v,_]=Te.useState(l),[S,T]=Te.useState(a),R=()=>{c(d,g,v,S),s()},A=async()=>{if(!("EyeDropper"in window)){alert("Your browser doesn't support the Eyedropper API.");return}try{const w=await new window.EyeDropper().open();T(w.sRGBHex)}catch{console.log("Eyedropper was canceled.")}};return D.jsx("div",{className:"fixed inset-0 bg-black/70 flex items-center justify-center z-50 p-4",children:D.jsxs("div",{className:"bg-gray-800 rounded-lg shadow-xl w-full max-w-md text-white relative animate-fade-in-up",children:[D.jsx("button",{onClick:s,className:"absolute top-3 right-3 text-gray-400 hover:text-white transition-colors z-10",children:D.jsx(Au,{})}),D.jsxs("div",{className:"p-6",children:[D.jsx("h2",{className:"text-xl font-bold mb-4",children:"Mixer Settings"}),D.jsx("p",{className:"text-gray-400 mb-6",children:"Set the dimensions, padding, and background for the final mixed image."}),D.jsxs("div",{className:"space-y-4",children:[D.jsxs("div",{className:"flex items-center gap-2",children:[D.jsx("label",{htmlFor:"mix-width",className:"text-gray-300 font-medium w-24",children:"Width:"}),D.jsx("input",{type:"number",id:"mix-width",value:d,onChange:M=>p(Math.max(100,parseInt(M.target.value,10)||0)),className:"flex-1 bg-gray-700 text-white p-2 rounded-md border border-gray-600 focus:ring-2 focus:ring-indigo-500 focus:outline-none",min:"100"})]}),D.jsxs("div",{className:"flex items-center gap-2",children:[D.jsx("label",{htmlFor:"mix-height",className:"text-gray-300 font-medium w-24",children:"Height:"}),D.jsx("input",{type:"number",id:"mix-height",value:g,onChange:M=>m(Math.max(100,parseInt(M.target.value,10)||0)),className:"flex-1 bg-gray-700 text-white p-2 rounded-md border border-gray-600 focus:ring-2 focus:ring-indigo-500 focus:outline-none",min:"100"})]}),D.jsxs("div",{className:"flex items-center gap-2",children:[D.jsx("label",{htmlFor:"mix-padding",className:"text-gray-300 font-medium w-24",children:"Padding:"}),D.jsx("input",{type:"number",id:"mix-padding",value:v,onChange:M=>_(Math.max(0,parseInt(M.target.value,10)||0)),className:"flex-1 bg-gray-700 text-white p-2 rounded-md border border-gray-600 focus:ring-2 focus:ring-indigo-500 focus:outline-none",min:"0"})]}),D.jsxs("div",{className:"flex items-center gap-2",children:[D.jsx("label",{htmlFor:"mix-bg",className:"text-gray-300 font-medium w-24",children:"Background:"}),D.jsx("input",{type:"color",id:"mix-bg",value:S,onChange:M=>T(M.target.value),className:"p-1 h-10 w-14 block bg-gray-700 border border-gray-600 cursor-pointer rounded-md",title:"Background Color"}),D.jsx("button",{onClick:A,title:"Pick Background Color",className:"p-2 bg-gray-700 rounded-md hover:bg-gray-600 transition-colors",children:D.jsx(du,{})})]})]}),D.jsxs("div",{className:"mt-6 flex justify-end gap-2",children:[D.jsx("button",{onClick:s,className:"bg-gray-600 font-semibold py-2 px-5 rounded-lg hover:bg-gray-500 transition-colors",children:"Cancel"}),D.jsx("button",{onClick:R,className:"bg-indigo-600 font-semibold py-2 px-5 rounded-lg hover:bg-indigo-500 transition-colors",children:"Save"})]})]})]})})},Ym=document.getElementById("root");if(!Ym)throw new Error("Could not find root element to mount to");const p1=g0.createRoot(Ym);p1.render(D.jsx(s0.StrictMode,{children:D.jsx(u1,{})}));
